<!-- Discounts Table Card -->
<div
  class="p-5 space-y-4 flex flex-col bg-white border border-stone-200 shadow-2xs rounded-xl dark:bg-neutral-800 dark:border-neutral-700">
  <!-- Filter Group -->
  <div class="grid md:grid-cols-2 gap-y-2 md:gap-y-0 md:gap-x-5">
    <div>
      <!-- Search Input -->
      <div class="relative">
        <div class="absolute inset-y-0 start-0 flex items-center pointer-events-none z-20 ps-3.5">
          <svg class="shrink-0 size-4 text-stone-500 dark:text-neutral-400" xmlns="http://www.w3.org/2000/svg"
            width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            stroke-linecap="round" stroke-linejoin="round">
            <circle cx="11" cy="11" r="8" />
            <path d="m21 21-4.3-4.3" />
          </svg>
        </div>
        <input type="text"
          class="py-1.5 sm:py-2 ps-10 pe-8 block w-full min-w-75 bg-stone-100 border-transparent rounded-lg sm:text-sm placeholder:text-stone-500 focus:bg-white focus:border-green-500 focus:ring-green-600 checked:border-green-600 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-700 dark:border-transparent dark:text-neutral-400 dark:placeholder:text-neutral-400 dark:focus:bg-neutral-800 dark:focus:ring-neutral-600"
          placeholder="Search students">
        <div class="hidden absolute inset-y-0 end-0 flex items-center z-20 pe-1">
          <button type="button"
            class="inline-flex shrink-0 justify-center items-center size-6 rounded-full text-gray-500 hover:text-blue-600 focus:outline-hidden focus:text-blue-600 dark:text-neutral-500 dark:hover:text-blue-500 dark:focus:text-blue-500"
            aria-label="Close">
            <span class="sr-only">Close</span>
            <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
              fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="10" />
              <path d="m15 9-6 6" />
              <path d="m9 9 6 6" />
            </svg>
          </button>
        </div>
      </div>
      <!-- End Search Input -->
    </div>
    <!-- End Col -->

    <div class="flex flex-wrap md:justify-end items-center gap-2">
      <!-- Export Button -->
      <button type="button"
        class="py-2 px-2.5 inline-flex items-center gap-x-1.5 text-xs font-medium rounded-lg border border-stone-200 bg-white text-stone-800 shadow-2xs hover:bg-stone-50 disabled:opacity-50 disabled:pointer-events-none focus:outline-hidden focus:bg-stone-100 dark:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-300 dark:hover:bg-neutral-700 dark:focus:bg-neutral-700"
        data-hs-overlay="#hs-pro-epfo">
        Export
        <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
          fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M7 7h10v10" />
          <path d="M7 17 17 7" />
        </svg>
      </button>
      <!-- End Export Button -->
    </div>
    <!-- End Col -->
  </div>
  <!-- End Filter Group -->

  <!-- Table Section -->
  <div
    class="overflow-x-auto [&::-webkit-scrollbar]:h-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:bg-stone-100 [&::-webkit-scrollbar-thumb]:bg-stone-300 dark:[&::-webkit-scrollbar-track]:bg-neutral-700 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500">
    <div class="min-w-full inline-block align-middle">
      <!-- Table -->
      <table class="min-w-full divide-y divide-stone-200 dark:divide-neutral-700">
        <thead>
          <tr class="border-t border-stone-200 dark:border-neutral-700">
            <th scope="col" class="min-w-62.5">
              <!-- Sort Dropdown -->
              <div class="hs-dropdown relative inline-flex w-full cursor-pointer">
                <button id="hs-pro-eptits" type="button"
                  class="px-4 py-2.5 text-start w-full flex items-center gap-x-1 text-sm font-normal text-stone-500 focus:outline-hidden focus:bg-stone-100 dark:text-neutral-500 dark:focus:bg-neutral-700"
                  aria-haspopup="menu" aria-expanded="false" aria-label="Dropdown">
                  Student
                  <svg class="shrink-0 size-3.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round">
                    <path d="m7 15 5 5 5-5" />
                    <path d="m7 9 5-5 5 5" />
                  </svg>
                </button>

                {% include 'src/simba/partials/dropdowns/table_sort.html' %}
              </div>
              <!-- End Sort Dropdown -->
            </th>

            <th scope="col" class="min-w-36">
              <!-- Sort Dropdown -->
              <div class="hs-dropdown relative inline-flex w-full cursor-pointer">
                <button id="hs-pro-epttys" type="button"
                  class="px-4 py-2.5 text-start w-full flex items-center gap-x-1 text-sm font-normal text-stone-500 focus:outline-hidden focus:bg-stone-100 dark:text-neutral-500 dark:focus:bg-neutral-700"
                  aria-haspopup="menu" aria-expanded="false" aria-label="Dropdown">
                  Score (%)
                  <svg class="shrink-0 size-3.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round">
                    <path d="m7 15 5 5 5-5" />
                    <path d="m7 9 5-5 5 5" />
                  </svg>
                </button>

                {% include 'src/simba/partials/dropdowns/table_sort.html' %}
              </div>
              <!-- End Sort Dropdown -->
            </th>

            <th scope="col">
              <!-- Sort Dropdown -->
              <div class="hs-dropdown relative inline-flex w-full cursor-pointer">
                <button id="hs-pro-eptsts" type="button"
                  class="px-4 py-2.5 text-start w-full flex items-center gap-x-1 text-sm font-normal text-stone-500 focus:outline-hidden focus:bg-stone-100 dark:text-neutral-500 dark:focus:bg-neutral-700"
                  aria-haspopup="menu" aria-expanded="false" aria-label="Dropdown">
                  Accuracy
                  <svg class="shrink-0 size-3.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round">
                    <path d="m7 15 5 5 5-5" />
                    <path d="m7 9 5-5 5 5" />
                  </svg>
                </button>

                {% include 'src/simba/partials/dropdowns/table_sort.html' %}
              </div>
              <!-- End Sort Dropdown -->
            </th>

            <th scope="col">
              <!-- Sort Dropdown -->
              <div class="hs-dropdown relative inline-flex w-full cursor-pointer">
                <button id="hs-pro-eptsks" type="button"
                  class="px-4 py-2.5 text-start w-full flex items-center gap-x-1 text-sm font-normal text-stone-500 focus:outline-hidden focus:bg-stone-100 dark:text-neutral-500 dark:focus:bg-neutral-700"
                  aria-haspopup="menu" aria-expanded="false" aria-label="Dropdown">
                  Correct
                  <svg class="shrink-0 size-3.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round">
                    <path d="m7 15 5 5 5-5" />
                    <path d="m7 9 5-5 5 5" />
                  </svg>
                </button>

                {% include 'src/simba/partials/dropdowns/table_sort.html' %}
              </div>
              <!-- End Sort Dropdown -->
            </th>

            <th scope="col">
              <!-- Sort Dropdown -->
              <div class="hs-dropdown relative inline-flex w-full cursor-pointer">
                <button id="hs-pro-eptprs" type="button"
                  class="px-4 py-2.5 text-start w-full flex items-center gap-x-1 text-sm font-normal text-stone-500 focus:outline-hidden focus:bg-stone-100 dark:text-neutral-500 dark:focus:bg-neutral-700"
                  aria-haspopup="menu" aria-expanded="false" aria-label="Dropdown">
                  Incorrect
                  <svg class="shrink-0 size-3.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round">
                    <path d="m7 15 5 5 5-5" />
                    <path d="m7 9 5-5 5 5" />
                  </svg>
                </button>

                {% include 'src/simba/partials/dropdowns/table_sort.html' %}
              </div>
              <!-- End Sort Dropdown -->
            </th>

            <th scope="col">
              <!-- Sort Dropdown -->
              <div class="hs-dropdown relative inline-flex w-full cursor-pointer">
                <button id="hs-pro-eptai" type="button"
                  class="px-4 py-2.5 text-start w-full flex items-center gap-x-1 text-sm font-normal text-stone-500 focus:outline-hidden focus:bg-stone-100 dark:text-neutral-500 dark:focus:bg-neutral-700"
                  aria-haspopup="menu" aria-expanded="false" aria-label="Dropdown">
                  Unanswered
                  <svg class="shrink-0 size-3.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round">
                    <path d="m7 15 5 5 5-5" />
                    <path d="m7 9 5-5 5 5" />
                  </svg>
                </button>

                {% include 'src/simba/partials/dropdowns/table_sort.html' %}
              </div>
              <!-- End Sort Dropdown -->
            </th>

            <th class="min-w-40" scope="col">
              <!-- Sort Dropdown -->
              <div class="hs-dropdown relative inline-flex w-full cursor-pointer">
                <button id="hs-pro-eptprs" type="button"
                  class="px-4 py-2.5 text-start w-full flex items-center gap-x-1 text-sm font-normal text-stone-500 focus:outline-hidden focus:bg-stone-100 dark:text-neutral-500 dark:focus:bg-neutral-700"
                  aria-haspopup="menu" aria-expanded="false" aria-label="Dropdown">
                  Completed At
                  <svg class="shrink-0 size-3.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round">
                    <path d="m7 15 5 5 5-5" />
                    <path d="m7 9 5-5 5 5" />
                  </svg>
                </button>

                {% include 'src/simba/partials/dropdowns/table_sort.html' %}
              </div>
              <!-- End Sort Dropdown -->
            </th>

            <th scope="col"></th>
          </tr>
        </thead>

        <tbody class="divide-y divide-stone-200 dark:divide-neutral-700">
          {% for attempted_student in daily_test_attempted.attempted_students %}
          <tr>
            <td class="size-px whitespace-nowrap px-4 py-3">
              <div class="w-full flex items-center gap-x-3">
                {% if attempted_student.profile_picture_url %}
                <img class="shrink-0 size-12 rounded-full" src="{{ attempted_student.profile_picture_url }}"
                  alt="Student Image">
                {% else %}
                <span
                  class="flex shrink-0 justify-center items-center size-12 bg-stone-200 text-stone-500 rounded-full dark:bg-neutral-700 dark:text-neutral-400">
                  <svg class="shrink-0 size-6" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round">
                    <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                  </svg>
                </span>
                {% endif %}
                <div class="grow flex items-center gap-x-1.5">
                  <a class="text-sm font-medium text-stone-800 hover:text-green-600 decoration-2 hover:underline focus:outline-hidden focus:underline focus:text-green-600 dark:text-neutral-200 dark:hover:text-green-500 dark:focus:text-green-500"
                    href="{{ '/simba/student_detail'|url }}">
                    {{ attempted_student.student_name }}
                  </a>
                  <div class="hs-dropdown [--auto-close:inside] [--placement:right] inline-block align-middle">
                    <svg id="student-details-{{attempted_student.id}}"
                      class="hs-dropdown-toggle cursor-pointer shrink-0 size-4 text-stone-500 dark:text-neutral-400"
                      aria-expanded="false" aria-label="Student Details" xmlns="http://www.w3.org/2000/svg" width="24"
                      height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                      stroke-linecap="round" stroke-linejoin="round">
                      <circle cx="12" cy="12" r="10"></circle>
                      <path d="M12 16v-4"></path>
                      <path d="M12 8h.01"></path>
                    </svg>
                    <div
                      class="hs-dropdown-menu transition-[opacity,margin] duration hs-dropdown-open:opacity-100 opacity-0 hidden z-10"
                      role="Student Details" aria-labelledby="student-details-{{attempted_student.id}}">
                      <div
                        class="p-4 bg-white border border-stone-200 rounded-xl shadow-xs dark:bg-neutral-900 dark:border-neutral-800">
                        <!-- List -->
                        <div class="grid grid-cols-2 gap-x-3">
                          <div
                            class="py-1 relative overflow-hidden text-sm text-stone-500 text-end sm:text-start after:hidden sm:after:block after:absolute after:top-1/2 after:w-full after:mx-3 after:border-t after:border-dashed after:border-stone-200 dark:text-neutral-500 dark:border-neutral-700 dark:after:border-neutral-700">
                            <span class="relative z-1 pe-2 bg-white dark:bg-neutral-900">Enrollment ID</span>
                          </div>
                          <div class="py-1 text-sm text-stone-800 dark:text-neutral-200">
                            <span id="hs-pro-shmaccl">{{ attempted_student.enrollment_id }}</span>

                            <button type="button"
                              class="js-clipboard [--is-toggle-tooltip:false] hs-tooltip size-4 sm:size-6 shrink-0 inline-flex justify-center items-center gap-x-2 rounded-md text-stone-800 sm:hover:bg-stone-100 disabled:opacity-50 disabled:pointer-events-none focus:outline-hidden sm:focus:bg-stone-100 dark:text-neutral-200 sm:dark:hover:bg-neutral-700"
                              data-clipboard-target="#hs-pro-shmaccl" data-clipboard-action="copy"
                              data-clipboard-success-text="Code copied">
                              <svg class="js-clipboard-default shrink-0 size-3.5" xmlns="http://www.w3.org/2000/svg"
                                width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect width="14" height="14" x="8" y="8" rx="2" ry="2" />
                                <path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2" />
                              </svg>
                              <svg class="js-clipboard-success hidden size-3.5" xmlns="http://www.w3.org/2000/svg"
                                width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="20 6 9 17 4 12"></polyline>
                              </svg>
                              <span
                                class="hs-tooltip-content hs-dropdown-open:opacity-100 hs-dropdown-open:visible opacity-0 transition-opacity hidden invisible z-10 py-1 px-2 bg-stone-900 text-xs font-medium text-white rounded-md shadow-2xs dark:bg-neutral-700"
                                role="tooltip">
                                <span class="js-clipboard-success-text">Copy Enrollment ID</span>
                              </span>
                            </button>
                          </div>

                          <div
                            class="py-1 relative overflow-hidden text-sm text-stone-500 text-end sm:text-start after:hidden sm:after:block after:absolute after:top-1/2 after:w-full after:mx-3 after:border-t after:border-dashed after:border-stone-200 dark:text-neutral-500 dark:border-neutral-700 dark:after:border-neutral-700">
                            <span class="relative z-1 pe-2 bg-white dark:bg-neutral-900">Phone Number</span>
                          </div>
                          <div class="py-1 text-sm text-stone-800 dark:text-neutral-200">
                            <span id="hs-pro-shmaccl-2">{{ attempted_student.phone_number }}</span>
                            <button type="button"
                              class="js-clipboard [--is-toggle-tooltip:false] hs-tooltip size-4 sm:size-6 shrink-0 inline-flex justify-center items-center gap-x-2 rounded-md text-stone-800 sm:hover:bg-stone-100 disabled:opacity-50 disabled:pointer-events-none focus:outline-hidden sm:focus:bg-stone-100 dark:text-neutral-200 sm:dark:hover:bg-neutral-700"
                              data-clipboard-target="#hs-pro-shmaccl-2" data-clipboard-action="copy"
                              data-clipboard-success-text="Code copied">
                              <svg class="js-clipboard-default shrink-0 size-3.5" xmlns="http://www.w3.org/2000/svg"
                                width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect width="14" height="14" x="8" y="8" rx="2" ry="2" />
                                <path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2" />
                              </svg>
                              <svg class="js-clipboard-success hidden size-3.5" xmlns="http://www.w3.org/2000/svg"
                                width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="20 6 9 17 4 12"></polyline>
                              </svg>
                              <span
                                class="hs-tooltip-content hs-dropdown-open:opacity-100 hs-dropdown-open:visible opacity-0 transition-opacity hidden invisible z-10 py-1 px-2 bg-stone-900 text-xs font-medium text-white rounded-md shadow-2xs dark:bg-neutral-700"
                                role="tooltip">
                                <span class="js-clipboard-success-text">Copy Phone Number</span>
                              </span>
                            </button>
                          </div>

                          <div
                            class="py-1 relative overflow-hidden text-sm text-stone-500 text-end sm:text-start after:hidden sm:after:block after:absolute after:top-1/2 after:w-full after:mx-3 after:border-t after:border-dashed after:border-stone-200 dark:text-neutral-500 dark:border-neutral-700 dark:after:border-neutral-700">
                            <span class="relative z-1 pe-2 bg-white dark:bg-neutral-900">Email</span>
                          </div>
                          <div class="py-1 text-sm text-stone-800 dark:text-neutral-200">
                            <span id="hs-pro-shmaccl-3">{{ attempted_student.email }}</span>
                            <button type="button"
                              class="js-clipboard [--is-toggle-tooltip:false] hs-tooltip size-4 sm:size-6 shrink-0 inline-flex justify-center items-center gap-x-2 rounded-md text-stone-800 sm:hover:bg-stone-100 disabled:opacity-50 disabled:pointer-events-none focus:outline-hidden sm:focus:bg-stone-100 dark:text-neutral-200 sm:dark:hover:bg-neutral-700"
                              data-clipboard-target="#hs-pro-shmaccl-3" data-clipboard-action="copy"
                              data-clipboard-success-text="Code copied">
                              <svg class="js-clipboard-default shrink-0 size-3.5" xmlns="http://www.w3.org/2000/svg"
                                width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect width="14" height="14" x="8" y="8" rx="2" ry="2" />
                                <path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2" />
                              </svg>
                              <svg class="js-clipboard-success hidden size-3.5" xmlns="http://www.w3.org/2000/svg"
                                width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="20 6 9 17 4 12"></polyline>
                              </svg>
                              <span
                                class="hs-tooltip-content hs-dropdown-open:opacity-100 hs-dropdown-open:visible opacity-0 transition-opacity hidden invisible z-10 py-1 px-2 bg-stone-900 text-xs font-medium text-white rounded-md shadow-2xs dark:bg-neutral-700"
                                role="tooltip">
                                <span class="js-clipboard-success-text">Copy link</span>
                              </span>
                            </button>
                          </div>
                        </div>
                        <!-- End List -->
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </td>
            <td class="size-px whitespace-nowrap px-4 py-3">
              <span class="font-semibold text-sm text-stone-800 dark:text-neutral-200">
                {{ attempted_student.score_percentage }}%
              </span>
            </td>
            <td class="size-px whitespace-nowrap px-4 py-3">
              <span class="text-sm text-stone-600 dark:text-neutral-400">
                {{ attempted_student.accuracy_percentage }}%
              </span>
            </td>
            <td class="size-px whitespace-nowrap px-4 py-3">
              <span class="text-sm text-stone-600 dark:text-neutral-400">
                {{ attempted_student.correct_count }}
              </span>
            </td>
            <td class="size-px whitespace-nowrap px-4 py-3">
              <span class="text-sm text-stone-600 dark:text-neutral-400">
                {{ attempted_student.incorrect_count }}
              </span>
            </td>
            <td class="size-px whitespace-nowrap px-4 py-3">
              <span class="text-sm text-stone-600 dark:text-neutral-400">
                {{ attempted_student.unanswered_count }}
              </span>
            </td>
            <td class="size-px whitespace-nowrap px-4 py-3">
              <span class="text-sm text-stone-600 dark:text-neutral-400">
                {{ attempted_student.completed_at }}
              </span>
            </td>
            <td class="size-px whitespace-nowrap px-4 py-3">
              <a class="inline-flex items-center gap-x-1 text-sm text-green-700 underline underline-offset-2 hover:decoration-2 focus:outline-hidden focus:decoration-2 disabled:opacity-50 disabled:pointer-events-none dark:text-green-400"
                href="#" target="_parent" aria-label="Open this studentâ€™s attempt report in Testpress">
                Open Report
                <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                  stroke-width="1.5" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round"
                    d="M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25">
                  </path>
                </svg>
              </a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
      <!-- End Table -->
    </div>
  </div>
  <!-- End Table Section -->

  {% include 'src/simba/partials/pagination.html' %}
</div>
<!-- End Students Table Card -->