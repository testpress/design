<!-- Referral Users Table Card -->
<div
  class="p-5 space-y-4 flex flex-col bg-white border border-stone-200 shadow-2xs rounded-xl dark:bg-neutral-800 dark:border-neutral-700">
  <!-- Filter Group -->
  <div class="grid md:grid-cols-2 gap-y-2 md:gap-y-0 md:gap-x-5">
    <div>
      <!-- Search Input -->
      <div class="relative">
        <div class="absolute inset-y-0 start-0 flex items-center pointer-events-none z-20 ps-3.5">
          <svg class="shrink-0 size-4 text-stone-500 dark:text-neutral-400" xmlns="http://www.w3.org/2000/svg"
            width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            stroke-linecap="round" stroke-linejoin="round">
            <circle cx="11" cy="11" r="8" />
            <path d="m21 21-4.3-4.3" />
          </svg>
        </div>
        <input type="text"
          class="py-1.5 sm:py-2 ps-10 pe-8 block w-full min-w-75 bg-stone-100 border-transparent rounded-lg sm:text-sm placeholder:text-stone-500 focus:bg-white focus:border-green-500 focus:ring-green-600 checked:border-green-600 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-700 dark:border-transparent dark:text-neutral-400 dark:placeholder:text-neutral-400 dark:focus:bg-neutral-800 dark:focus:ring-neutral-600"
          placeholder="Search staff">
        <div class="hidden absolute inset-y-0 end-0 flex items-center pointer-events-none z-20 pe-1">
          <button type="button"
            class="inline-flex shrink-0 justify-center items-center size-6 rounded-full text-stone-500 hover:text-blue-600 focus:outline-hidden focus:text-blue-600 dark:text-neutral-500 dark:hover:text-blue-500 dark:focus:text-blue-500"
            aria-label="Close">
            <span class="sr-only">Close</span>
            <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
              fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="10" />
              <path d="m15 9-6 6" />
              <path d="m9 9 6 6" />
            </svg>
          </button>
        </div>
      </div>
      <!-- End Search Input -->
    </div>
    <!-- End Col -->
    <div class="flex flex-wrap md:justify-end items-center gap-2">
      <button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="hs-pro-epfo"
        class="py-[9px] px-2.5 inline-flex items-center gap-x-1.5 text-xs font-medium rounded-lg border border-stone-200 bg-white text-stone-800 shadow-2xs hover:bg-stone-50 disabled:opacity-50 disabled:pointer-events-none focus:outline-hidden focus:bg-stone-50 dark:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-300 dark:hover:bg-neutral-700 dark:focus:bg-neutral-700"
        data-hs-overlay="#hs-pro-epfo">
        <svg class="shrink-0 size-3.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
          fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="21" x2="14" y1="4" y2="4" />
          <line x1="10" x2="3" y1="4" y2="4" />
          <line x1="21" x2="12" y1="12" y2="12" />
          <line x1="8" x2="3" y1="12" y2="12" />
          <line x1="21" x2="16" y1="20" y2="20" />
          <line x1="12" x2="3" y1="20" y2="20" />
          <line x1="14" x2="14" y1="2" y2="6" />
          <line x1="8" x2="8" y1="10" y2="14" />
          <line x1="16" x2="16" y1="18" y2="22" />
        </svg>
        Filter
        <span
          class="font-medium text-[10px] py-0.5 px-[5px] bg-stone-800 text-white leading-3 rounded-full dark:bg-neutral-500">
          2
        </span>
      </button>
    </div>
    <!-- End Col -->
  </div>
  <!-- End Filter Group -->

  <!-- Table Section -->
  <div
    class="overflow-x-auto [&::-webkit-scrollbar]:h-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:bg-stone-100 [&::-webkit-scrollbar-thumb]:bg-stone-300 dark:[&::-webkit-scrollbar-track]:bg-neutral-700 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500">
    <div class="min-w-full inline-block align-middle">
      <!-- Table -->
      <table class="min-w-full divide-y divide-stone-200 dark:divide-neutral-700">
        <thead>
          <tr class="border-t border-stone-200 dark:border-neutral-700">
            <th scope="col" class="pr-3 py-2.5 w-6">
              <span
                class="text-center w-full text-sm font-normal text-stone-500 focus:outline-hidden focus:bg-stone-100 dark:text-neutral-500 dark:focus:bg-neutral-700">
                #
              </span>
            </th>

            <th scope="col" class="min-w-36">
              <!-- Sort Dropdown -->
              <div class="hs-dropdown relative inline-flex w-full cursor-pointer">
                <button id="hs-pro-eptnms" type="button"
                  class="px-5 py-2.5 text-start w-full flex items-center gap-x-1 text-sm font-normal text-stone-500 focus:outline-hidden focus:bg-stone-100 dark:text-neutral-500 dark:focus:bg-neutral-700"
                  aria-haspopup="menu" aria-expanded="false" aria-label="Dropdown">
                  Staff
                  <svg class="shrink-0 size-3.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round">
                    <path d="m7 15 5 5 5-5" />
                    <path d="m7 9 5-5 5 5" />
                  </svg>
                </button>

                {% include 'src/simba/partials/dropdowns/table_sort.html' %}
              </div>
              <!-- End Sort Dropdown -->
            </th>

            <th scope="col" class="min-w-36">
              <!-- Sort Dropdown -->
              <div class="hs-dropdown relative inline-flex w-full cursor-pointer">
                <button id="hs-pro-eptdts" type="button"
                  class="px-5 py-2.5 text-start w-full flex items-center gap-x-1 text-sm font-normal text-stone-500 focus:outline-hidden focus:bg-stone-100 dark:text-neutral-500 dark:focus:bg-neutral-700"
                  aria-haspopup="menu" aria-expanded="false" aria-label="Dropdown">
                  Avg. Rating
                  <svg class="shrink-0 size-3.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round">
                    <path d="m7 15 5 5 5-5" />
                    <path d="m7 9 5-5 5 5" />
                  </svg>
                </button>

                {% include 'src/simba/partials/dropdowns/table_sort.html' %}
              </div>
              <!-- End Sort Dropdown -->
            </th>

            <th scope="col" class="min-w-36">
              <!-- Sort Dropdown -->
              <div class="hs-dropdown relative inline-flex w-full cursor-pointer">
                <button id="hs-pro-eptsts" type="button"
                  class="px-5 py-2.5 text-start w-full flex items-center gap-x-1 text-sm font-normal text-stone-500 focus:outline-hidden focus:bg-stone-100 dark:text-neutral-500 dark:focus:bg-neutral-700"
                  aria-haspopup="menu" aria-expanded="false" aria-label="Dropdown">
                  Total Reviews
                  <svg class="shrink-0 size-3.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round">
                    <path d="m7 15 5 5 5-5" />
                    <path d="m7 9 5-5 5 5" />
                  </svg>
                </button>

                {% include 'src/simba/partials/dropdowns/table_sort.html' %}
              </div>
              <!-- End Sort Dropdown -->
            </th>

            <th scope="col" class="min-w-36">
              <!-- Sort Dropdown -->
              <div class="hs-dropdown relative inline-flex w-full cursor-pointer">
                <button id="hs-pro-eptprs" type="button"
                  class="px-5 py-2.5 text-start w-full flex items-center gap-x-1 text-sm font-normal text-stone-500 focus:outline-hidden focus:bg-stone-100 dark:text-neutral-500 dark:focus:bg-neutral-700"
                  aria-haspopup="menu" aria-expanded="false" aria-label="Dropdown">
                  5â˜… Reviews
                  <svg class="shrink-0 size-3.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                    viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round">
                    <path d="m7 15 5 5 5-5" />
                    <path d="m7 9 5-5 5 5" />
                  </svg>
                </button>

                {% include 'src/simba/partials/dropdowns/table_sort.html' %}
              </div>
              <!-- End Sort Dropdown -->
            </th>
          </tr>
        </thead>

        <tbody class="divide-y divide-stone-200 dark:divide-neutral-700">
          {% for staff in staff_review_leaderboard %}
          <tr>
            <td class="pr-3 py-4 text-center">
              <div class="inline-flex items-center justify-center gap-x-1">
                <svg class="size-4 {% if loop.index == 1 %} text-yellow-500
                {% elif loop.index == 2 %}text-slate-400
                {% elif loop.index == 3 %}text-amber-600
                {% else %}text-stone-300
                {% endif %}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                  <path fill-rule="evenodd"
                    d="M5.166 2.621v.858c-1.035.148-2.059.33-3.071.543a.75.75 0 0 0-.584.859 6.753 6.753 0 0 0 6.138 5.6 6.73 6.73 0 0 0 2.743 1.346A6.707 6.707 0 0 1 9.279 15H8.54c-1.036 0-1.875.84-1.875 1.875V19.5h-.75a2.25 2.25 0 0 0-2.25 2.25c0 .414.336.75.75.75h15a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-2.25-2.25h-.75v-2.625c0-1.036-.84-1.875-1.875-1.875h-.739a6.706 6.706 0 0 1-1.112-3.173 6.73 6.73 0 0 0 2.743-1.347 6.753 6.753 0 0 0 6.139-5.6.75.75 0 0 0-.585-.858 47.077 47.077 0 0 0-3.07-.543V2.62a.75.75 0 0 0-.658-.744 49.22 49.22 0 0 0-6.093-.377c-2.063 0-4.096.128-6.093.377a.75.75 0 0 0-.657.744Zm0 2.629c0 1.196.312 2.32.857 3.294A5.266 5.266 0 0 1 3.16 5.337a45.6 45.6 0 0 1 2.006-.343v.256Zm13.5 0v-.256c.674.1 1.343.214 2.006.343a5.265 5.265 0 0 1-2.863 3.207 6.72 6.72 0 0 0 .857-3.294Z"
                    clip-rule="evenodd" />
                </svg>


                <span class="text-sm font-medium text-stone-700 dark:text-neutral-300">
                  {{ loop.index }}
                </span>
              </div>
            </td>

            <td class="size-px whitespace-nowrap px-5 py-1">
              <div class="w-full flex items-center gap-x-3">
                <img class="shrink-0 size-9.5 rounded-full" src="{{staff.avatar}}"
                  alt="{{staff.first_name}} {{staff.last_name}}'s avatar">
                <div class="grow">
                  <span class="text-sm font-medium text-stone-800 dark:text-neutral-200">
                    {{staff.first_name}} {{staff.last_name}}
                  </span>
                </div>
              </div>
            </td>
            <td class="size-px whitespace-nowrap px-5 py-1">
              <span class="text-sm text-stone-600 dark:text-neutral-400">
                {{staff.average_rating}}
              </span>
            </td>
            <td class="size-px whitespace-nowrap px-5 py-1">
              <span class="text-sm text-stone-600 dark:text-neutral-400">
                {{staff.total_reviews}}
              </span>
            </td>
            <td class="size-px whitespace-nowrap px-5 py-1">
              <span class="text-sm text-stone-600 dark:text-neutral-400">
                {{staff.five_star_count}}
              </span>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
      <!-- End Table -->
    </div>
  </div>
  <!-- End Table Section -->
  {% include 'src/simba/partials/pagination.html' %}
</div>
<!-- End Staff Rating Leaderboard Table Card -->