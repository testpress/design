<script>
  function dicussionComponents(){
    return {
      showMobileFilterReport:false,
      search_value: null,

      init() {
      const url = new URL(window.location.href);
      const params = new URLSearchParams(url.search);
      this.search_value = params.get('search') || null;
      if (this.search_value && this.search_value.length > 20) {
         this.search_value = this.search_value.slice(0, 20) + '...';
      }
    },

      clear_search() {
      let newURL = new URL(window.location);
      newURL.searchParams.delete("search");
      window.location = newURL;
    }, 

    formatNumber(num) {
    if (num >= 1000000) {
        return (num / 1000000).toFixed(1) + 'm';
    } else if (num >= 100000) {
        return (num / 100000).toFixed(1) + 'l';
    } else if (num >= 1000) {
        return (num / 1000).toFixed(1) + 'k';
    } else {
        return num.toString();
    }
  },


    }
  }
</script>
