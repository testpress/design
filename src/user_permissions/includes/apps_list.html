<nav class="flex flex-1 flex-col">
  <ul role="list" class="flex flex-1 flex-col gap-y-7">
    <li>
      <ul role="list" class="-mx-2 space-y-1">
        {% for app in apps %}
          <li x-data="{'isAppExpanded': false}">
            <div>
              <button 
                @click="isAppExpanded = !isAppExpanded"
                type="button" class="hover:bg-gray-50 flex items-center w-full text-left rounded-md p-2 gap-x-3 text-sm leading-6 font-semibold text-gray-700" aria-controls="sub-menu-1" aria-expanded="false">
                {{ app.name }}
                <svg class="ml-auto h-5 w-5 shrink-0" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" :class="{'rotate-90 text-gray-500': isAppExpanded, 'text-gray-400': !isAppExpanded}">
                  <path fill-rule="evenodd" d="M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z" clip-rule="evenodd" />
                </svg>
              </button>
              <!-- Expandable link section, show/hide based on state. -->
              <ul x-cloak x-show="isAppExpanded" class="mt-1 px-2" id="sub-menu-1">
                {% for model in app.models %}
                  <li @click="selectedModelName = '{{model}}'">
                    <a href="#" class="hover:bg-gray-50 block rounded-md py-2 pr-2 pl-9 text-sm leading-6 text-gray-700">{{model}}</a>
                  </li>
                {% endfor %}
              </ul>
            </div>
          </li>
        {% endfor %}
      </ul>
    </li>
  </ul>
</nav>