<script>
  document.addEventListener("alpine:init", () => {
    Alpine.data("contents", () => ({
      contentPage: "VIDEO",
      isOpen: false,
      expanded: false, 
      expanded: [],
      section:"ATTEMPT",
      showExamModeModal:false,
      showResultModal:false,
      tab: 'running',
      activeTab: '{{ tab }}',
      isCustomizeOpen: false,
      contentType: 'topics',
      isFeedbackModalOpen: false,
      
      exam: {
        ["x-html"](){
          if(this.section === "ATTEMPT") return `{% include "./previous_attempts.html" %}`;
          else return `{% include "./leaderboard.html" %}`;
        }
      },
      
      init(){
        this.$watch('activeTab', (value) => {
          if(value == 'running') window.location="{{ '/content_detail_page/running'|url }}" 
          else if (value== 'upcoming') window.location="{{ '/content_detail_page/upcoming'|url }}"
          else if (value== 'history') window.location="{{ '/content_detail_page/history'|url }}"
          else if (value== 'leaderboard') window.location="{{ '/content_detail_page/leaderboard'|url }}"
          else window.location="{{ '/content_detail_page/discussions'|url }}"
        });
      }
      
    }));
  });
</script>
