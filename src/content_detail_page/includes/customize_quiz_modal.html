  <!-- Customize Quiz Modal -->
  <div id="customize-quiz-modal" class="hs-overlay hidden size-full fixed top-0 start-0 z-[9999] overflow-x-hidden overflow-y-auto [--close-when-click-inside:true] pointer-events-none" role="dialog" tabindex="-1" aria-labelledby="customize-quiz-modal-label">
    <!-- Backdrop -->
    <div class="fixed inset-0 bg-black bg-opacity-50 transition-opacity"></div>
    <div class="hs-overlay-open:mt-7 hs-overlay-open:opacity-100 hs-overlay-open:duration-500 mt-0 opacity-0 ease-out transition-all sm:max-w-lg sm:w-full m-3 sm:mx-auto h-[calc(100%-56px)] min-h-[calc(100%-56px)] flex items-center relative z-[10000]">
      <div class="w-full max-h-full flex flex-col bg-white rounded-xl pointer-events-auto shadow-xl dark:bg-neutral-800 relative z-[10000]">
        <!-- Header -->
        <div class="py-3 px-4 flex justify-between items-center border-b border-stone-200 dark:border-neutral-700">
          <h3 id="customize-quiz-modal-label" class="font-semibold text-stone-800 dark:text-neutral-200">
            Customize Quiz
          </h3>
          <button type="button" class="size-8 inline-flex justify-center items-center gap-x-2 rounded-full border border-transparent bg-stone-100 text-stone-800 hover:bg-stone-200 disabled:opacity-50 disabled:pointer-events-none focus:outline-hidden focus:bg-stone-200 dark:bg-neutral-700 dark:hover:bg-neutral-600 dark:text-neutral-400 dark:focus:bg-neutral-600" aria-label="Close" data-hs-overlay="#customize-quiz-modal">
            <span class="sr-only">Close</span>
            <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
          </button>
        </div>
        <!-- End Header -->

        <!-- Body -->
        <div class="overflow-y-auto [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:bg-stone-100 [&::-webkit-scrollbar-thumb]:bg-stone-300 dark:[&::-webkit-scrollbar-track]:bg-neutral-700 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500">
          <div class="p-4 space-y-5">
            <!-- Difficulty -->
            <div>
              <label class="block mb-2 text-sm font-medium text-stone-800 dark:text-white">
                Difficulty
              </label>
              <div class="h-12 w-full rounded-lg border border-stone-200 dark:border-neutral-600 px-1 flex items-center bg-white dark:bg-neutral-800">
                <div class="flex flex-wrap gap-1.5">
                  <button type="button" class="difficulty-btn rounded-md py-1 px-2 text-sm flex items-center transition-all duration-200 gap-1.5 bg-white dark:bg-neutral-700 text-stone-600 dark:text-neutral-300" data-difficulty="easy">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-star h-[14px] w-[14px]">
                      <path d="M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"></path>
                    </svg>
                    Easy
                  </button>
                  
                  <button type="button" class="difficulty-btn rounded-md py-1 px-2 text-sm flex items-center transition-all duration-200 gap-1.5 bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/20" data-difficulty="medium">
                    <span class="flex items-center gap-[2px]">
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-star h-[14px] w-[14px]">
                        <path d="M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"></path>
                      </svg>
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-star h-[14px] w-[14px]">
                        <path d="M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"></path>
                      </svg>
                    </span>
                    Medium
                  </button>
                  
                  <button type="button" class="difficulty-btn rounded-md py-1 px-2 text-sm flex items-center transition-all duration-200 gap-1.5 bg-white dark:bg-neutral-700 text-stone-600 dark:text-neutral-300" data-difficulty="hard">
                    <span class="flex items-center gap-[2px]">
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-star h-[14px] w-[14px]">
                        <path d="M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"></path>
                      </svg>
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-star h-[14px] w-[14px]">
                        <path d="M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"></path>
                      </svg>
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-star h-[14px] w-[14px]">
                        <path d="M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"></path>
                      </svg>
                    </span>
                    Hard
                  </button>
                </div>
              </div>
            </div>
            <!-- End Difficulty -->

            <!-- Number of Questions -->
            <div>
              <label for="question-count" class="block mb-2 text-sm font-medium text-stone-800 dark:text-white">
                Number of Questions
              </label>
              <input type="number" id="question-count" value="10" min="1" max="50" class="py-2 sm:py-2.5 px-3 block w-full border-stone-200 rounded-lg sm:text-sm placeholder:text-stone-400 focus:border-emerald-500 focus:ring-emerald-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-transparent dark:border-neutral-700 dark:text-neutral-300 dark:placeholder:text-white/60 dark:focus:ring-neutral-600">
            </div>
            <!-- End Number of Questions -->

            <!-- Page Range -->
            <div>
              <div class="flex items-center gap-1.5 mb-2">
                <label class="text-sm font-medium text-stone-800 dark:text-white">
                  Page Range
                </label>
                <div class="hs-tooltip [--placement:top] sm:[--placement:right] mt-1">
                  <button type="button" class="hs-tooltip-toggle inline-flex justify-center items-center size-4 text-stone-500 hover:text-stone-700 dark:text-neutral-400 dark:hover:text-neutral-300">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="size-4">
                      <circle cx="12" cy="12" r="10"/>
                      <path d="M12 16v-4"/>
                      <path d="M12 8h.01"/>
                    </svg>
                    <span class="sr-only">Info</span>
                  </button>
                  <span class="hs-tooltip-content hs-tooltip-shown:opacity-100 hs-tooltip-shown:visible opacity-0 transition-opacity hidden invisible z-10 py-1 px-2 bg-stone-900 text-xs font-medium text-white rounded-lg shadow-sm dark:bg-neutral-700 max-w-[200px] sm:max-w-none" role="tooltip">
                    Specify the page range to generate questions from
                  </span>
                </div>
              </div>
              <div class="grid sm:grid-cols-2 gap-3">
                <div>
                  <input type="number" id="page-from" min="1" placeholder="1" class="py-2 sm:py-2.5 px-3 block w-full border-stone-200 rounded-lg sm:text-sm placeholder:text-stone-400 focus:border-emerald-500 focus:ring-emerald-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-transparent dark:border-neutral-700 dark:text-neutral-300 dark:placeholder:text-white/60 dark:focus:ring-neutral-600">
                </div>
                <div>
                  <input type="number" id="page-to" min="1" placeholder="10" class="py-2 sm:py-2.5 px-3 block w-full border-stone-200 rounded-lg sm:text-sm placeholder:text-stone-400 focus:border-emerald-500 focus:ring-emerald-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-transparent dark:border-neutral-700 dark:text-neutral-300 dark:placeholder:text-white/60 dark:focus:ring-neutral-600">
                </div>
              </div>
            </div>
            <!-- End Page Range -->
          </div>
        </div>
        <!-- End Body -->

        <!-- Footer -->
        <div class="p-4 flex justify-end gap-x-2">
          <div class="w-full flex justify-end items-center gap-x-2">
            <button type="button" class="py-2 px-3 inline-flex justify-center items-center text-start bg-white border border-gray-200 text-gray-800 text-sm font-medium rounded-lg shadow-2xs align-middle hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-300 dark:hover:bg-neutral-700 dark:focus:bg-neutral-700" data-hs-overlay="#customize-quiz-modal">
              Cancel
            </button>

            <button type="button" class="py-2 px-3 inline-flex justify-center items-center gap-x-2 text-start bg-emerald-600 border border-emerald-600 text-white text-sm font-medium rounded-lg shadow-2xs align-middle hover:bg-emerald-700 disabled:opacity-50 disabled:pointer-events-none focus:outline-hidden focus:ring-1 focus:ring-emerald-300 dark:focus:ring-emerald-500" data-hs-overlay="#customize-quiz-modal">
              Generate Quiz
            </button>
          </div>
        </div>
        <!-- End Footer -->
      </div>
    </div>
  </div>
  <!-- End Customize Quiz Modal -->

  <!-- JavaScript for difficulty selection -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const difficultyButtons = document.querySelectorAll('.difficulty-btn');
      
      // Function to reset all buttons to default state
      function resetDifficultyButtons() {
        difficultyButtons.forEach(btn => {
          btn.classList.remove('bg-emerald-500/10', 'text-emerald-600', 'dark:text-emerald-400', 'border-emerald-500/20');
          btn.classList.add('bg-white', 'dark:bg-neutral-700', 'text-stone-600', 'dark:text-neutral-300', 'border-stone-200', 'dark:border-neutral-600');
        });
      }
      
      // Function to set button as selected
      function selectDifficultyButton(selectedBtn) {
        resetDifficultyButtons();
        selectedBtn.classList.remove('bg-white', 'dark:bg-neutral-700', 'text-stone-600', 'dark:text-neutral-300', 'border-stone-200', 'dark:border-neutral-600');
        selectedBtn.classList.add('bg-emerald-500/10', 'text-emerald-600', 'dark:text-emerald-400', 'border-emerald-500/20');
      }
      
      // Add click event listeners to all difficulty buttons
      difficultyButtons.forEach(btn => {
        btn.addEventListener('click', function() {
          selectDifficultyButton(this);
        });
      });
      
      // Set Medium as default selected (this will run after the DOM is loaded)
      const mediumBtn = document.querySelector('[data-difficulty="medium"]');
      if (mediumBtn) {
        selectDifficultyButton(mediumBtn);
      }
    });
  </script>