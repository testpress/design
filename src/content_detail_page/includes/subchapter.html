{% for nestedsubchapter in subchapter.nestedsubchapter %}
<li>
  <a href="#" @click="expanded['nestedsubchapter_{{ loop.index0 }}'] = !expanded['nestedsubchapter_{{ loop.index0 }}']"
    class="flex items-center justify-between px-4 py-3 text-sm font-semibold leading-6 text-gray-700 hover:text-emerald-600 group gap-x-3">
    {{ nestedsubchapter.name }}
    <!-- Chevron Icon -->
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
      :class="{ '-rotate-180': expanded['nestedsubchapter_{{ loop.index0 }}'] }"
      class="w-5 h-5 transition-transform duration-300 transform">
      <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
    </svg>
  </a>
  <ul x-show="expanded['nestedsubchapter_{{ loop.index0 }}']" x-collapse role="list" class="ml-2">
    {% for content in nestedsubchapter.contents %}
    {% include "./content.html" %}
    {% endfor %}
  </ul>
</li>
{% endfor %}