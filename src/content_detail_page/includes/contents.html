{% for chapter in chapters %}
  <li>
    <a href="#" @click="expanded[{{ loop.index0 }}] = !expanded[{{ loop.index0 }}]" class="text-gray-700 hover:text-emerald-600 group flex justify-between items-center gap-x-3 rounded-md p-2 text-base leading-6 font-semibold border-t pt-4">
      {{ chapter.title }}
      <!-- SVG Icon -->
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" :class="{ '-rotate-180': expanded[{{ loop.index0 }}] }" class="w-5 h-5 transition-transform duration-300 transform">
        <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
      </svg>
    </a>
    <ul x-show="expanded[{{ loop.index0 }}]" x-collapse role="list" class="divide-y divide-gray-100 ml-4">
      {% for content in chapter.contents %}
        <li class="relative flex justify-between gap-x-6 py-3">
          <div class="flex min-w-0 gap-x-4">
            <div class="min-w-0 flex-auto">
              <p class="text-sm font-semibold leading-6 text-gray-700">
                <a x-on:click="onClickChangeContent('{{content.type}}','{{ content.name }}'); isOpen = !isOpen" class="hover:cursor-pointer">
                  <span class="absolute inset-x-0 -top-px bottom-0"></span>
                  {{ content.name }}
                </a>
              </p>
            </div>
          </div>
        </li>
      {% endfor %}
    </ul>
  </li>              
{% endfor %}