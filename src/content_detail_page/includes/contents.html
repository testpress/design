{% for chapter in chapters %}
  <li>
    <a href="#" @click="expanded[{{ loop.index0 }}] = !expanded[{{ loop.index0 }}]" class="text-gray-700 hover:text-emerald-600 group flex justify-between items-center gap-x-3 p-2 text-base leading-6 font-semibold border-t pt-4">
      {{ chapter.title }}
      <!-- SVG Icon -->
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" :class="{ '-rotate-180': expanded[{{ loop.index0 }}] }" class="w-5 h-5 transition-transform duration-300 transform">
        <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5" />
      </svg>
    </a>
    <ul x-show="expanded[{{ loop.index0 }}]" x-collapse role="list" class="divide-y divide-gray-100 ml-2">
      {% for content in chapter.contents %}
        <li class="relative flex gap-x-2 py-3">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6">
            <path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm14.024-.983a1.125 1.125 0 010 1.966l-5.603 3.113A1.125 1.125 0 019 15.113V8.887c0-.857.921-1.4 1.671-.983l5.603 3.113z" clip-rule="evenodd" />
          </svg>           
          <div class="flex min-w-0 gap-x-4">
            <div class="min-w-0 flex-auto">
              <p class="text-sm font-semibold leading-6 text-gray-700">
                {% if content.type == "VIDEO" %}
                  <a x-on:click="isOpen = !isOpen" href="{{ '/content_detail_page/video' |url }}" class="hover:cursor-pointer">
                    <span class="absolute inset-x-0 -top-px bottom-0"></span>
                    {{ content.name }}
                  </a>
                {% elif content.type == "PDF" %}
                  <a x-on:click="isOpen = !isOpen" href="{{ '/content_detail_page/pdf' |url }}" class="hover:cursor-pointer">
                    <span class="absolute inset-x-0 -top-px bottom-0"></span>
                    {{ content.name }}
                  </a>
                {% elif content.type == "NOTES" %}
                  <a x-on:click="isOpen = !isOpen" href="{{ '/content_detail_page/notes' |url }}" class="hover:cursor-pointer">
                    <span class="absolute inset-x-0 -top-px bottom-0"></span>
                    {{ content.name }}
                  </a>
                {% elif content.type == "ATTACHMENT" %}
                  <a x-on:click="isOpen = !isOpen" href="{{ '/content_detail_page/attachment' |url }}" class="hover:cursor-pointer">
                      <span class="absolute inset-x-0 -top-px bottom-0"></span>
                      {{ content.name }}
                  </a>
                {% elif content.type == "EXAM" %}
                  <a x-on:click="isOpen = !isOpen" href="{{ '/content_detail_page/exam' |url }}" class="hover:cursor-pointer">
                    <span class="absolute inset-x-0 -top-px bottom-0"></span>
                    {{ content.name }}
                  </a>
                {% elif content.type == "ZOOM" %}
                  <a x-on:click="isOpen = !isOpen" href="{{ '/content_detail_page/video_conf_start' |url }}" class="hover:cursor-pointer">
                    <span class="absolute inset-x-0 -top-px bottom-0"></span>
                    {{ content.name }}
                  </a>
                {% endif %}
              </p>
            </div>
          </div>
        </li>
      {% endfor %}
    </ul>
  </li>              
{% endfor %}