{% extends "src/testpress/layout/student_layout.html" %}

{% block main_content %}

<!-- Alpine.js Modal with Camera Feed -->
<div x-data="{ open: true, showAlert: true, disabled: true }" x-show="open" x-transition:enter="transition-all duration-500" x-transition:leave="transition-all duration-500" class="fixed top-0 left-0 z-[80] w-full h-full flex items-center justify-center bg-gray-900 bg-opacity-50 dark:bg-neutral-900 dark:bg-opacity-80 pointer-events-none" x-init="setTimeout(() => disabled = false, 5000)">
  <div class="w-full max-w-lg m-3 sm:w-full sm:mx-auto h-[calc(100%-56px)] min-h-[calc(100%-56px)] flex items-center">
    <div class="w-full max-h-full overflow-hidden flex flex-col bg-white rounded-xl pointer-events-auto shadow-xl dark:bg-neutral-800">
      <!-- Header -->
      <div class="py-2.5 px-4 flex justify-between items-center border-b border-gray-200 dark:border-neutral-700">
        <h3 class="font-medium text-gray-800 dark:text-neutral-200">
          Multiple Faces Detected
        </h3>
      </div>
      <!-- End Header -->

      <!-- Body with Camera Feed -->
      <div class="overflow-y-auto [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 dark:[&::-webkit-scrollbar-track]:bg-neutral-700 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500">
        <div class="p-4 space-y-5">
          <p class="text-gray-600 dark:text-neutral-400 mb-4 text-sm">
            We have detected multiple faces, which is not allowed for this activity. This issue has been reported for review.
          </p>
          <p class="text-gray-600 dark:text-neutral-400 mb-5 text-sm">
            Please ensure that only your face is visible. Adjust your camera to avoid multiple faces.
          </p>
          <p class="text-gray-600 dark:text-neutral-400 mb-4 text-sm">
            You cannot continue until the issue is resolved.
          </p>
        </div>
      </div>
      <!-- End Body -->

      <!-- Footer -->
      <div class="py-2 px-4 border-t border-gray-200 dark:border-neutral-700">
        <div class="flex-1 flex justify-end items-center gap-2">
          <!-- Continue Button (Initially Disabled) -->
          <button @click="showAlert = false; open = false" :disabled="disabled" type="button"
            class="py-2 px-3 text-nowrap inline-flex justify-center items-center gap-x-2 text-start whitespace-nowrap bg-blue-600 border border-blue-600 text-white text-sm font-medium rounded-lg shadow-2xs align-middle hover:bg-blue-700 disabled:opacity-50 disabled:pointer-events-none focus:outline-hidden focus:ring-1 focus:ring-blue-300 dark:focus:ring-blue-500">
            Continue
          </button>
        </div>
      </div>
      <!-- End Footer -->
    </div>
  </div>
</div>

<div class="space-x-2">
  <a href="/sentinel/start_proctoring_setup/device_readiness" class="py-2 px-3 text-nowrap inline-flex justify-center items-center gap-x-2 text-start whitespace-nowrap bg-primary-600 border border-primary-600 text-white text-sm font-medium rounded-lg shadow-2xs align-middle hover:bg-primary-700 disabled:opacity-50 disabled:pointer-events-none focus:outline-hidden focus:ring-1 focus:ring-primary-300 dark:focus:ring-primary-500">
      Device readiness check
      </a>
  <a href="/sentinel/no_person_detected" class="py-2 px-3 text-nowrap inline-flex justify-center items-center gap-x-2 text-start whitespace-nowrap bg-primary-600 border border-primary-600 text-white text-sm font-medium rounded-lg shadow-2xs align-middle hover:bg-primary-700 disabled:opacity-50 disabled:pointer-events-none focus:outline-hidden focus:ring-1 focus:ring-primary-300 dark:focus:ring-primary-500">
      Simulate no face detected
  </a>
  <a href="/sentinel/multiple_face_detected" class="py-2 px-3 text-nowrap inline-flex justify-center items-center gap-x-2 text-start whitespace-nowrap bg-primary-600 border border-primary-600 text-white text-sm font-medium rounded-lg shadow-2xs align-middle hover:bg-primary-700 disabled:opacity-50 disabled:pointer-events-none focus:outline-hidden focus:ring-1 focus:ring-primary-300 dark:focus:ring-primary-500">
      Simulate multiple face detected
  </a>
</div>

{% endblock main_content %}