<script>
  function getPopularProductsData() {
    return {
      activeSlide: 0, 
      totalSlides: 6, 
      visibleSlides: window.innerWidth >= 1024 ? 4 : window.innerWidth >= 640 ? 2 : 1,

      init(){       
        window.addEventListener('resize', () => {
          this.visibleSlides = window.innerWidth >= 1024 ? 4 : window.innerWidth >= 640 ? 2 : 1;
        });
        this.slideContainer = this.$refs.slider;
      },
      
      recordTouchStart(event) {
        this.touchStartX = event.touches[0].clientX;
      },
      
      recordTouchMove(event) {
        this.touchEndX = event.touches[0].clientX;
      },
      
      navigateOnSwipe() {
        const touchDifference = this.touchStartX - this.touchEndX;
        if (touchDifference > 50 && this.activeSlide + this.visibleSlides < this.totalSlides) {
          this.showNextProduct();
        } else if (touchDifference < -50 && this.activeSlide > 0) {
          this.showPreviousProduct();
        }
      },
      
      showSlide(productIndex){
        return this.activeSlide <= productIndex && productIndex < this.activeSlide + this.visibleSlides;
      },
      
      showPreviousProduct(){
       return this.activeSlide = Math.max(this.activeSlide - 1, 0);
      },
      
      showNextProduct(){
       return this.activeSlide = Math.min(this.activeSlide + 1, this.totalSlides - this.visibleSlides);
      }, 
      
    }
  }
</script>
