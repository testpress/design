<div class="px-4 sm:px-6 lg:px-8">
  <div class="mt-4 flow-root">
    <div class="-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8 px-0.5">
      <div class="inline-block min-w-full py-2 align-middle">
        <div class="overflow-hidden shadow ring-1 ring-black ring-opacity-5 sm:rounded-lg">
          <table class="min-w-full divide-y divide-gray-300">
            <thead class="bg-gray-50">
              <tr>
                <th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold whitespace-nowrap text-gray-900 sm:pl-6">Name</th>
                <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold whitespace-nowrap text-gray-900">
                    <a x-data="{ open: false }" @click="open = !open" href="#" class="group inline-flex items-center">
                      Completion Rate
                      <!-- Active: "bg-gray-200 text-gray-900 group-hover:bg-gray-300", Not Active: "invisible text-gray-400 group-hover:visible group-focus:visible" -->
                      <span class="ml-2 flex-none rounded bg-gray-100 text-gray-900 group-hover:bg-gray-200">
                        <svg class="h-5 w-5 transform transition-transform duration-300" :class="{ 'rotate-180': open }" viewBox="0 0 20 20"
                          fill="currentColor" aria-hidden="true">
                          <path fill-rule="evenodd"
                            d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
                            clip-rule="evenodd" />
                        </svg>
                      </span>
                    </a>
                </th>
                <th x-data="{ open: false }" @click="open = !open" scope="col" class="px-3 py-3.5 text-left text-sm font-semibold whitespace-nowrap text-gray-900">
                    <a href="#" class="group inline-flex items-center">
                      Enrolled
                      <!-- Active: "bg-gray-200 text-gray-900 group-hover:bg-gray-300", Not Active: "invisible text-gray-400 group-hover:visible group-focus:visible" -->
                      <span class="ml-2 flex-none rounded bg-gray-100 text-gray-900 group-hover:bg-gray-200">
                        <svg class="h-5 w-5 transform transition-transform duration-300" :class="{ 'rotate-180': open }" viewBox="0 0 20 20"
                          fill="currentColor" aria-hidden="true">
                          <path fill-rule="evenodd"
                            d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
                            clip-rule="evenodd" />
                        </svg>
                      </span>
                    </a>
                </th>
                <th x-data="{ open: false }" @click="open = !open" scope="col" class="px-3 py-3.5 text-left text-sm font-semibold whitespace-nowrap text-gray-900">
                    <a href="#" class="group inline-flex items-center">
                      Created
                      <!-- Active: "bg-gray-200 text-gray-900 group-hover:bg-gray-300", Not Active: "invisible text-gray-400 group-hover:visible group-focus:visible" -->
                      <span class="ml-2 flex-none rounded bg-gray-100 text-gray-900 group-hover:bg-gray-200">
                        <svg class="h-5 w-5 transform transition-transform duration-300" :class="{ 'rotate-180': open }" viewBox="0 0 20 20"
                          fill="currentColor" aria-hidden="true">
                          <path fill-rule="evenodd"
                            d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
                            clip-rule="evenodd" />
                        </svg>
                      </span>
                    </a>
                </th>
                <th scope="col" class="relative py-3.5 pl-3 pr-4 sm:pr-6">
                  <span class="sr-only">Actions</span>
                </th>
              </tr>
            </thead>
            <tbody class="divide-y divide-gray-200 bg-white">
              {% for study_plan in study_plans %}
                <tr>
                  <td class="whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6">
                      <div class="flex items-center">
                        <div class="h-11 w-11 flex-shrink-0">
                          <img class="h-11 w-11 rounded-full" src="{{study_plan.cover_image_path}}" alt="">
                        </div>
                        <div class="ml-4">
                          <div class="font-medium text-gray-900">
                            <a href="{{ './schedule/'|url }}"><span>{{ study_plan.title }} </span></a>
                            <span
                              class="inline-flex items-center px-2 py-1 ml-2 text-xs font-medium text-gray-600 rounded-md bg-gray-50 ring-1 ring-inset ring-gray-500/10">{{
                              study_plan.category }}</span>
                          </div>
                          <div class="mt-1 text-gray-500">{{ study_plan.number_of_days}} days</div>
                        </div>
                      </div>
                  </td>
                  <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500 text-center">
                      <div class="flex items-center min-w-32">
                        <div class="w-full bg-gray-200 rounded-full h-1.5">
                          <div class="bg-emerald-500 h-1.5 rounded-full" style="width: {{study_plan.completion_rate}}%"></div>
                        </div>
                        <span class="ml-2 text-xs text-gray-700 min-w-8">{{ study_plan.completion_rate}}%</span>
                      </div>
                  </td>
                  <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500 text-center">
                    {{ study_plan.number_of_students_enrolled }}
                  </td>
                  <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500 text-left">
                    {{ study_plan.created }}
                  </td>
                  <td class="relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6 text-center">
                    {% include './list_item_dropdown.html' %}
                  </td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="mt-8">
  {% include "partials/pagination.html" %}
</div>