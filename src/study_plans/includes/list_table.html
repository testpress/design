<div class="flex-col mt-4">
  <div class="overflow-x-auto">
    <div class="inline-block min-w-full py-2 align-middle">
      <div class="relative overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg">
        <table class="min-w-full divide-y divide-gray-300 table-fixed">
          <thead class="bg-gray-50">
            <tr>
              <th scope="col" class="min-w-[12rem] px-3 py-3.5 pr-3 text-left text-sm font-semibold text-gray-900">
                Study Plan
              </th>
              <th x-data="{ open: false }" @click="open = !open" scope="col"
                class="whitespace-nowrap px-3 py-3.5 text-left text-sm font-semibold text-gray-900">
                <a href="#" class="group inline-flex">
                  Completion Rate
                  <!-- Active: "bg-gray-200 text-gray-900 group-hover:bg-gray-300", Not Active: "invisible text-gray-400 group-hover:visible group-focus:visible" -->
                  <span class="ml-2 flex-none rounded bg-gray-100 text-gray-900 group-hover:bg-gray-200">
                    <svg class="h-5 w-5 transform transition-transform duration-300" :class="{ 'rotate-180': open }"
                      viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                      <path fill-rule="evenodd"
                        d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
                        clip-rule="evenodd" />
                    </svg>
                  </span>
                </a>
              </th>
              <!-- <th scope="col" class="whitespace-nowrap px-3 py-3.5 text-left text-sm font-semibold text-gray-900">
                Average Progress Percentage
              </th> -->
              <th x-data="{ open: false }" @click="open = !open" scope="col" class="whitespace-nowrap px-3 py-3.5 text-left text-sm font-semibold text-gray-900">
                <a href="#" class="group inline-flex">
                Enrolled Students 
                  <!-- Active: "bg-gray-200 text-gray-900 group-hover:bg-gray-300", Not Active: "invisible text-gray-400 group-hover:visible group-focus:visible" -->
                  <span class="ml-2 flex-none rounded bg-gray-100 text-gray-900 group-hover:bg-gray-200">
                    <svg class="h-5 w-5 transform transition-transform duration-300" :class="{ 'rotate-180': open }" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                      <path fill-rule="evenodd"
                        d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
                        clip-rule="evenodd" />
                    </svg>
                  </span>
                </a>
              </th>
              <th x-data="{ open: false }" @click="open = !open" scope="col"
                class="whitespace-nowrap px-3 py-3.5 text-left text-sm font-semibold text-gray-900">
                <a href="#" class="group inline-flex">
                  Create
                  <!-- Active: "bg-gray-200 text-gray-900 group-hover:bg-gray-300", Not Active: "invisible text-gray-400 group-hover:visible group-focus:visible" -->
                  <span class="ml-2 flex-none rounded bg-gray-100 text-gray-900 group-hover:bg-gray-200">
                    <svg class="h-5 w-5 transform transition-transform duration-300" :class="{ 'rotate-180': open }"
                      viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                      <path fill-rule="evenodd"
                        d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z"
                        clip-rule="evenodd" />
                    </svg>
                  </span>
                </a>
              </th>
              <th scope="col" class="whitespace-nowrap px-3 py-3.5 text-left text-sm font-semibold text-gray-900">

              </th>
            </tr>
          </thead>
          <tbody class="bg-white divide-y divide-gray-200">
            <!-- Selected: "bg-gray-50" -->
            {% for study_plan in study_plans %}
            <tr>
              <td class="px-3 py-4 whitespace-nowrap">
                <div class="flex items-center gap-x-4">
                  <img
                    src="{{study_plan.cover_image_path}}"
                    alt="" class="w-8 h-8 bg-gray-800 rounded-full">
                  <!-- <div class="text-sm leading-6 text-gray-900 truncate">{{ study_plan.title }}</div> -->
                  <div class="ml-4 text-sm">
                    <div class="flex font-medium text-gray-900 truncate">
                      <a href="{{ './schedule/'|url }}"><span>{{ study_plan.title }} </span></a>
                      <span class="inline-flex items-center px-2 py-1 ml-2 text-xs font-medium text-gray-600 rounded-md bg-gray-50 ring-1 ring-inset ring-gray-500/10">{{ study_plan.category }}</span>
                    </div>
                    <div class="mt-1 text-gray-500">{{ study_plan.number_of_days}} days</div>
                  </div>
                </div>
              </td>
              <td class="px-3 py-4 text-sm text-gray-500 whitespace-nowrap">
                <div class="flex items-center min-w-32">
                  <div class="w-full bg-gray-200 rounded-full h-1.5">
                    <div class="bg-emerald-500 h-1.5 rounded-full" style="width: {{study_plan.completion_rate}}%"></div>
                  </div>
                  <span class="ml-2 text-xs text-gray-700 min-w-8">{{ study_plan.completion_rate}}%</span>
                </div>
              </td>
              <!-- <td class="px-3 py-4 text-sm text-gray-500 whitespace-nowrap">
                <div class="flex items-center min-w-32">
                  <div class="w-full bg-gray-200 rounded-full h-1.5">
                    <div class="bg-emerald-500 h-1.5 rounded-full" style="width: {{study_plan.average_progress_percentage}}%"></div>
                  </div>
                  <span class="ml-2 text-xs text-gray-700 min-w-8">{{ study_plan.average_progress_percentage}}%</span>
                </div>
              </td> -->
              <td class="px-3 py-4 text-sm text-gray-500 whitespace-nowrap">
                {{ study_plan.number_of_students_enrolled }}
              </td>
              <td class="px-3 py-4 text-sm text-gray-500 whitespace-nowrap">
                {{ study_plan.created }}
              </td>
              <td>
                {% include './list_item_dropdown.html' %}
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <div class="mt-8">
    {% include "partials/pagination.html" %}
  </div>
</div>