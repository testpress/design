<script>
    function get_doubts_list() {
        let parent_topics = JSON.parse('{{doubts_report|dump |safe}}');
        const urlParams = new URLSearchParams(window.location.search);
        let parent_topic_name = urlParams.get('parent_topic');

        if (!parent_topic_name) {
            return parent_topics;
        }
        let parent_topic = parent_topics.find(topic => topic.topic_name === parent_topic_name);
        return parent_topic.sub_topics || [];
    }
</script>
