<div
  x-data="{current: 0, stories: {{ stories | dump }}}"
  class="mt-4 bg-white shadow-sm ring-1 ring-gray-900/5 sm:rounded-xl md:col-span-2 mx-auto max-w-7xl px-4 py-12 sm:px-6 sm:py-12 lg:px-8 lg:mx-0 max-w-7xl xl:flex xl:items-baseline xl:justify-around">
  <div class="relative w-64 aspect-[9/16] flex items-center justify-center overflow-hidden bg-gray-900">
    <!-- Progress Indicators (overlayed on top of the image) -->
    <div class="!mx-2 absolute top-2 left-0 right-0 flex justify-center space-x-2 z-10">
      <template x-for="(story, index) in stories" :key="index">
        <div :class="{'bg-emerald-700': current === index, 'bg-gray-300': current !== index}" class="mx-2 w-16 h-0.5 rounded-full"></div>
      </template>
    </div>
    
    <!-- Story Image -->
    <img :src="stories[current].thumbnail" alt="Story Image" class="w-full h-full object-contain" />

    <!-- Navigation Buttons -->
    <button
      class="absolute left-2 top-1/2 transform -translate-y-1/2 bg-gray-800 bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 focus:outline-none"
      @click="current = current > 0 ? current - 1 : stories.length - 1">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
      </svg>
    </button>

    <button
      class="absolute right-2 top-1/2 transform -translate-y-1/2 bg-gray-800 bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-75 focus:outline-none"
      @click="current = current < stories.length - 1 ? current + 1 : 0">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
      </svg>
    </button>
  </div>
</div>
