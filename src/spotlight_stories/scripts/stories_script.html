<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css" />
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script type="text/javascript">
  function app() {
    return {
      status: "",
      showScheduledInput: false,
      selectedBatches: [],
      showBatches: false,
      step: 3, 
      showAddStoryModal: false,
      maxStep: 3,

      removeBatch(batchId) {
        this.selectedBatches = this.selectedBatches.filter((batch) => batch.id !== batchId);
      },

      toggleBatchSelection(id, name) {
        const index = this.selectedBatches.findIndex((selectedBatch) => selectedBatch.id === id);
        if (index === -1) {
          this.selectedBatches.push({ id: id, name: name });
        } else {
          this.selectedBatches.splice(index, 1);
        }
      },

      isSelected(id) {
        return this.selectedBatches.some((batch) => batch.id === id);
      },
    };
  }
</script>
