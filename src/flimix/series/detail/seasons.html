<div class="px-6 md:px-10 py-6 bg-black" x-data="{ 
  activeSeason: 1, 
  seasons: [1, 2, 3, 4, 5],
  episodes: {
    1: [
      { id: 1, number: 1, title: 'Pilot', description: 'Diagnosed with terminal lung cancer, chemistry teacher Walter White teams up with former student Jesse Pinkman to cook and sell crystal meth.', thumbnail: 'https://image.tmdb.org/t/p/w780/tsRy63Mu5cu8etL1X7ZLyf7UP1M.jpg', duration: 58, date: 'Jan 20, 2008', progress: 100 },
      { id: 2, number: 2, title: 'Cat\'s in the Bag...', description: 'After their first drug deal goes terribly wrong, Walt and Jesse are forced to deal with a corpse and an angry drug dealer calling for their heads.', thumbnail: 'https://image.tmdb.org/t/p/w780/tsRy63Mu5cu8etL1X7ZLyf7UP1M.jpg', duration: 48, date: 'Jan 27, 2008', progress: 50 },
      { id: 3, number: 3, title: 'And the Bag\'s in the River', description: 'Walt and Jesse attempt to tie up loose ends. The desperate situation gets more complicated with the flip of a coin. Walt\'s wife, Skyler, becomes suspicious of Walt\'s strange behavior.', thumbnail: 'https://image.tmdb.org/t/p/w780/tsRy63Mu5cu8etL1X7ZLyf7UP1M.jpg', duration: 48, date: 'Feb 10, 2008' },
      { id: 4, number: 4, title: 'Cancer Man', description: 'Walt and Jesse attempt to dispose of a body. Meanwhile, Skyler plans an intervention.', thumbnail: 'https://image.tmdb.org/t/p/w780/tsRy63Mu5cu8etL1X7ZLyf7UP1M.jpg', duration: 48, date: 'Feb 17, 2008' },
      { id: 5, number: 5, title: 'Gray Matter', description: 'Walt and Skyler attend a party at Elliott\'s house. Jesse tries to free himself from the drugs while dealing with his own personal relationships.', thumbnail: 'https://image.tmdb.org/t/p/w780/tsRy63Mu5cu8etL1X7ZLyf7UP1M.jpg', duration: 48, date: 'Feb 24, 2008' },
      { id: 6, number: 6, title: 'Crazy Handful of Nothin\'', description: 'The side effects of chemo begin to weigh heavily on Walt. Meanwhile, the DEA rounds up suspected dealers.', thumbnail: 'https://image.tmdb.org/t/p/w780/tsRy63Mu5cu8etL1X7ZLyf7UP1M.jpg', duration: 48, date: 'Mar 2, 2008' },
      { id: 7, number: 7, title: 'A No-Rough-Stuff-Type Deal', description: 'Walt and Jesse\'s new business partnership is put to the test. Skyler\'s suspicions about Walt grow.', thumbnail: 'https://image.tmdb.org/t/p/w780/tsRy63Mu5cu8etL1X7ZLyf7UP1M.jpg', duration: 48, date: 'Mar 9, 2008' }
    ],
    2: [
      { id: 8, number: 1, title: 'Seven Thirty-Seven', description: 'Walt and Jesse realize how dire their situation is. They must come up with a plan to deal with Tuco.', thumbnail: 'https://image.tmdb.org/t/p/w780/tsRy63Mu5cu8etL1X7ZLyf7UP1M.jpg', duration: 48, date: 'Mar 8, 2009' },
      { id: 9, number: 2, title: 'Grilled', description: 'Walt and Jesse find themselves in a dangerous situation with Tuco. Meanwhile, Hank continues his investigation.', thumbnail: 'https://image.tmdb.org/t/p/w780/tsRy63Mu5cu8etL1X7ZLyf7UP1M.jpg', duration: 48, date: 'Mar 15, 2009' }
    ],
    3: [
      { id: 10, number: 1, title: 'No Más', description: 'As Walt deals with the aftermath of the plane crash, he and Jesse begin cooking again.', thumbnail: 'https://image.tmdb.org/t/p/w780/tsRy63Mu5cu8etL1X7ZLyf7UP1M.jpg', duration: 48, date: 'Mar 21, 2010' }
    ],
    4: [
      { id: 11, number: 1, title: 'Box Cutter', description: 'Walt, Jesse, and Mike clean up after the violent end to their confrontation with Gus as they try to dispose of Victor.', thumbnail: 'https://image.tmdb.org/t/p/w780/tsRy63Mu5cu8etL1X7ZLyf7UP1M.jpg', duration: 48, date: 'Jul 17, 2011' }
    ],
    5: [
      { id: 12, number: 1, title: 'Live Free or Die', description: 'Walt and Mike dispose of the laptop evidence. Jesse\'s house is raided by the DEA.', thumbnail: 'https://image.tmdb.org/t/p/w780/tsRy63Mu5cu8etL1X7ZLyf7UP1M.jpg', duration: 48, date: 'Jul 15, 2012' }
    ]
  },
  getCurrentEpisodes() {
    return this.episodes[this.activeSeason] || [];
  },
  playEpisode(episode) {
    // Navigate to episode player
    window.location.href = `/flimix/series/episode/${episode.id}/`;
  }
}">
  <div>
    <!-- Mobile Dropdown -->
    <div class="grid grid-cols-1 sm:hidden mb-6">
      <select x-model="activeSeason" aria-label="Select a season"
        class="col-start-1 row-start-1 w-full appearance-none rounded-md bg-white/5 py-2 pr-8 pl-3 text-base text-gray-100 outline-1 -outline-offset-1 outline-white/10 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-500">
        <template x-for="season in seasons" :key="season">
          <option :value="season" x-text="`Season ${season}`"></option>
        </template>
      </select>
      <svg viewBox="0 0 16 16" fill="currentColor" data-slot="icon" aria-hidden="true"
        class="pointer-events-none col-start-1 row-start-1 mr-2 size-5 self-center justify-self-end fill-gray-400">
        <path
          d="M4.22 6.22a.75.75 0 0 1 1.06 0L8 8.94l2.72-2.72a.75.75 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 7.28a.75.75 0 0 1 0-1.06Z"
          clip-rule="evenodd" fill-rule="evenodd" />
      </svg>
    </div>

    <!-- Desktop Tabs -->
    <div class="hidden sm:block">
      <nav aria-label="Seasons" class="flex gap-4">
        <template x-for="season in seasons" :key="season">
          <button @click="activeSeason = season"
            :class="activeSeason === season ? 'bg-white/10 text-gray-200' : 'text-gray-400 hover:text-gray-200'"
            class="rounded-md px-3 py-2 text-sm font-medium transition-colors" x-text="`Season ${season}`">
          </button>
        </template>
      </nav>
    </div>
  </div>

  <!-- Episodes List -->
  <div class="mt-4 space-y-0">
    <template x-for="episode in getCurrentEpisodes()" :key="episode.id">
      <div @click="playEpisode(episode)"
        class="group flex flex-col sm:flex-row gap-4 p-4 hover:bg-white/5 rounded-lg cursor-pointer transition-colors">
        <!-- Thumbnail with Play Icon on Hover -->
        <div class="relative flex-shrink-0 w-full sm:w-64 h-48 sm:h-36 bg-neutral-800 rounded overflow-hidden">
          <img :src="episode.thumbnail" :alt="episode.title" class="w-full h-full object-cover" />
          <!-- Play Icon Overlay (shows on hover) -->
          <div
            class="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center">
            <div class="bg-white/90 rounded-full p-3">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"
                class="w-6 h-6 text-black">
                <path fill-rule="evenodd"
                  d="M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z"
                  clip-rule="evenodd" />
              </svg>
            </div>
          </div>
          <!-- Progress Bar (shows for episodes with progress) -->
          <div x-show="episode.progress" class="absolute bottom-0 left-0 right-0 h-1 bg-gray-700">
            <div class="h-full bg-indigo-500 transition-all duration-300" :style="`width: ${episode.progress}%`"></div>
          </div>
        </div>

        <!-- Episode Info -->
        <div class="flex-1 min-w-0">
          <!-- Episode Number and Title -->
          <div class="flex items-start mb-1">
            <h3 class="text-base font-medium text-white group-hover:text-gray-200 transition-colors"
              x-text="`S${activeSeason}E${episode.number} - ${episode.title}`">
            </h3>
          </div>

          <!-- Date and Duration -->
          <div class="flex items-center gap-2 text-sm text-gray-400 mb-2">
            <span x-text="episode.date"></span>
            <span>•</span>
            <span x-text="`${episode.duration} min`"></span>
          </div>

          <!-- Description -->
          <p class="text-sm text-gray-400 line-clamp-2" x-text="episode.description"></p>
        </div>
      </div>
    </template>
  </div>
</div>