<div x-cloak x-show="showUsersTab">
  {% if batches_list[0]["members"].length > 0 %}

    <div class="pb-6 xl:pb-0">
      <div class="flow-root">
        <div class="-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8">
          <div class="inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8">
            <table class="min-w-full divide-y divide-gray-300">
              <thead>
                <tr>
                  <th scope="col" class="py-3 pr-3 text-center"></th>
                  <th scope="col" class="py-3.5 px-3 text-left text-sm font-semibold text-gray-900 sm:pl-0">User Id</th>
                  <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Name</th>
                  <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Email</th>
                  <th scope="col" class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900">Phone</th>
                  <th scope="col" class="relative py-3.5 pl-3 pr-4 sm:pr-0">
                    <span class="sr-only">Remove</span>
                  </th>
                </tr>
              </thead>
              <tbody class="divide-y divide-gray-200">
                {% for user in batches_list[0]["members"] %}
                  <tr id="user_row_{{user.id}}">
                    <td class="py-3 pr-3 text-center">
                      <div class="flex items-center justify-center">
                        <input
                          x-model="selected_user_ids"
                          type="checkbox"
                          name="selected_users"
                          value="{{ user.id }}"
                        />
                      </div>
                    </td>
                    <td class="whitespace-nowrap py-4 px-3 text-sm font-medium text-gray-900 sm:pl-0">
                      <a href="#">{{user.username}}</a>
                    </td>
                    <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500">{{user.display_name}}</td>
                    <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500">{{user.email}}</td>
                    <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500">{{user.phone}}</td>
                    <td class="relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-0">
                      <div class="flex items-center">
                        <a href="#" @click.prevent="selectUserToRemove('{{user.id}}', '{{user.display_name}}')" class="rounded-full bg-white px-1 py-1 text-xs font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50">
                          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.0" stroke="currentColor" class="font-semibold w-3 h-3">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path>
                          </svg>
                        </a>
                      </div>
                    </td>
                  </tr>
                {% endfor %}
              </tbody>
            </table>
            
          </div>
        </div>
      </div>

      {% include 'partials/pagination.html' %}
    </div>
  {% else %}
    {% include './users_list_empty.html' %}
  {% endif %}
</div>
