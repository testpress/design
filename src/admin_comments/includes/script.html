<script>
  function getCommentData() {
    return {
      selectedCommentIds: [],
      search_value:null,
      showReplyComment:null,
      selected_filter : "Filter Comments",
      is_filtered :false,

    init() {
      const url = new URL(window.location.href);
      const params = new URLSearchParams(url.search);
      this.search_value = params.get('search') || null;
      if (this.search_value && this.search_value.length > 20) {
         this.search_value = this.search_value.slice(0, 20) + '...';
      }
    },
    

    get_selected_filter(){
      let selected_filter = "Filter Comments"
      const urlParams = new URLSearchParams(window.location.search);
      const conent_object = urlParams.get('content_object');
      if (!conent_object) {
      return selected_filter;
     }
     this.is_filtered=true
     return conent_object
    },


    replyComment(comment_id){
      this.showReplyComment = comment_id
    },
     
    clear_search() {
      let newURL = new URL(window.location);
      newURL.searchParams.delete("search");
      window.location = newURL;
    }, 
    
    clear_filter() {
      let newURL = new URL(window.location);
      newURL.searchParams.delete("content_object");
      window.location = newURL;
    }, 
      
    }
  }
</script>
