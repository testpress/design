<script>
    var button = document.getElementById("edit_button");
    var displayElement = document.getElementById("display_element");
    var formElement = document.getElementById("form_element");
  
    function handleButtonClick() {
      if (button.textContent === "Edit") {
        button.textContent = "Save";
        displayElement.style.display = "none";
        formElement.style.display = "block";
      } else if (button.textContent === "Save") {
        button.disabled = true;
        formElement.submit();
      }
    }
  
    function handleFormSubmitAndBodyClick(event) {
      var target = event.target;
      if (target !== button && target !== formElement && !formElement.contains(target)) {
        button.textContent = "Edit";
        displayElement.style.display = "block";
        formElement.style.display = "none";
      }
    }
  
    button.addEventListener("click", handleButtonClick);
    formElement.addEventListener("submit", handleFormSubmitAndBodyClick);
    document.body.addEventListener("click", handleFormSubmitAndBodyClick);
  </script>