<script>
function progressBarComponent(progressPercentage) {
  return {
    percentage: progressPercentage,
    
    get segments() {
      const normalizedPercentage = Math.min(Math.max(this.percentage, 0), 100);
      let barColorClass;
      
      if (normalizedPercentage < 25) {
        barColorClass = 'bg-green-500';
      } else if (normalizedPercentage < 50) {
        barColorClass = 'bg-yellow-400';
      } else if (normalizedPercentage < 75) {
        barColorClass = 'bg-orange-500';
      } else {
        barColorClass = 'bg-red-600';
      }
      
      return [{
        width: normalizedPercentage,
        color: barColorClass
      }];
    }
  }
}
</script>

