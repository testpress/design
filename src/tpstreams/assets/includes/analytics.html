<div x-data="{ analytics_tab: 'overview', ...chartComponent() }" x-show="!disableAnalytics">
  <!-- Analytics Sub-tabs -->
  <div class="mt-4">
    <nav class="flex space-x-8" aria-label="Analytics Tabs">
      <button @click.prevent="analytics_tab = 'overview'"
        class="px-1 py-2 text-sm font-medium"
        :class="analytics_tab === 'overview' ? 'text-blue-600' : 'text-gray-500 hover:text-gray-700'">
        <span>Overview</span>
      </button>
      
      <button @click.prevent="analytics_tab = 'location'"
        class="px-1 py-2 text-sm font-medium"
        :class="analytics_tab === 'location' ? 'text-blue-600' : 'text-gray-500 hover:text-gray-700'">
        <span>Locations</span>
      </button>
      
      <button @click.prevent="analytics_tab = 'devices'"
        class="px-1 py-2 text-sm font-medium"
        :class="analytics_tab === 'devices' ? 'text-blue-600' : 'text-gray-500 hover:text-gray-700'">
        <span>Devices</span>
      </button>
    </nav>
  </div>

  <!-- Overview Tab Content -->
  <div x-show="analytics_tab === 'overview'">
    <div class="flex items-center justify-end mt-4">
      <button type="button"
        class="relative inline-flex items-center justify-center flex-shrink-0 w-10 h-5 rounded-full cursor-pointer group focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2"
        role="switch" :aria-checked="showSeparate.toString()" @click="toggleCharts">
        <span class="sr-only">Use setting</span>
        <span aria-hidden="true" class="absolute w-full h-full bg-white rounded-md pointer-events-none"></span>
        <span aria-hidden="true"
          class="absolute h-4 mx-auto transition-colors duration-200 ease-in-out bg-gray-200 rounded-full pointer-events-none w-9"
          :class="{ 'bg-blue-600': showSeparate }"></span>
        <span aria-hidden="true"
          class="absolute left-0 inline-block w-5 h-5 transition-transform duration-200 ease-in-out transform translate-x-0 bg-white border border-gray-200 rounded-full shadow pointer-events-none ring-0"
          :class="{ 'translate-x-5': showSeparate }"></span>
      </button>
      <span class="ml-3 text-sm" id="annual-billing-label">
        <span class="font-medium text-gray-900">Split Charts</span>
      </span>
    </div>

    <div class="flex justify-center">
      <div id="views_chart" :hidden="!showSeparate" class="w-80 h-52 sm:w-[600px] sm:h-[400px] md:w-[700px] sm:w-[600px] sm:h-[400px] md:h-[400px] 2xl:w-[1000px] 2xl:h-[500px] mt-4"></div>
    </div>
    <div class="flex justify-center">
      <div id="minutes_watched_chart" :hidden="!showSeparate" class="w-80 h-52 sm:w-[600px] sm:h-[400px] md:w-[700px] sm:w-[600px] sm:h-[400px] md:h-[400px] 2xl:w-[1000px] 2xl:h-[500px] mt-4"></div>
    </div>
    <div class="flex justify-center">
      <div id="chart" :hidden="showSeparate" class="w-80 h-52 sm:w-[600px] sm:h-[400px] md:w-[700px] sm:w-[600px] sm:h-[400px] md:h-[400px] 2xl:w-[1000px] 2xl:h-[500px] mt-4"></div>
    </div>
  </div>

  <!-- Location Tab Content -->
  <div x-show="analytics_tab === 'location'">
    {% include "./analytics_location.html" %}
  </div>

  <!-- Devices Tab Content -->
  <div x-show="analytics_tab === 'devices'">
    {% include "./analytics_devices.html" %}
  </div>
</div>  