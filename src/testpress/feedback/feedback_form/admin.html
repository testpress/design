---
view: Feedback
tags: testpress
title: Admin Feedback settings
date: 2025-10-17
---

{% extends "layouts/admin_base.html" %}

{% block body_class %}overflow-y-scroll min-h-screen bg-gray-100{% endblock body_class %}

{% block content %}
<div x-data="sortableTable()" x-init="initSortable()" @keydown.escape.window="closeModal()">
  <div class="py-10 max-w-7xl mx-auto lg:px-8 px-4">
    {% include "./includes/breadcrumbs.html" %}
    {% include "./includes/header.html" %}
    <div class="mt-5 p-5 flex flex-col bg-white border border-gray-200 shadow-sm rounded-xl">
      {% include "./includes/filters.html" %}
      <div class="overflow-x-auto [&::-webkit-scrollbar]:h-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 dark:[&::-webkit-scrollbar-track]:bg-neutral-700 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500">
        {% include "./includes/questions.html" %}
        {% include "./includes/empty.html" %}
      </div>
    </div>
  </div>
  {% include "./includes/edit_question_modal.html" %}
  {% include "./includes/add_question_modal.html" %}
</div>



<script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
<script>
  function sortableTable() {
    return {
      rows: [
        { id: 1, order:1, question: 'How the mentor of the course taught complex problems ?', isRequired: true, questionType: 'text' },
        { id: 2, order:2, question: 'Was the course content up to date?', isRequired: true, questionType: 'text' },
        { id: 3, order:3, question: 'Did you find the assignments helpful?', isRequired: false, questionType: 'text' },
        { id: 4, order:4, question: 'Overall rating for the course', isRequired: true, questionType: 'rating' },
      ],
      openRowId: null,
      openEditModal: false,
      editRow: {},

      openAddModal: false,
      newRow: {
        question: '',
        questionType: 'text',
        isRequired: false,
      },

      initSortable() {
        const container = document.querySelector('#hs-basic-sortable');

        new Sortable(container, {
          animation: 150,
          ghostClass: 'bg-gray-100',
          handle: '.cursor-grab',
        });
      },

      openEdit(row) {
        this.openRowId = row.id;
        this.editRow = { ...row };
        this.openEditModal = true;
      },

      closeModal() {
        this.openEditModal = false;
        this.openAddModal = false;
        this.openRowId = null;
        this.editRow = {};
        this.resetNewRow();
      },

      saveEdit() {
        const index = this.rows.findIndex(r => r.id === this.openRowId);
        if (index !== -1) {
          this.rows.splice(index, 1, { ...this.editRow });
        }
        this.closeModal();
      },

      openAdd() {
        this.resetNewRow();
        this.openAddModal = true;
      },

      resetNewRow() {
        this.newRow = {
          question: '',
          questionType: 'text',
          isRequired: false,
        };
      },

      saveNew() {
        if (!this.newRow.question.trim()) {
          return;
        }
        const newId = this.rows.length ? Math.max(...this.rows.map(r => r.id)) + 1 : 1;
        this.rows.push({ id: newId, ...this.newRow });
        this.closeModal();
      },
    };
  }
</script>

{% endblock content %}


