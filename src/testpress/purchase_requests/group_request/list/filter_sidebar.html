<!-- Backdrop -->
<div x-show="showFilterModal" x-transition:enter="transition ease-out duration-300" x-transition:enter-start="opacity-0"
  x-transition:enter-end="opacity-100" x-transition:leave="transition ease-in duration-300"
  x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0"
  class="fixed inset-0 z-[70] bg-gray-900 bg-opacity-50 dark:bg-opacity-80" style="display: none;"
  @click="showFilterModal = false">
</div>
<!-- End Backdrop -->

<!-- Filter Modal -->
<div x-show="showFilterModal" x-transition:enter="transition ease-out duration-300"
  x-transition:enter-start="translate-x-full" x-transition:enter-end="translate-x-0"
  x-transition:leave="transition ease-in duration-300" x-transition:leave-start="translate-x-0"
  x-transition:leave-end="translate-x-full"
  class="fixed top-0 end-0 transform size-full sm:w-[400px] z-[80] flex flex-col bg-white dark:bg-neutral-800"
  style="display: none;" @click.away="showFilterModal = false" role="dialog" tabindex="-1"
  aria-labelledby="hs-pro-filter-label">
  <!-- Header -->
  <div class="py-3 px-6 flex justify-between items-center border-b dark:border-neutral-700">
    <h3 id="hs-pro-filter-label" class="font-medium text-gray-800 dark:text-neutral-200">
      Filter
    </h3>
    <button type="button" @click="showFilterModal = false"
      class="py-1.5 px-2 inline-flex justify-center items-center gap-x-1 rounded-full border border-gray-200 text-xs text-gray-800 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-800 dark:border-neutral-700 dark:hover:bg-neutral-700 dark:text-neutral-200 dark:focus:bg-neutral-700"
      aria-label="Close">
      <span class="hidden lg:block">Esc</span>
      <span class="block lg:hidden">Close</span>
      <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none"
        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M18 6 6 18" />
        <path d="m6 6 12 12" />
      </svg>
    </button>
  </div>
  <!-- End Header -->

  <!-- Body -->
  <div
    class="bg-gray-100 h-full overflow-y-auto overflow-hidden [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 dark:[&::-webkit-scrollbar-track]:bg-neutral-700 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500 dark:bg-neutral-800">
    <div class="px-2 pb-2 space-y-2">
      <!-- Product Filter -->
      <div class="mt-2 p-4 bg-white rounded-lg dark:bg-neutral-900">
        <div class="mb-3">
          <h5 class="truncate font-medium text-sm text-gray-800 dark:text-neutral-200">
            Product
          </h5>
        </div>
        <div class="relative">
          <select x-model="selectedProduct" data-hs-select='{
            "placeholder": "All Products",
            "hasSearch": true,
            "searchPlaceholder": "Search products...",
            "searchClasses": "block w-full text-sm border-gray-200 rounded-lg focus:border-emerald-500 focus:ring-emerald-500 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder:text-neutral-400 py-2 px-3",
            "searchWrapperClasses": "bg-white p-2 -mx-1 sticky top-0 dark:bg-neutral-900",
            "toggleTag": "<button type=\"button\" aria-expanded=\"false\"><span data-title></span></button>",
            "toggleClasses": "hs-select-disabled:pointer-events-none hs-select-disabled:opacity-50 relative py-2 px-4 pe-9 flex text-nowrap w-full cursor-pointer bg-white border border-gray-200 rounded-lg text-start text-sm text-gray-800 focus:outline-hidden focus:ring-2 focus:ring-emerald-600 dark:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-200 dark:focus:outline-hidden dark:focus:ring-1 dark:focus:ring-neutral-600",
            "dropdownClasses": "mt-2 max-h-72 pb-1 px-1 pt-0 space-y-0.5 z-20 w-full bg-white border border-gray-200 rounded-lg overflow-hidden overflow-y-auto [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 dark:[&::-webkit-scrollbar-track]:bg-neutral-700 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500 dark:bg-neutral-900 dark:border-neutral-700",
            "optionClasses": "py-2 px-4 w-full text-sm text-gray-800 cursor-pointer hover:bg-gray-100 rounded-lg focus:outline-hidden focus:bg-gray-100 dark:text-neutral-200 dark:hover:bg-neutral-800 dark:focus:bg-neutral-800",
            "optionTemplate": "<div><div class=\"flex items-center\"><div class=\"text-gray-800 dark:text-neutral-200 \" data-title></div></div></div>",
            "extraMarkup": "<div class=\"absolute top-1/2 end-3 -translate-y-1/2\"><svg class=\"shrink-0 size-3.5 text-gray-500 dark:text-neutral-500 \" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"m7 15 5 5 5-5\"/><path d=\"m7 9 5-5 5 5\"/></svg></div>",
            "preventSearchFocus": false
          }' class="hidden mt-2">
            <option value="">All Products</option>
            <template x-for="product in products" :key="product">
              <option :value="product" x-text="product"></option>
            </template>
          </select>
        </div>
      </div>
      <!-- End Product Filter -->

      <!-- Manager Filter -->
      <div class="p-4 bg-white rounded-lg dark:bg-neutral-900">
        <div class="mb-3">
          <h5 class="truncate font-medium text-sm text-gray-800 dark:text-neutral-200">
            Manager
          </h5>
        </div>
        <div class="relative">
          <select x-model="selectedManager" data-hs-select='{
            "placeholder": "All Managers",
            "hasSearch": true,
            "searchPlaceholder": "Search managers...",
            "searchClasses": "block w-full text-sm border-gray-200 rounded-lg focus:border-emerald-500 focus:ring-emerald-500 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder:text-neutral-400 py-2 px-3",
            "searchWrapperClasses": "bg-white p-2 -mx-1 sticky top-0 dark:bg-neutral-900",
            "toggleTag": "<button type=\"button\" aria-expanded=\"false\"><span data-title></span></button>",
            "toggleClasses": "hs-select-disabled:pointer-events-none hs-select-disabled:opacity-50 relative py-2 px-4 pe-9 flex text-nowrap w-full cursor-pointer bg-white border border-gray-200 rounded-lg text-start text-sm text-gray-800 focus:outline-hidden focus:ring-2 focus:ring-emerald-600 dark:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-200 dark:focus:outline-hidden dark:focus:ring-1 dark:focus:ring-neutral-600",
            "dropdownClasses": "mt-2 max-h-72 pb-1 px-1 pt-0 space-y-0.5 z-20 w-full bg-white border border-gray-200 rounded-lg overflow-hidden overflow-y-auto [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 dark:[&::-webkit-scrollbar-track]:bg-neutral-700 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500 dark:bg-neutral-900 dark:border-neutral-700",
            "optionClasses": "py-2 px-4 w-full text-sm text-gray-800 cursor-pointer hover:bg-gray-100 rounded-lg focus:outline-hidden focus:bg-gray-100 dark:text-neutral-200 dark:hover:bg-neutral-800 dark:focus:bg-neutral-800",
            "optionTemplate": "<div><div class=\"flex items-center\"><div class=\"text-gray-800 dark:text-neutral-200 \" data-title></div></div></div>",
            "extraMarkup": "<div class=\"absolute top-1/2 end-3 -translate-y-1/2\"><svg class=\"shrink-0 size-3.5 text-gray-500 dark:text-neutral-500 \" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"m7 15 5 5 5-5\"/><path d=\"m7 9 5-5 5 5\"/></svg></div>",
            "preventSearchFocus": false
          }' class="hidden mt-2">
            <option value="">All Managers</option>
            <template x-for="manager in managers" :key="manager">
              <option :value="manager" x-text="manager"></option>
            </template>
          </select>
        </div>
      </div>
      <!-- End Manager Filter -->

      <!-- Progress Filter -->
      <div class="p-4 bg-white rounded-lg dark:bg-neutral-900">
        <div class="mb-3">
          <h5 class="truncate font-medium text-sm text-gray-800 dark:text-neutral-200">
            Progress
          </h5>
        </div>
        <div class="flex flex-wrap gap-2">
          <!-- Radio -->
          <label for="hs-pro-progress-not-started" class="py-2 px-2.5 relative flex justify-center items-center text-center text-[13px] bg-white border border-gray-200 ring-1 ring-transparent text-gray-800 cursor-pointer rounded-xl hover:border-emerald-600 hover:ring-emerald-600 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700 dark:hover:ring-neutral-600 dark:hover:ring-neutral-600
          has-[:checked]:bg-emerald-100 has-[:checked]:border-emerald-200 has-[:checked]:ring-emerald-200 has-[:checked]:text-emerald-800
          dark:has-[:checked]:bg-emerald-800/30 dark:has-[:checked]:border-emerald-800/50 dark:has-[:checked]:ring-emerald-800/50 dark:has-[:checked]:text-emerald-500
          has-[:disabled]:pointer-events-none
          has-[:disabled]:text-gray-200 dark:has-[:disabled]:text-neutral-700">
            <input type="radio" id="hs-pro-progress-not-started" class="hidden peer" name="progress"
              :checked="selectedProgress === 'not_started'" @change="selectedProgress = 'not_started'">
            <span
              class="flex shrink-0 justify-center items-center size-0 bg-emerald-500 text-transparent rounded-full transition-all duration-200 peer-checked:size-4 peer-checked:me-1.5 peer-checked:text-white">
              <svg class="shrink-0 size-2.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"
                stroke-linejoin="round">
                <path d="M20 6 9 17l-5-5" />
              </svg>
            </span>
            <span class="block">
              Not Started
            </span>
          </label>
          <!-- End Radio -->

          <!-- Radio -->
          <label for="hs-pro-progress-in-progress" class="py-2 px-2.5 relative flex justify-center items-center text-center text-[13px] bg-white border border-gray-200 ring-1 ring-transparent text-gray-800 cursor-pointer rounded-xl hover:border-emerald-600 hover:ring-emerald-600 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700 dark:hover:ring-neutral-600 dark:hover:ring-neutral-600
          has-[:checked]:bg-emerald-100 has-[:checked]:border-emerald-200 has-[:checked]:ring-emerald-200 has-[:checked]:text-emerald-800
          dark:has-[:checked]:bg-emerald-800/30 dark:has-[:checked]:border-emerald-800/50 dark:has-[:checked]:ring-emerald-800/50 dark:has-[:checked]:text-emerald-500
          has-[:disabled]:pointer-events-none
          has-[:disabled]:text-gray-200 dark:has-[:disabled]:text-neutral-700">
            <input type="radio" id="hs-pro-progress-in-progress" class="hidden peer" name="progress"
              :checked="selectedProgress === 'in_progress'" @change="selectedProgress = 'in_progress'">
            <span
              class="flex shrink-0 justify-center items-center size-0 bg-emerald-500 text-transparent rounded-full transition-all duration-200 peer-checked:size-4 peer-checked:me-1.5 peer-checked:text-white">
              <svg class="shrink-0 size-2.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"
                stroke-linejoin="round">
                <path d="M20 6 9 17l-5-5" />
              </svg>
            </span>
            <span class="block">
              In Progress
            </span>
          </label>
          <!-- End Radio -->

          <!-- Radio -->
          <label for="hs-pro-progress-completed" class="py-2 px-2.5 relative flex justify-center items-center text-center text-[13px] bg-white border border-gray-200 ring-1 ring-transparent text-gray-800 cursor-pointer rounded-xl hover:border-emerald-600 hover:ring-emerald-600 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700 dark:hover:ring-neutral-600 dark:hover:ring-neutral-600
          has-[:checked]:bg-emerald-100 has-[:checked]:border-emerald-200 has-[:checked]:ring-emerald-200 has-[:checked]:text-emerald-800
          dark:has-[:checked]:bg-emerald-800/30 dark:has-[:checked]:border-emerald-800/50 dark:has-[:checked]:ring-emerald-800/50 dark:has-[:checked]:text-emerald-500
          has-[:disabled]:pointer-events-none
          has-[:disabled]:text-gray-200 dark:has-[:disabled]:text-neutral-700">
            <input type="radio" id="hs-pro-progress-completed" class="hidden peer" name="progress"
              :checked="selectedProgress === 'completed'" @change="selectedProgress = 'completed'">
            <span
              class="flex shrink-0 justify-center items-center size-0 bg-emerald-500 text-transparent rounded-full transition-all duration-200 peer-checked:size-4 peer-checked:me-1.5 peer-checked:text-white">
              <svg class="shrink-0 size-2.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"
                stroke-linejoin="round">
                <path d="M20 6 9 17l-5-5" />
              </svg>
            </span>
            <span class="block">
              Completed
            </span>
          </label>
          <!-- End Radio -->
        </div>
      </div>
      <!-- End Progress Filter -->

      <!-- Date Range Filter -->
      <div class="p-4 bg-white rounded-lg dark:bg-neutral-900">
        <div class="mb-3">
          <h5 class="truncate font-medium text-sm text-gray-800 dark:text-neutral-200">
            Date Range
          </h5>
        </div>
        <div class="flex flex-wrap gap-2">
          <!-- Radio -->
          <label for="hs-pro-date-today" class="py-2 px-2.5 relative flex justify-center items-center text-center text-[13px] bg-white border border-gray-200 ring-1 ring-transparent text-gray-800 cursor-pointer rounded-xl hover:border-emerald-600 hover:ring-emerald-600 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700 dark:hover:ring-neutral-600 dark:hover:ring-neutral-600
          has-[:checked]:bg-emerald-100 has-[:checked]:border-emerald-200 has-[:checked]:ring-emerald-200 has-[:checked]:text-emerald-800
          dark:has-[:checked]:bg-emerald-800/30 dark:has-[:checked]:border-emerald-800/50 dark:has-[:checked]:ring-emerald-800/50 dark:has-[:checked]:text-emerald-500
          has-[:disabled]:pointer-events-none
          has-[:disabled]:text-gray-200 dark:has-[:disabled]:text-neutral-700">
            <input type="radio" id="hs-pro-date-today" class="hidden peer" name="date-range-quick"
              :checked="selectedDateRange === 'today'"
              @change="selectedDateRange = 'today'; customDateStart = null; customDateEnd = null">
            <span
              class="flex shrink-0 justify-center items-center size-0 bg-emerald-500 text-transparent rounded-full transition-all duration-200 peer-checked:size-4 peer-checked:me-1.5 peer-checked:text-white">
              <svg class="shrink-0 size-2.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"
                stroke-linejoin="round">
                <path d="M20 6 9 17l-5-5" />
              </svg>
            </span>
            <span class="block">
              Today
            </span>
          </label>
          <!-- End Radio -->

          <!-- Radio -->
          <label for="hs-pro-date-7days" class="py-2 px-2.5 relative flex justify-center items-center text-center text-[13px] bg-white border border-gray-200 ring-1 ring-transparent text-gray-800 cursor-pointer rounded-xl hover:border-emerald-600 hover:ring-emerald-600 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700 dark:hover:ring-neutral-600 dark:hover:ring-neutral-600
          has-[:checked]:bg-emerald-100 has-[:checked]:border-emerald-200 has-[:checked]:ring-emerald-200 has-[:checked]:text-emerald-800
          dark:has-[:checked]:bg-emerald-800/30 dark:has-[:checked]:border-emerald-800/50 dark:has-[:checked]:ring-emerald-800/50 dark:has-[:checked]:text-emerald-500
          has-[:disabled]:pointer-events-none
          has-[:disabled]:text-gray-200 dark:has-[:disabled]:text-neutral-700">
            <input type="radio" id="hs-pro-date-7days" class="hidden peer" name="date-range-quick"
              :checked="selectedDateRange === 'last-7-days'"
              @change="selectedDateRange = 'last-7-days'; customDateStart = null; customDateEnd = null">
            <span
              class="flex shrink-0 justify-center items-center size-0 bg-emerald-500 text-transparent rounded-full transition-all duration-200 peer-checked:size-4 peer-checked:me-1.5 peer-checked:text-white">
              <svg class="shrink-0 size-2.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"
                stroke-linejoin="round">
                <path d="M20 6 9 17l-5-5" />
              </svg>
            </span>
            <span class="block">
              Last 7 days
            </span>
          </label>
          <!-- End Radio -->

          <!-- Radio -->
          <label for="hs-pro-date-30days" class="py-2 px-2.5 relative flex justify-center items-center text-center text-[13px] bg-white border border-gray-200 ring-1 ring-transparent text-gray-800 cursor-pointer rounded-xl hover:border-emerald-600 hover:ring-emerald-600 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-700 dark:hover:ring-neutral-600 dark:hover:ring-neutral-600
          has-[:checked]:bg-emerald-100 has-[:checked]:border-emerald-200 has-[:checked]:ring-emerald-200 has-[:checked]:text-emerald-800
          dark:has-[:checked]:bg-emerald-800/30 dark:has-[:checked]:border-emerald-800/50 dark:has-[:checked]:ring-emerald-800/50 dark:has-[:checked]:text-emerald-500
          has-[:disabled]:pointer-events-none
          has-[:disabled]:text-gray-200 dark:has-[:disabled]:text-neutral-700">
            <input type="radio" id="hs-pro-date-30days" class="hidden peer" name="date-range-quick"
              :checked="selectedDateRange === 'last-30-days'"
              @change="selectedDateRange = 'last-30-days'; customDateStart = null; customDateEnd = null">
            <span
              class="flex shrink-0 justify-center items-center size-0 bg-emerald-500 text-transparent rounded-full transition-all duration-200 peer-checked:size-4 peer-checked:me-1.5 peer-checked:text-white">
              <svg class="shrink-0 size-2.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"
                stroke-linejoin="round">
                <path d="M20 6 9 17l-5-5" />
              </svg>
            </span>
            <span class="block">
              Last 30 days
            </span>
          </label>
          <!-- End Radio -->
        </div>
      </div>
      <!-- End Date Range Filter -->
    </div>
  </div>
  <!-- End Body -->

  <!-- Footer -->
  <div class="p-6 border-t border-gray-200 dark:border-neutral-700">
    <div class="flex items-center gap-x-2">
      <button type="button" @click="clearAllFilters(); showFilterModal = false"
        class="py-2 px-3 w-full inline-flex justify-center items-center gap-x-1.5 text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:bg-gray-50 dark:bg-neutral-800 dark:hover:bg-neutral-700 dark:focus:bg-neutral-700 dark:border-neutral-700 dark:text-neutral-300">
        <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
          fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M18 6 6 18" />
          <path d="m6 6 12 12" />
        </svg>
        Clear filters
      </button>

      <button type="button" @click="showFilterModal = false"
        class="py-2 px-3 w-full inline-flex justify-center items-center gap-x-2 text-sm font-medium rounded-lg border border-transparent bg-emerald-600 text-white hover:bg-emerald-700 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:bg-emerald-700">
        Filter
      </button>
    </div>
  </div>
  <!-- End Footer -->
</div>
<!-- End Filter Modal -->