<div class="sm:col-span-2 mt-4">
  <div class="sm:flex sm:items-center">
    <div class="sm:flex-auto">
      <h1 class="text-base font-semibold leading-6 text-gray-900">Installments</h1>
      <p class="mt-2 text-sm text-gray-700">The next payment of <strong class="font-semibold text-gray-900">$80</strong> will be due on <strong class="font-semibold text-gray-900">August 4, 2022</strong>.</p>
    </div>
    <div class="mt-4 sm:ml-16 sm:mt-0 sm:flex-none">
      <button type="button" class="inline-flex items-center gap-x-1.5 rounded-md bg-emerald-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-emerald-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-emerald-600">
        <svg class="-ml-0.5 h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75" />
        </svg>
        
        Send Payment Reminder
      </button>
    </div>
  </div>
  <div class="mt-8 ring-1 ring-gray-300 rounded-lg">
    <table class="min-w-full divide-y divide-gray-300">
      <thead>
        <tr>
          <th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6">Order Id</th>
          <th scope="col" class="hidden px-3 py-3.5 text-left text-sm font-semibold text-gray-900 lg:table-cell">Price</th>
          <th scope="col" class="hidden px-3 py-3.5 text-left text-sm font-semibold text-gray-900 lg:table-cell">Paid On</th>
          <th scope="col" class="hidden px-3 py-3.5 text-left text-sm font-semibold text-gray-900 lg:table-cell">Validity (Days)</th>
          <th scope="col" class="hidden px-3 py-3.5 text-left text-sm font-semibold text-gray-900 lg:table-cell">Note</th>
          <th scope="col" class="py-3.5 pl-3 pr-4 sm:pr-6 text-left text-sm font-semibold text-gray-900 max-w-[12rem]"></th>
        </tr>
      </thead>
      <tbody>
        {% for order_item in user_installment.order_items %}
        <tr key="{{ order_item.id }}">
          <td class="relative py-4 pl-4 pr-3 text-sm sm:pl-6 font-medium text-gray-900 {{ 'border-t border-transparent' if not loop.first else '' }}">
            #{{ order_item.order_id }}
            {% if not loop.first %}<div class="absolute -top-px left-6 right-0 h-px bg-gray-200"></div>{% endif %}
          </td>
          <td
            class="hidden px-3 py-3.5 text-sm text-gray-500 lg:table-cell {{ 'border-t border-gray-200' if not loop.first else '' }}">
            {{ order_item.price }}
          </td>
          <td
            class="hidden px-3 py-3.5 text-sm text-gray-500 lg:table-cell {{ 'border-t border-gray-200' if not loop.first else '' }}">
            {{ order_item.paid_on }}
          </td>
          <td
            class="hidden px-3 py-3.5 text-sm text-gray-500 lg:table-cell {{ 'border-t border-gray-200' if not loop.first else '' }}">
            {{ order_item.validity }}
          </td>
          <td
            class="hidden px-3 py-3.5 text-sm text-gray-500 lg:table-cell max-w-[12rem] {{ 'border-t border-gray-200' if not loop.first else '' }}">
            {{ order_item.note }}
          </td>
          <td
             x-data ="{open:false}" class="relative py-3.5 pl-3 pr-4 text-right text-sm font-medium sm:pr-6 {{ 'border-t border-transparent' if not loop.first else '' }}">
            <button @click="open = !open" type="button"
              class="inline-flex items-center rounded-md bg-white px-2.5 py-1.5 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-30 disabled:hover:bg-white"
              {% if not loop.last %} disabled {% endif %}>
              Extend Validity<span class="sr-only">, {{ order_item.name }}</span>
            </button>
            {% include "./extend_validity_dialog.html" %}
            {% if not forloop.first %}<div class="absolute -top-px left-0 right-6 h-px bg-gray-200"></div>{% endif %}
          </td>
        </tr>
        {% endfor %}
        {% if user_installment.order_items.length == 0 %}
        <tr>
          <td colspan="5" class="p-8 text-center text-sm">No installment payments</td>
        </tr>
        {% endif %}
      </tbody>
    </table>
  </div>
</div>