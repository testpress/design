<div class="sm:col-span-2 mt-4">
  <div class="-mx-4 ring-1 ring-gray-300 sm:-mx-6 md:mx-0 md:rounded-lg">
    <table class="min-w-full divide-y divide-gray-300">
      <thead>
        <tr>
          <th scope="col" class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6">Order Id</th>
          <th scope="col" class="hidden px-3 py-3.5 text-left text-sm font-semibold text-gray-900 lg:table-cell">Price</th>
          <th scope="col" class="hidden px-3 py-3.5 text-left text-sm font-semibold text-gray-900 lg:table-cell">Paid On</th>
          <th scope="col" class="hidden px-3 py-3.5 text-left text-sm font-semibold text-gray-900 lg:table-cell">Validity (Days)</th>
          <th scope="col" class="hidden px-3 py-3.5 text-left text-sm font-semibold text-gray-900 lg:table-cell">Note</th>
          <th scope="col" class="py-3.5 pl-3 pr-4 sm:pr-6 text-left text-sm font-semibold text-gray-900 max-w-[12rem]"></th>
        </tr>
      </thead>
      <tbody>
        {% for order_item in user_installment.order_items %}
        <tr key="{{ order_item.id }}">
          <td class="relative py-4 pl-4 pr-3 text-sm sm:pl-6 font-medium text-gray-900 {{ 'border-t border-transparent' if not loop.first else '' }}">
            #{{ order_item.order_id }}
            {% if not loop.first %}<div class="absolute -top-px left-6 right-0 h-px bg-gray-200"></div>{% endif %}
          </td>
          <td
            class="hidden px-3 py-3.5 text-sm text-gray-500 lg:table-cell {{ 'border-t border-gray-200' if not loop.first else '' }}">
            {{ order_item.price }}
          </td>
          <td
            class="hidden px-3 py-3.5 text-sm text-gray-500 lg:table-cell {{ 'border-t border-gray-200' if not loop.first else '' }}">
            {{ order_item.paid_on }}
          </td>
          <td
            class="hidden px-3 py-3.5 text-sm text-gray-500 lg:table-cell {{ 'border-t border-gray-200' if not loop.first else '' }}">
            {{ order_item.validity }}
          </td>
          <td
            class="hidden px-3 py-3.5 text-sm text-gray-500 lg:table-cell max-w-[12rem] {{ 'border-t border-gray-200' if not loop.first else '' }}">
            {{ order_item.note }}
          </td>
          <td
             x-data ="{open:false}" class="relative py-3.5 pl-3 pr-4 text-right text-sm font-medium sm:pr-6 {{ 'border-t border-transparent' if not loop.first else '' }}">
            <button @click="open = !open" type="button"
              class="inline-flex items-center rounded-md bg-white px-2.5 py-1.5 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-30 disabled:hover:bg-white"
              {% if not loop.last %} disabled {% endif %}>
              Extend Validity<span class="sr-only">, {{ order_item.name }}</span>
            </button>
            {% include "./extend_validity_dialog.html" %}
            {% if not forloop.first %}<div class="absolute -top-px left-0 right-6 h-px bg-gray-200"></div>{% endif %}
          </td>
        </tr>
        {% endfor %}
        {% if user_installment.order_items.length == 0 %}
        <tr>
          <td colspan="5" class="p-8 text-center text-sm">No installment payments</td>
        </tr>
        {% endif %}
      </tbody>
    </table>
  </div>
</div>