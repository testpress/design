{% macro toggle_switch(model, label, description, sr_label, class_names="") %}
<div class="flex items-center justify-between {{ class_names }}">
  <span class="flex flex-grow flex-col">
    <h2 class="text-base font-semibold leading-7 text-gray-900 dark:text-neutral-200">
      {{ label }}
    </h2>
    <span class="text-sm text-gray-500 dark:text-neutral-400 break-words pr-5">
      {{ description }}
    </span>
  </span>
  <form>
    <input type="checkbox" name="{{ model }}" x-model="{{ model }}" class="hidden" />
    <button
      type="button"
      class="relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-emerald-600 focus:ring-offset-2"
      role="switch"
      :aria-checked="{{ model }}"
      :class="{'bg-emerald-600': {{ model }}, 'bg-gray-200': !{{ model }}}"
      @click="{{ model }} = !{{ model }}"
    >
      <span class="sr-only">{{ sr_label }}</span>
      <span
        aria-hidden="true"
        class="pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"
        :class="{'translate-x-5': {{ model }}, 'translate-x-0': !{{ model }}}"
      ></span>
    </button>
  </form>
</div>
{% endmacro %}