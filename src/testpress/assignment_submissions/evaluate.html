{% extends "layouts/admin_base.html" %}

<!-- prettier-ignore-->
{% block body_class %}min-h-screen bg-gray-100{% endblock body_class %}

{% block extra_head %}
<!-- PDF.js Viewer CSS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.10.38/pdf_viewer.min.css"
  integrity="sha512-3RmdRrL3AYc82NkZyJY3Id9029bY37R6LtgNQkNRdZm+eI0sVjV/J5IF9QsC8VDUheqJ9pxCBQc8ts6wiOXIOg=="
  crossorigin="anonymous" referrerpolicy="no-referrer" />
<!-- PDF.js Library -->
<script src="https://unpkg.com/pdfjs-dist@4.10.38/build/pdf.min.mjs" type="module"></script>
{% endblock extra_head %}

<!-- prettier-ignore-->
{% block content %}

<div class="py-10 mx-auto max-w-7xl lg:px-8">
  <nav class="flex px-4 sm:px-0" aria-label="Breadcrumb">
    <ol class="flex items-center space-x-2">
      <li>
        <div>
          <a href="#" class="text-gray-600">
            <!-- Heroicon name: home -->
            <svg class="w-5 h-5 shrink-0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"
              aria-hidden="true">
              <path
                d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z">
              </path>
            </svg>
            <span class="sr-only">Home</span>
          </a>
        </div>
      </li>
      <li>
        <div class="flex items-center">
          <!-- Heroicon name: chevron-right -->
          <svg class="w-5 h-5 text-gray-400 shrink-0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
            fill="currentColor" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
              clip-rule="evenodd"></path>
          </svg>

          <a href="#" class="ml-4 text-sm font-medium text-gray-600 hover:text-gray-700">Assignment Evaluations</a>
        </div>
      </li>
    </ol>
  </nav>
  <div class="flex flex-col justify-between px-4 mt-3 lg:flex-row sm:px-0">
    <div class="flex flex-col">
      <h1 class="text-xl font-semibold text-gray-900 font-display">
        Showing Rajesh D's submission for IELTS Assignment
      </h1>
      <div class="text-xs text-gray-600 print:hidden"></div>
    </div>
    <nav class="flex items-start justify-between mt-4 lg:mt-0">
      <div class="flex flex-1 -mt-px">
        <a href="/evaluate/chapter-content-attempts/13286/?state=2"
          class="inline-flex items-center pr-1 text-sm font-medium text-gray-500 hover:text-gray-700">
          <!-- Heroicon name: solid/arrow-narrow-left -->
          <svg class="w-5 h-5 mr-3 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
            fill="currentColor" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M7.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l2.293 2.293a1 1 0 010 1.414z"
              clip-rule="evenodd"></path>
          </svg>
          Previous
        </a>
      </div>

      <div class="flex justify-end flex-1 ml-6 -mt-px">
        <a href="/evaluate/chapter-content-attempts/13204/?state=2"
          class="inline-flex items-center pl-1 text-sm font-medium text-gray-500 hover:text-gray-700">
          Next
          <!-- Heroicon name: solid/arrow-narrow-right -->
          <svg class="w-5 h-5 ml-3 text-gray-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
            fill="currentColor" aria-hidden="true">
            <path fill-rule="evenodd"
              d="M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z"
              clip-rule="evenodd"></path>
          </svg>
        </a>
      </div>
    </nav>
  </div>

  <div class="flow-root">
    <div class="-mx-4 -my-2 sm:-mx-6 lg:-mx-8">
      <div class="inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8">
        <div class="lg:grid lg:grid-cols-12 lg:gap-8">
          <main x-data="assignmentEvaluator()" x-init="loadPDF()" class="lg:col-span-8">
            <div class="mt-5">
              <section>
                <div class="p-6 overflow-hidden bg-white border border-gray-200 sm:py-2 rounded-xl">

                  <div x-data="{ activeTab: 'User Response' }">
                    <!-- Mobile Select -->
                    <div class="grid grid-cols-1 sm:hidden">
                      <select x-model="activeTab" aria-label="Select a tab"
                        class="w-full col-start-1 row-start-1 py-2 pl-3 pr-8 text-base text-gray-900 bg-white rounded-md appearance-none outline outline-1 -outline-offset-1 outline-gray-300 focus:outline focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600">
                        <option value="User Response">User Response</option>
                        <option value="Attached Files">Attached Files</option>
                        <option value="Solutions">Solutions</option>
                        <option value="For Evaluators">For Evaluators</option>
                      </select>
                      <svg
                        class="self-center col-start-1 row-start-1 mr-2 pointer-events-none size-5 justify-self-end fill-gray-500"
                        viewBox="0 0 16 16" fill="currentColor" aria-hidden="true">
                        <path fill-rule="evenodd"
                          d="M4.22 6.22a.75.75 0 0 1 1.06 0L8 8.94l2.72-2.72a.75.75 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 7.28a.75.75 0 0 1 0-1.06Z"
                          clip-rule="evenodd" />
                      </svg>
                    </div>

                    <!-- Desktop Tabs -->
                    <div class="hidden sm:block">
                      <div class="border-b border-gray-200">
                        <nav class="flex -mb-px space-x-8" aria-label="Tabs">
                          <a href="#" @click.prevent="activeTab = 'User Response'"
                            :class="activeTab === 'User Response' ? 'border-indigo-500 text-indigo-600' : 'border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700'"
                            class="px-1 py-4 text-sm font-medium border-b-2 whitespace-nowrap">User Response</a>
                          <a href="#" @click.prevent="activeTab = 'Attached Files'"
                            :class="activeTab === 'Attached Files' ? 'border-indigo-500 text-indigo-600' : 'border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700'"
                            class="px-1 py-4 text-sm font-medium border-b-2 whitespace-nowrap">Attached Files</a>
                          <a href="#" @click.prevent="activeTab = 'Solutions'"
                            :class="activeTab === 'Solutions' ? 'border-indigo-500 text-indigo-600' : 'border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700'"
                            class="px-1 py-4 text-sm font-medium border-b-2 whitespace-nowrap">Solutions</a>
                          <a href="#" @click.prevent="activeTab = 'For Evaluators'"
                            :class="activeTab === 'For Evaluators' ? 'border-indigo-500 text-indigo-600' : 'border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700'"
                            class="px-1 py-4 text-sm font-medium border-b-2 whitespace-nowrap">For Evaluators</a>
                        </nav>
                      </div>
                    </div>

                    <!-- Tab Content -->
                    <div class="mt-4">
                      <div x-show="activeTab === 'User Response'" x-id="['tab-content']">
                        {% include "./includes/user_submission_tab_content.html" %}
                      </div>
                      <div x-show="activeTab === 'Attached Files'" x-id="['tab-content']">
                        {% include "./includes/attached_files_tab_content.html" %}
                      </div>
                      <div x-show="activeTab === 'Solutions'" x-id="['tab-content']">
                        {% include "./includes/attached_files_tab_content.html" %}
                      </div>
                      <div x-show="activeTab === 'For Evaluators'" x-id="['tab-content']">
                        {% include "./includes/attached_files_tab_content.html" %}
                      </div>
                    </div>
                  </div>
                </div>
              </section>
            </div>
          </main>

          <aside class="lg:col-span-4">
            <div class="sticky mt-5 top-4">
              <div class="space-y-4">
                <!-- prettier-ignore -->
                {% include "./includes/marking_grade_sidebar.html" %}
                {% include "./includes/student_info.html" %}
              </div>
            </div>
          </aside>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}

<!-- prettier-ignore-->
{% block script %}
{% include "./includes/assignment_evaluator_script.html" %}
{% include "./includes/marking_guide_script.html" %}
{% include "./includes/popover_script.html" %}
{% endblock script %}