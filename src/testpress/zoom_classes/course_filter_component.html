<script>
  function useCourseFilter() {
  return {
    selectedCategories: [],
    showAll: false,
    visibleCount: 0,
    searchQuery: '',
    categories: [
      { "id": 1, "name": "NEET Crash Course 2025" },
      { "id": 2, "name": "UPSC Prelims 2024 Intensive" },
      { "id": 3, "name": "IIT JEE Main Revision 2024" },
      { "id": 4, "name": "SSC CGL Tier 1 Masterclass" },
      { "id": 5, "name": "Bank PO Mains 2023" },
      { "id": 6, "name": "GATE Mechanical Engineering 2024" },
      { "id": 7, "name": "CAT Quantitative Aptitude Booster" },
      { "id": 8, "name": "UPSC Mains GS Paper 2" },
      { "id": 9, "name": "Railway NTPC Fast Track" },
      { "id": 10, "name": "CLAT 2025 Foundation Course" },
      { "id": 11, "name": "IELTS Band 8+ Strategies" },
      { "id": 12, "name": "SSC CHSL Complete Pack" },
      { "id": 13, "name": "IBPS Clerk Prelims Practice" },
      { "id": 14, "name": "NEET Biology Mastery 2025" },
      { "id": 15, "name": "IIT JEE Physics Deep Dive" },
      { "id": 16, "name": "NDA General Ability Test Prep" },
      { "id": 17, "name": "RBI Grade B Phase 1" },
      { "id": 18, "name": "UPTET Paper 1 Full Course" },
      { "id": 19, "name": "SSC GD Constable Crash Course" },
      { "id": 20, "name": "NET Paper 1 Teaching Aptitude" },
      { "id": 21, "name": "BITSAT Mock Series 2024" },
      { "id": 22, "name": "CUET UG English Section" },
      { "id": 23, "name": "IAS CSAT Solved Practice" },
      { "id": 24, "name": "RRB Group D Final Revision" },
      { "id": 25, "name": "UGC NET Paper 2 Commerce" },
      { "id": 26, "name": "KVPY SA Stream Guide" },
      { "id": 27, "name": "SSC JE Electrical Full Course" },
      { "id": 28, "name": "DSSSB PRT Science" },
      { "id": 29, "name": "SSC Stenographer Grade C & D" },
      { "id": 30, "name": "UPSC EPFO EO/AO Preparation" },
      { "id": 31, "name": "CUET General Test (UG)" },
      { "id": 32, "name": "NEET Chemistry Target 2025" },
      { "id": 33, "name": "CAT LRDI Intensive Pack" },
      { "id": 34, "name": "SSC CPO Paper 1 Practice" },
      { "id": 35, "name": "IIT JEE Organic Chemistry" },
      { "id": 36, "name": "IAS Prelims History MCQs" },
      { "id": 37, "name": "Railways ALP 2024 Batch" },
      { "id": 38, "name": "CLAT Legal Aptitude Series" },
      { "id": 39, "name": "IB ACIO Grade 2 Preparation" },
      { "id": 40, "name": "ISRO Scientist (Mechanical)" },
      { "id": 41, "name": "JAM Physics 2025 Pack" },
      { "id": 42, "name": "TET Tamil Nadu Paper 2" },
      { "id": 43, "name": "SSC MTS Final Sprint" },
      { "id": 44, "name": "RRB JE Stage 1 Technical" },
      { "id": 45, "name": "CAT VARC Practice 2024" },
      { "id": 46, "name": "NEET Mock Series Elite Pack" },
      { "id": 47, "name": "UPSC Ethics Paper Case Studies" },
      { "id": 48, "name": "SSC GD Hindi Medium Batch" },
      { "id": 49, "name": "JEE Maths Formula Revision" },
      { "id": 50, "name": "UGC NET English Literature" }
    ],

    init() {
      this.setVisibleCount();
      window.addEventListener('resize', () => this.setVisibleCount());
    },

    setVisibleCount() {
      if (window.innerWidth < 640) this.visibleCount = 1;
      else if (window.innerWidth < 768) this.visibleCount = 2;
      else if (window.innerWidth < 1200) this.visibleCount = 3;
      else if (window.innerWidth < 1300) this.visibleCount = 4;
      else if (window.innerWidth < 1500) this.visibleCount = 5;
      else this.visibleCount = 6;
    },

    toggleCategory(id) {  
      if (this.selectedCategories.includes(id)) {
        this.selectedCategories = this.selectedCategories.filter(catId => catId !== id);
      } else {
        this.selectedCategories.push(id);
      }
    },

    isSelected(id) {
      return this.selectedCategories.includes(id);
    },

    filteredCategories() {
      const query = this.searchQuery.trim().toLowerCase();
      if (!query) return this.categories;
      return this.categories.filter(c => c.name.toLowerCase().includes(query));
    }
  };
}
</script>