<script>
  function reviewAnswerComponent() {
    return {
      sections: [
        {
          name: "Quantitative Aptitude",
          questions: [
            {
              id: 1,
              q_no: 1,
              question: "What is the value of (15 + 25) × 2?",
              options: ["80", "70", "60", "90"],
              correctIndex: 1,
              selectedIndex: 1,
              explanation: "(15 + 25) × 2 = 40 × 2 = 80.",
            },
            {
              id: 2,
              q_no: 2,
              question: "A train runs at 60 km/h. How long will it take to cover 180 km?",
              options: ["2 hours", "3 hours", "4 hours", "2.5 hours"],
              correctIndex: 1,
              selectedIndex: 0,
              explanation: "Time = Distance / Speed = 180 / 60 = 3 hours.",
            },
            {
              id: 3,
              q_no: 3,
              question: "What is the simple interest on ₹5000 at 5% per annum for 2 years?",
              options: ["₹500", "₹400", "₹450", "₹550"],
              correctIndex: 0,
              selectedIndex: null,
              explanation: "SI = (P × R × T) / 100 = (5000 × 5 × 2) / 100 = ₹500.",
            },
            {
              id: 4,
              q_no: 4,
              question: "If the ratio of boys to girls is 3:2, how many girls are there in a class of 30 students?",
              options: ["12", "15", "18", "10"],
              correctIndex: 0,
              selectedIndex: 0,
              explanation: "Total parts = 3+2 = 5; Girls = (2/5)×30 = 12.",
            },
          ],
        },
        {
          name: "Logical Reasoning",
          questions: [
            {
              id: 5,
              q_no: 1,
              question: "What comes next in the series: 3, 6, 12, 24, __?",
              options: ["36", "40", "48", "60"],
              correctIndex: 2,
              selectedIndex: 2,
              explanation: "Series doubles: 3×2=6, 6×2=12, etc. Next is 24×2=48.",
            },
          ],
        },
      ],
  
      selectedSectionIndex: 0,
      selectedQuestionIndex: 0,
      filter: "All", // All, Correct, Incorrect, Unanswered
  
      get currentSection() {
        return this.sections[this.selectedSectionIndex];
      },
  
      get filteredQuestions() {
        return this.currentSection.questions.filter((q) => {
          if (this.filter === 'Correct') return q.selectedIndex === q.correctIndex;
          if (this.filter === 'Incorrect') return q.selectedIndex !== null && q.selectedIndex !== q.correctIndex;
          if (this.filter === 'Unanswered') return q.selectedIndex === null;
          return true; // 'All'
        });
      },
  

      get currentQuestion() {
        console.log('called');
        const questions = this.filteredQuestions;
        console.log(questions)
        return questions.length > 0 ? questions[this.selectedQuestionIndex] : null;
      },
  
      hasNext() {
        return this.selectedQuestionIndex < this.filteredQuestions.length - 1;
      },

      hasPrevious() {
        return this.selectedQuestionIndex > 0;
      },
  
      nextQuestion() {
        if (this.selectedQuestionIndex < this.filteredQuestions.length - 1) {
          this.selectedQuestionIndex++;
        } else if (this.selectedSectionIndex < this.sections.length - 1) {
          this.selectedSectionIndex++;
          this.selectedQuestionIndex = 0;
        }
      },
  
      previousQuestion() {
        if (this.selectedQuestionIndex > 0) {
          this.selectedQuestionIndex--;
        } else if (this.selectedSectionIndex > 0) {
          this.selectedSectionIndex--;
          this.selectedQuestionIndex = this.filteredQuestions.length - 1;
        }
      },
  
      jumpToQuestion(qIndex) {
        this.selectedQuestionIndex = qIndex;
      },
  
      setFilter(type) {
        this.filter = type;
        this.filteredQuestions;
      },
    };
  }
  </script>
  