<script src="https://preline.co/pro/assets/vendor/lodash/lodash.min.js"></script>
<script src="https://preline.co/pro/assets/vendor/apexcharts/dist/apexcharts.min.js"></script>
<script src="https://preline.co/pro/assets/js/hs-apexcharts-helpers.js"></script>

<script>
  window.addEventListener('load', () => {
    // Apex Doughnut Chart
    (function () {
      buildChart('#hs-pie-chart', (mode) => ({
        chart: {
          height: 230,
          width: 230,
          type: 'donut',
          zoom: {
            enabled: false
          }
        },
        plotOptions: {
          pie: {
            donut: {
              size: '76%'
            }
          }
        },
        
        series: [10, 5, 5],
        labels: ['Correct', 'Incorrect', 'Unanswered'],
        legend: {
          show: false
        },
        dataLabels: {
          enabled: false
        },
        stroke: {
          width: 5
        },
        grid: {
          padding: {
            top: -12,
            bottom: -11,
            left: -12,
            right: -12
          }
        },
        states: {
  normal: {
    filter: {
      type: 'none',
      value: 0
    }
  },
  hover: {
    filter: {
      type: 'none',
      value: 0
    }
  },
  active: {
    allowMultipleDataPointsSelection: false,
    filter: {
      type: 'none',
      value: 0
    },
    style: {
      transform: 'none',
      filter: 'none'
    }
  }
},


        tooltip: {
        enabled: true,
        custom: function ({ series, seriesIndex, w }) {
          const label = w.globals.labels[seriesIndex];
          const value = series[seriesIndex];
          const total = series.reduce((a, b) => a + b, 0);
          const percentage = ((value / total) * 100).toFixed(1);
          const color = w.globals.colors[seriesIndex];

          return `
            <div class="border border-neutral-700 bg-neutral-800 w-36 text-white  ">
              <div class="px-2 py-1.5 font-semibold text-[13px] flex items-center">
                  <span>${label}</span>
                  <span class="ms-auto">${percentage}%</span>
              </div>
              <div class="border-t border-neutral-700"></div>
              <div class="space-y-1.5 p-2">
                <div class="flex items-center gap-x-2  text-xs text-neutral-300">
                  <span class="w-3 h-3 rounded-sm inline-block" style="background:${color}"></span>
                  <span class="">Questions</span>
                  <span class="ms-auto">${value}</span>
                </div>
              </div>
            </div>
          `;
        }
      }
      }), {
        colors: ['#22c55e', '#ef4444', '#f97316'],
        stroke: {
          colors: ['#ffffff']
        }
      }, {
        colors: ['#22c55e', '#ef4444', '#f97316'],
        stroke: {
          colors: ['#ffffff']
        }
      });
    })();
  });
</script>


  <script>
    window.addEventListener('load', () => {
      // Apex Orders Bar Chart
      (function () {
        buildChart('#section_wise_report', (mode) => ({
          chart: {
            type: 'bar',
            height: 300,
            toolbar: {
              show: false
            },
            zoom: {
              enabled: false
            }
          },
          series: [
            {
              name: 'Total Questions',
              data: [35, 35, 30]
            },
            {
              name: 'Correct',
              data: [24, 28, 20]
            },
            {
              name: 'Incorrect',
              data: [6, 4, 8]
            },
            {
              name: 'Unanswered',
              data: [5, 3, 2]
            }
          ],
          colors: ['#3b82f6', '#22c55e', '#ef4444', '#f97316'],
          plotOptions: {
            bar: {
              horizontal: false,
              columnWidth: '40%',
              borderRadius: 0,
            }
          },
          legend: {
            show: false
          },
          dataLabels: {
            enabled: false
          },
          stroke: {
            show: true,
            width: 2,
            colors: ['transparent']
          },
          xaxis: {
            categories: ['Quantitative Aptitude', 'Reasoning Ability', 'English Language'],
            axisBorder: {
              show: false
            },
            axisTicks: {
              show: false
            },
            crosshairs: {
              show: false
            },
            labels: {
              style: {
                colors: '#a8a29e',
                fontSize: '13px',
                fontFamily: 'Inter, ui-sans-serif',
                fontWeight: 400
              },
              offsetX: -2,
              formatter: (title) => title
            }
          },
          yaxis: {
            labels: {
              align: 'left',
              minWidth: 0,
              maxWidth: 140,
              style: {
                colors: '#a8a29e',
                fontSize: '13px',
                fontFamily: 'Inter, ui-sans-serif',
                fontWeight: 400
              },
              formatter: (value) => value
            }
          },
          tooltip: {
            custom: function (props) {
              const { categories } = props.ctx.opts.xaxis;
              const { dataPointIndex } = props;

              return buildTooltip(props, {
                title: categories[dataPointIndex],
                mode,
                hasCategory: false,
                hasTextLabel: true,
                wrapperExtClasses: 'min-w-36',
                isValueDivided: false,
                valuePrefix: '',
                labelDivider: ':',
                labelExtClasses: 'ms-2'
              });
            }
          },
          states: {
            hover: {
              filter: {
                type: 'darken',
                value: 0.9
              }
            }
          },
          responsive: [{
            breakpoint: 568,
            options: {
              chart: {
                height: 300
              },
              plotOptions: {
                bar: {
                  columnWidth: '14px'
                }
              },
              stroke: {
                width: 10
              },
              responsive: [{
                breakpoint: 568,
                options: {
                  chart: {
                    height: 300
                  },
                  plotOptions: {
                    bar: {
                      columnWidth: '14px'
                    }
                  },
                  stroke: {
                    width: 10
                  },
                  labels: {
                    style: {
                      colors: '#a8a29e',
                      fontSize: '11px',
                      fontFamily: 'Inter, ui-sans-serif',
                      fontWeight: 400
                    },
                    offsetX: -2,
                    formatter: (title) => title
                  },
                  yaxis: {
                    labels: {
                      align: 'left',
                      minWidth: 0,
                      maxWidth: 140,
                      style: {
                        colors: '#a8a29e',
                        fontSize: '11px',
                        fontFamily: 'Inter, ui-sans-serif',
                        fontWeight: 400
                      },
                      formatter: (value) => value
                    }
                  },
                },
              }]
            },
          }]
        }), {
          colors: ['#3b82f6', '#22c55e', '#ef4444', '#f97316'],
          grid: {
            borderColor: '#e5e5e5'
          },
          xaxis: {
            labels: {
              style: {
                colors: '#a8a29e',
              }
            }
          },
          yaxis: {
            labels: {
              style: {
                colors: '#a8a29e'
              }
            }
          }
        }, {
          colors: ['#22c55e', '#737373'],
          grid: {
            borderColor: '#404040'
          },
          xaxis: {
            labels: {
              style: {
                colors: '#a3a3a3',
              }
            }
          },
          yaxis: {
            labels: {
              style: {
                colors: '#a3a3a3'
              }
            }
          }
        });
      })();
    });
  </script>