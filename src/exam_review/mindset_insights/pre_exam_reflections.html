<div class="flex flex-col bg-white border border-gray-200 shadow-2xs rounded-xl dark:bg-neutral-800 dark:border-neutral-700">
  <div class="py-3 px-5 flex justify-between items-center border-b border-gray-200 dark:border-neutral-700">
    <h2 class="inline-block font-semibold text-gray-800 dark:text-neutral-200">
      Pre-Exam Mindset
    </h2>
  </div>

  <div x-show="loading.preTest">
    {% include "./loader.html" %}
  </div>

  <div class="p-5" x-cloak x-show="!loading.preTest">
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-16 items-start">
      <div class="text-gray-700">
        <div class="space-y-2">
          <h3 class="text-md font-semibold text-gray-800 underline underline-offset-2">About Pre-Exam Mindset</h3>
          <p class="text-sm text-gray-600">
            Doing your best on a exam starts with the right mindset.
            This screener provides insight into how you were
            feeling in the moments just before the exam began. A low score on a positive trait (like Focus) or a high score on a negative one (like Anxiety) can indicate a barrier to performing your best.
          </p>
        </div>
        <div class="my-5 border-b border-gray-200 dark:border-neutral-700"></div>
        <template x-if="preTestNotes && preTestNotes.length > 0">
          <dl>
            <template x-for="(note, idx) in preTestNotes" :key="note.id || idx">
              <div class="my-6">
                <dt class="flex w-full items-start justify-between text-left text-gray-900 dark:text-neutral-200">
                  <span class="text-sm font-medium" x-text="note.label"></span>
                  <span class="inline-flex items-center rounded-md bg-gray-50 dark:bg-neutral-700 px-2 py-1 text-xs font-medium text-gray-600 dark:text-neutral-300 ring-1 ring-inset ring-gray-500/10 dark:ring-neutral-600">Text Response</span>
                </dt>
                <dd class="mt-2 pr-12">
                  <p class="text-sm text-gray-600 dark:text-neutral-400" x-text="note.response || 'No response provided.'"></p>
                </dd>
              </div>
            </template>
          </dl>
        </template>
        <template x-if="!preTestNotes || preTestNotes.length === 0">
          <div class="text-sm text-gray-500">
            No pre-exam text responses were provided.
          </div>
        </template>
      </div>

      <div>
        <template x-if="preTestRatings && preTestRatings.length > 0">
          <div>
            <template x-for="(rating, index) in preTestRatings" :key="rating.id">
              <div class="mb-4 space-y-2">
                <div class="flex items-center gap-x-2">
                  <h4 class="text-sm font-medium dark:text-neutral-200" x-text="rating.label"></h4>
                </div>
                <template x-if="rating.type === 'positive'">
                  {% include "./positive_scale.html" %}
                </template>
                <template x-if="rating.type === 'negative'">
                  {% include "./negative_scale.html" %}
                </template>
                </div>
            </template>
          </div>
        </template>
        <template x-if="!preTestRatings || preTestRatings.length === 0">
          <div class="text-sm text-gray-500">
            No pre-exam scale responses were provided.
          </div>
        </template>
      </div>
    </div>
  </div>
</div>