<div >
  <div class="mb-2 flex items-center gap-2">
    <h2 class="inline-block font-semibold text-stone-800 dark:text-neutral-200">
      Accuracy Stats
    </h2>
    <div class="ml-1 hs-tooltip inline-block">
      <svg class="hs-tooltip-toggle shrink-0 size-3.5 text-gray-500 dark:text-neutral-500"
        xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
        <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
        <path
          d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z" />
      </svg>
      <div
        class="hs-tooltip-content text-gray-500 hs-tooltip-shown:opacity-100 hs-tooltip-shown:visible opacity-0 inline-block absolute invisible z-20 w-60 py-1.5 px-2.5 bg-white text-xs text-gray-800 rounded-sm shadow-md border border-gray-200"
        role="tooltip">
        Indicates how well you performed on
        </br>the questions you attempted in each subjects.
      </div>
    </div>
  </div>
  <div 
    class="flex flex-col bg-white border border-gray-200 shadow-2xs rounded-xl dark:bg-neutral-800 dark:border-neutral-700 space-y-4">
    <div >
      <div class="p-5" x-cloak x-show="getSortedAccuracyData().length > 0">
<!-- Stats Grid -->
<div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-2 xl:gap-5">
    <template x-for="subject in getSortedAccuracyData" :key="subject.id">
      <div class="flex flex-col p-5 bg-white border border-gray-200 shadow-xs rounded-xl space-y-4">
  
        <!-- Subject Title -->
        <h2 class="text-xs uppercase text-gray-500" x-text="subject.subject"></h2>
  
        <!-- Accuracy + Chart -->
        <div class="grid grid-cols-2 gap-x-2 items-center">
          <div class="text-2xl font-semibold text-gray-800" x-text="subject.accuracy + '%'"></div>
          <div id="hs-users-line-chart"></div> <!-- Optional: bind chart here -->
        </div>
  
        <!-- Progress Bar -->
        <div class="flex items-center gap-x-3 whitespace-nowrap">
          <div class="flex w-full h-2 bg-gray-200 rounded-full overflow-hidden dark:bg-neutral-700"
               :aria-valuenow="subject.accuracy" aria-valuemin="0" aria-valuemax="100">
            <div class="flex flex-col justify-center rounded-full overflow-hidden transition duration-500"
                 :class="subject.accuracy > 80 ? 'bg-green-400' : subject.accuracy > 50 ? 'bg-yellow-400' : 'bg-red-400'"
                 :style="`width: ${subject.accuracy}%`">
            </div>
          </div>
        </div>
  
        <!-- Time and Attempts Info -->
        <div class="flex justify-between text-xs text-gray-500 mt-1">
          <span x-text="'ðŸ•’ ' + subject.time_spent"></span>
          <span x-text="`${subject.correct} / ${subject.attempted} correct`"></span>
        </div>
  
      </div>
    </template>
  
  <!-- End Card -->


  <!-- End Card -->
</div>
<!-- End Stats Grid -->
      </div>
      <div x-show="loading">
        {% include "./loader.html" %}
    </div>
    </div>
  </div>
</div>