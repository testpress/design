<form method="post"
      enctype="multipart/form-data"
      class="grid grid-cols-1 lg:grid-cols-6 gap-5"
      autocomplete="off">
  <div class="lg:col-span-4 space-y-4">
    <div class="flex flex-col bg-white border border-stone-200 overflow-hidden rounded-xl shadow-sm dark:bg-neutral-800 dark:border-neutral-700">
  <div class="py-3 px-5 flex justify-between items-center gap-x-5 border-b border-stone-200 dark:border-neutral-700">
    <h2 class="inline-block font-semibold text-stone-800 dark:text-neutral-200">Discount Details</h2>
  </div>
  <div class="p-5 space-y-4">
    <div class="grid sm:grid-cols-2 gap-3 sm:gap-5">
      <div>
        <label for="hs-pro-eapsku" class="block mb-2 text-sm font-medium text-stone-800 dark:text-neutral-200">
          Name
        </label>
        <input id="hs-pro-eapsku" type="text" class="py-2 px-3 block w-full border-stone-200 rounded-lg text-sm text-stone-800 placeholder:text-stone-500 focus:z-10 focus:border-green-600 focus:ring-green-600 dark:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-200 dark:placeholder:text-neutral-500 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-neutral-600" placeholder="Discount name (e.g., '10% Off on Banking')" value="">
      </div>
      <div>
        <label for="id_gender" class="block text-sm font-medium mb-2 dark:text-white">Type</label>
        <div class="relative">
          <select name="gender" class="py-2 px-3 pe-9 block w-full border-stone-200 rounded-lg text-sm focus:border-green-500 focus:ring-green-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600" id="id_gender">
            <option value="" selected="">---------</option>
            <option value="line">Line Discount</option>
            <option value="total">Total Discount</option>
            <option value="both">Line and Total</option>
          </select>
        </div>
      </div>
    </div>
    <div class="grid sm:grid-cols-2 gap-3 sm:gap-5">
      <div>
        <label for="id_gender" class="block text-sm font-medium mb-2 dark:text-white">Discount Mode</label>
        <div class="relative">
          <select name="gender" class="py-2 px-3 pe-9 block w-full border-stone-200 rounded-lg text-sm focus:border-green-500 focus:ring-green-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600" id="id_gender">
            <option value="" selected="">---------</option>
            <option value="flat">Flat</option>
            <option value="percentage">Percentage</option>
          </select>
        </div>
      </div>
      <div>
        <label for="id_form-0-amount" class="block mb-2 text-sm font-medium text-stone-800 dark:text-neutral-200">Value</label>
          <input type="number" name="form-0-amount" step="0.01" class="py-2 px-3 block w-full border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600" id="id_form-0-amount">
      </div>

    </div>
    <div class="grid sm:grid-cols-2 gap-3 sm:gap-5">
      <div>
        <label for="hs-pro-eapsku" class="block mb-2 text-sm font-medium text-stone-800 dark:text-neutral-200">
          Valid From
        </label>
        <input id="valid_from" type="text" class="py-2 px-3 block w-full border-stone-200 rounded-lg text-sm text-stone-800 placeholder:text-stone-500 focus:z-10 focus:border-green-600 focus:ring-green-600 dark:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-200 dark:placeholder:text-neutral-500 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-neutral-600">
      </div>
      <div>
        <label for="hs-pro-eapsku" class="block mb-2 text-sm font-medium text-stone-800 dark:text-neutral-200">
          Valid To
        </label>
        <input id="valid_to" type="text" class="py-2 px-3 block w-full border-stone-200 rounded-lg text-sm text-stone-800 placeholder:text-stone-500 focus:z-10 focus:border-green-600 focus:ring-green-600 dark:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-200 dark:placeholder:text-neutral-500 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-neutral-600">
      </div>
    </div>
  </div>
</div>

    <div class="flex flex-col bg-white border border-stone-200 rounded-xl shadow-sm dark:bg-neutral-800 dark:border-neutral-700" x-data="discountConditions">
  <!-- Header -->
  <div class="py-3 px-5 flex justify-between items-center gap-x-5 border-b border-stone-200 dark:border-neutral-700">
    <h2 class="inline-block font-semibold text-stone-800 dark:text-neutral-200">
      Discount Conditions
    </h2>
  </div>
  <!-- End Header -->

  <!-- Body -->
  <div class="py-3 px-5">
    <div id="condition-container" class="space-y-3 border-t border-stone-200 first:pt-0 first:mt-0 first:border-t-0 md:pt-0 md:border-t-0 dark:border-neutral-700">
      <!-- Dynamic Row -->
      <template x-for="(condition, index) in conditions" :key="index">
        <div class="grid grid-cols-2 md:grid-cols-12 gap-3 sm:gap-5 formset_row dynamic-form">
          <!-- Condition Type -->
          <div class="col-span-1 md:col-span-3">
            <div>
              <label class="block text-sm font-medium mb-2 dark:text-white">Condition Type</label>
              <div class="relative">
                <select x-model="condition.type" class="py-2 px-3 pe-9 block w-full border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400">
                  <option value="specific_course">Specific Course</option>
                  <option value="addon_course">Add-On Course</option>
                  <option value="minimum_amount">Minimum Amount</option>
                  <option value="total_above">Total Above</option>
                </select>
              </div>
            </div>
          </div>

          <!-- Original Course -->
          <div x-show="condition.type === 'addon_course'" class="col-span-1 md:col-span-4" x-cloak>
            <div>
              <label for="id_form-0-payment_method" class="block text-sm font-medium mb-2 dark:text-white">
                Original Course
              </label>
              <div class="relative">
                <select name="form-0-payment_method" class="py-2 px-3 pe-9 block w-full border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600" id="id_form-0-payment_method">
                  <option value="">Select a course</option>
                  
                  <option value="1" >General Studies Program</option>
                  
                  <option value="2" >Free Learning Path - Beginners</option>
                  
                  <option value="3" >UPSC Comprehensive Program - 2024</option>
                  
                  <option value="4" >2023 Mains Crash Course</option>
                  
                </select>
              </div>
            </div>
          </div>

          <!-- Course -->
          <div x-show="condition.type === 'specific_course' | condition.type === 'addon_course'" class="col-span-1 md:col-span-4" x-cloak>
            <div>
              <label for="id_form-0-payment_method" class="block text-sm font-medium mb-2 dark:text-white">
                Course
              </label>
              <div class="relative">
                <select name="form-0-payment_method" class="py-2 px-3 pe-9 block w-full border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600" id="id_form-0-payment_method">
                  <option value="">Select a course</option>
                  
                  <option value="1" >General Studies Program</option>
                  
                  <option value="2" >Free Learning Path - Beginners</option>
                  
                  <option value="3" >UPSC Comprehensive Program - 2024</option>
                  
                  <option value="4" >2023 Mains Crash Course</option>
                  
                </select>
              </div>
            </div>
          </div>

          <!-- Minimum Amount -->
          <div x-show="condition.type === 'minimum_amount'" class="col-span-1 md:col-span-4" x-cloak>
            <div>
              <label for="id_form-0-payment_method" class="block text-sm font-medium mb-2 dark:text-white">
                Minimum Amount
              </label>
              <input type="number" name="form-0-amount" step="0.01" class="py-2 px-3 block w-full border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600" id="id_form-0-amount">
            </div>
          </div>

          <!-- Total Above -->
          <div x-show="condition.type === 'total_above'" class="col-span-1 md:col-span-4" x-cloak>
            <div>
              <label for="id_form-0-payment_method" class="block text-sm font-medium mb-2 dark:text-white">
                Total Above
              </label>
              <input type="number" name="form-0-amount" step="0.01" class="py-2 px-3 block w-full border-gray-200 rounded-lg text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600" id="id_form-0-amount">
            </div>
          </div>

          <!-- Delete Button -->
          <a @click="removeCondition(index)" class="self-center w-fit mx-auto mt-6 py-1 px-3 md:px-1 inline-flex justify-center items-center gap-x-2 font-medium text-sm rounded-full bg-stone-100 border border-transparent text-stone-600 hover:bg-stone-200 dark:bg-neutral-700 dark:text-neutral-400">
            <svg class="hidden md:block shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M18 6 6 18"></path>
              <path d="m6 6 12 12"></path>
            </svg>
            <span class="md:hidden">Delete</span>
          </a>
        </div>
      </template>
    </div>

    <!-- Add Condition Button -->
    <button type="button" @click="addCondition()" class="mt-6 py-1.5 px-2 inline-flex items-center gap-x-1 text-xs font-medium rounded-full border border-dashed border-stone-200 bg-white text-stone-800 hover:bg-stone-50 focus:outline-none dark:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-300 dark:hover:bg-neutral-700">
      <svg class="shrink-0 size-3" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M5 12h14"></path>
        <path d="M12 5v14"></path>
      </svg>
      Add More
    </button>
  </div>
  <!-- End Body -->
</div>

<script>
  document.addEventListener('alpine:init', () => {
    Alpine.data('discountConditions', () => ({
      conditions: [{ type: 'specific_course' }],
      addCondition() {
        this.conditions.push({ type: 'specific_course' });
      },
      removeCondition(index) {
        this.conditions.splice(index, 1);
      },
    }));
  });
</script>
  </div>
  <div class="lg:col-span-2">
    <div class="lg:sticky lg:top-5 space-y-4">
      <div class="lg:col-span-2">
  <div class="lg:sticky lg:top-5 hidden lg:block">
    <!-- Sidebar Card for Creating a Discount -->
    <div class="flex flex-col bg-white border border-stone-200 shadow-sm rounded-xl dark:bg-neutral-800 dark:border-neutral-700">
      <!-- Header -->
      <div class="py-3 px-5 border-b border-stone-200 dark:border-neutral-700">
        <h2 class="inline-block font-semibold text-stone-800 dark:text-neutral-200">Creating a Discount</h2>
      </div>
      <!-- End Header -->
      <!-- Body -->
      <div class="pt-2 pb-4 px-5 flex flex-col justify-between h-full">
        <p class="mt-2 text-sm text-stone-600 dark:text-neutral-400">
          Complete the fields below to create a discount:
        </p>
        <ul class="mt-2 space-y-2 list-disc pl-5 text-sm text-stone-600 dark:text-neutral-400">
          <li><strong>Discount Name:</strong> A descriptive title, e.g., "10% Off on Electronics".</li>
          <li><strong>Type:</strong> Line, Total, or Both.</li>
          <li><strong>Mode:</strong> Flat value or percentage.</li>
          <li><strong>Value:</strong> Discount amount (e.g., 10% or ₹500).</li>
          <li><strong>Validity:</strong> Start and end dates.</li>
          <li><strong>Conditions:</strong>
            <ul class="mt-1 space-y-1 list-disc pl-5 text-sm text-stone-600 dark:text-neutral-400">
              <li><strong>Specific Course:</strong> Applies to selected courses.</li>
              <li>
                <strong>Add-On Course:</strong> Discount applies to an add-on course only if the student is enrolled in a specific original course.
              </li>
              <li>
                <strong>Minimum Amount:</strong> Discount applies when the price of an item meets or exceeds a specified amount.
              </li>
              
              <li><strong>Total Above:</strong> Applies for cart values above a threshold.</li>
            </ul>
          </li>
          <li><strong>Active Status:</strong> Enable or disable.</li>
        </ul>
        <p class="mt-2 text-sm text-stone-600 dark:text-neutral-400">
          Click "Save Discount" to finalize.
        </p>
      </div>
      <!-- End Body -->
    </div>
    <!-- End Sidebar Card -->
  </div>
</div>

    </div>
  </div>
  <!-- Save/Discard/Detel Floating Card -->
<div class="fixed bottom-0 start-1/2 -translate-x-1/2 p-6 z-50 max-w-md">
  <div class="py-2 ps-5 pe-2 bg-stone-800 rounded-full shadow-md dark:bg-neutral-950">
    <div class="flex justify-between items-center gap-x-3">
      <div class="inline-flex items-center gap-x-2">
        <a class="text-stone-300 decoration-2 font-medium text-sm hover:underline focus:outline-none focus:underline dark:text-neutral-400" href="#">Cancel</a>
        <div class="w-px h-4 bg-stone-700 dark:bg-neutral-700"></div>
        <a class="text-green-400 decoration-2 font-medium text-sm hover:underline focus:outline-none focus:underline dark:text-green-500" href="#">Create</a>

        <!-- Close Button -->
        <button type="button" class="size-8 inline-flex justify-center items-center gap-x-2 rounded-full text-stone-400 hover:bg-stone-700 focus:outline-none focus:bg-stone-700 disabled:opacity-50 disabled:pointer-events-none dark:text-neutral-400 dark:hover:bg-neutral-800 dark:focus:bg-neutral-800" aria-label="Close">
          <span class="sr-only">Close</span>
          <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M18 6 6 18" />
            <path d="m6 6 12 12" />
          </svg>
        </button>
        <!-- End Close Button -->
      </div>
    </div>
  </div>
</div>
<!-- Endn Save/Discard/Detel Floating Card -->
</form>
