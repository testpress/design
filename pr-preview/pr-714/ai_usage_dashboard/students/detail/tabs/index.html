<div x-data="{ tab: 'conversations' }">
  <!-- Tabs Navigation -->
  <div class="border-b border-gray-200 dark:border-neutral-700">
    <nav aria-label="Tabs" class="-mb-px flex space-x-8">
      <button type="button"
        :class="tab === 'conversations' ? 'border-b-2 border-emerald-500 text-emerald-600 dark:border-emerald-400 dark:text-emerald-400' : 'border-b-2 border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 dark:text-gray-400 dark:hover:border-white/20 dark:hover:text-gray-300'"
        class="group inline-flex items-center px-1 py-4 text-sm font-medium focus:outline-none transition-colors"
        @click="tab = 'conversations'">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
          class="mr-2 -ml-0.5 size-4">
          <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
        </svg>
        <span>Conversations</span>
        <span
          :class="tab === 'conversations' ? 'bg-emerald-500 text-white dark:bg-emerald-500 dark:text-white' : 'bg-gray-200 text-gray-700 dark:bg-neutral-700 dark:text-neutral-300'"
          class="ml-2 inline-flex items-center justify-center rounded-full px-2 py-0.5 text-xs font-medium">
          25
        </span>
      </button>
      <button type="button"
        :class="tab === 'prompts' ? 'border-b-2 border-emerald-500 text-emerald-600 dark:border-emerald-400 dark:text-emerald-400' : 'border-b-2 border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 dark:text-gray-400 dark:hover:border-white/20 dark:hover:text-gray-300'"
        class="group inline-flex items-center px-1 py-4 text-sm font-medium focus:outline-none transition-colors"
        @click="tab = 'prompts'">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
          class="mr-2 -ml-0.5 size-4">
          <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" x2="8" y1="13" y2="13"></line>
          <line x1="16" x2="8" y1="17" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        <span>Prompts</span>
        <span
          :class="tab === 'prompts' ? 'bg-emerald-500 text-white dark:bg-emerald-500 dark:text-white' : 'bg-gray-200 text-gray-700 dark:bg-neutral-700 dark:text-neutral-300'"
          class="ml-2 inline-flex items-center justify-center rounded-full px-2 py-0.5 text-xs font-medium">
          12
        </span>
      </button>
    </nav>
  </div>

  <!-- Tab Content -->
  <div class="mt-5">
    <!-- Conversations Tab Content -->
    <div x-show="tab === 'conversations'" x-transition>
      <!-- Conversations Tab Content -->
<div>
  <!-- Large Screen Layout -->
  <div class="hidden lg:block">
    <div class="grid transition-all duration-300 gap-5"
      :class="$store.conversationComponent.selectedConversation ? 'lg:grid-cols-5' : 'lg:grid-cols-1'">
      <!-- Left Column - Scrollable Conversation List -->
      <div :class="$store.conversationComponent.selectedConversation ? 'lg:col-span-3' : 'lg:col-span-full'"
        class="space-y-4 transition-all duration-300">
        <!-- Conversation Component with Filters -->
<div x-data="conversationComponent()" class="space-y-4">
  <!-- Filters Section -->
  <div class="bg-white border border-gray-200 rounded-lg p-4 dark:bg-neutral-800 dark:border-neutral-700">
    <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
      <!-- Conversation Type Filter -->
      <div class="relative">
        <select x-model="filters.usageType" @change="applyFilters()" data-hs-select='{
          "placeholder": "All Conversation",
          "toggleTag": "<button type=\"button\" aria-expanded=\"false\"></button>",
          "toggleClasses": "hs-select-disabled:pointer-events-none hs-select-disabled:opacity-50 relative py-2 ps-3 pe-9 flex gap-x-2 text-nowrap w-full cursor-pointer bg-white border border-gray-200 rounded-lg text-start text-sm focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-400 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-neutral-600",
          "dropdownClasses": "mt-2 z-[50] w-full max-h-72 p-1 space-y-0.5 bg-white border border-gray-200 rounded-lg shadow-lg overflow-hidden overflow-y-auto [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 dark:[&::-webkit-scrollbar-track]:bg-neutral-700 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500 dark:bg-neutral-900 dark:border-neutral-700",
          "optionClasses": "p-2 w-full text-sm text-gray-800 cursor-pointer hover:bg-gray-100 rounded-lg focus:outline-none focus:bg-gray-100 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200 dark:focus:bg-neutral-800",
          "optionTemplate": "<div class=\"flex justify-between items-center w-full\"><span data-title></span><span class=\"hidden hs-selected:block\"><svg class=\"shrink-0 size-3.5 text-gray-800 dark:text-neutral-200\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><polyline points=\"20 6 9 17 4 12\"/></svg></span></div>"
        }' class="hidden">
          <option value="all">All Conversation</option>
          <option value="academic">Academic only</option>
          <option value="flagged">Flagged only</option>
        </select>
      </div>

      <!-- Risk Level Filter -->
      <div class="relative">
        <select x-model="filters.riskLevel" @change="applyFilters()" data-hs-select='{
          "placeholder": "All Risk Levels",
          "toggleTag": "<button type=\"button\" aria-expanded=\"false\"></button>",
          "toggleClasses": "hs-select-disabled:pointer-events-none hs-select-disabled:opacity-50 relative py-2 ps-3 pe-9 flex gap-x-2 text-nowrap w-full cursor-pointer bg-white border border-gray-200 rounded-lg text-start text-sm focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-400 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-neutral-600",
          "dropdownClasses": "mt-2 z-[50] w-full max-h-72 p-1 space-y-0.5 bg-white border border-gray-200 rounded-lg shadow-lg overflow-hidden overflow-y-auto [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 dark:[&::-webkit-scrollbar-track]:bg-neutral-700 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500 dark:bg-neutral-900 dark:border-neutral-700",
          "optionClasses": "p-2 w-full text-sm text-gray-800 cursor-pointer hover:bg-gray-100 rounded-lg focus:outline-none focus:bg-gray-100 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200 dark:focus:bg-neutral-800",
          "optionTemplate": "<div class=\"flex justify-between items-center w-full\"><span data-title></span><span class=\"hidden hs-selected:block\"><svg class=\"shrink-0 size-3.5 text-gray-800 dark:text-neutral-200\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><polyline points=\"20 6 9 17 4 12\"/></svg></span></div>"
        }' class="hidden">
          <option value="all">All Risk Levels</option>
          <option value="critical">Critical</option>
          <option value="high">High</option>
          <option value="medium">Medium</option>
          <option value="low">Low</option>
        </select>
      </div>

      <!-- AI Type Filter -->
      <div class="relative">
        <select x-model="filters.aiType" @change="applyFilters()" data-hs-select='{
          "placeholder": "All AI",
          "toggleTag": "<button type=\"button\" aria-expanded=\"false\"></button>",
          "toggleClasses": "hs-select-disabled:pointer-events-none hs-select-disabled:opacity-50 relative py-2 ps-3 pe-9 flex gap-x-2 text-nowrap w-full cursor-pointer bg-white border border-gray-200 rounded-lg text-start text-sm focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-400 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-neutral-600",
          "dropdownClasses": "mt-2 z-[50] w-full max-h-72 p-1 space-y-0.5 bg-white border border-gray-200 rounded-lg shadow-lg overflow-hidden overflow-y-auto [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 dark:[&::-webkit-scrollbar-track]:bg-neutral-700 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500 dark:bg-neutral-900 dark:border-neutral-700",
          "optionClasses": "p-2 w-full text-sm text-gray-800 cursor-pointer hover:bg-gray-100 rounded-lg focus:outline-none focus:bg-gray-100 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200 dark:focus:bg-neutral-800",
          "optionTemplate": "<div class=\"flex justify-between items-center w-full\"><span data-title></span><span class=\"hidden hs-selected:block\"><svg class=\"shrink-0 size-3.5 text-gray-800 dark:text-neutral-200\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><polyline points=\"20 6 9 17 4 12\"/></svg></span></div>"
        }' class="hidden">
          <option value="all">All AI</option>
          <option value="pdf">PDF only</option>
          <option value="doubts">Doubts only</option>
        </select>
      </div>
    </div>
  </div>

  <!-- Conversation Cards List -->
  <div class="space-y-3">
    <!-- Empty State -->
    <div x-show="filteredConversations.length === 0"
      class="bg-white min-h-96  border border-gray-200 rounded-lg p-5 flex flex-col justify-center items-center text-center">
      <svg class="w-48 mx-auto mb-4" width="178" height="90" viewBox="0 0 178 90" fill="none"
        xmlns="http://www.w3.org/2000/svg">
        <rect x="27" y="50.5" width="124" height="39" rx="7.5" fill="currentColor" class="fill-white" />
        <rect x="27" y="50.5" width="124" height="39" rx="7.5" stroke="currentColor" class="stroke-gray-50" />
        <rect x="34.5" y="58" width="24" height="24" rx="4" fill="currentColor" class="fill-gray-50" />
        <rect x="66.5" y="61" width="60" height="6" rx="3" fill="currentColor" class="fill-gray-50" />
        <rect x="66.5" y="73" width="77" height="6" rx="3" fill="currentColor" class="fill-gray-50" />
        <rect x="19.5" y="28.5" width="139" height="39" rx="7.5" fill="currentColor" class="fill-white" />
        <rect x="19.5" y="28.5" width="139" height="39" rx="7.5" stroke="currentColor" class="stroke-gray-100" />
        <rect x="27" y="36" width="24" height="24" rx="4" fill="currentColor" class="fill-gray-100" />
        <rect x="59" y="39" width="60" height="6" rx="3" fill="currentColor" class="fill-gray-100" />
        <rect x="59" y="51" width="92" height="6" rx="3" fill="currentColor" class="fill-gray-100" />
        <g filter="url(#filterConvEmpty)">
          <rect x="12" y="6" width="154" height="40" rx="8" fill="currentColor" class="fill-white"
            shape-rendering="crispEdges" />
          <rect x="12.5" y="6.5" width="153" height="39" rx="7.5" stroke="currentColor" class="stroke-gray-100"
            shape-rendering="crispEdges" />
          <rect x="20" y="14" width="24" height="24" rx="4" fill="currentColor" class="fill-gray-200" />
          <rect x="52" y="17" width="60" height="6" rx="3" fill="currentColor" class="fill-gray-200" />
          <rect x="52" y="29" width="106" height="6" rx="3" fill="currentColor" class="fill-gray-200" />
        </g>
        <defs>
          <filter id="filterConvEmpty" x="0" y="0" width="178" height="64" filterUnits="userSpaceOnUse"
            color-interpolation-filters="sRGB">
            <feFlood flood-opacity="0" result="BackgroundImageFix" />
            <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
              result="hardAlpha" />
            <feOffset dy="6" />
            <feGaussianBlur stdDeviation="6" />
            <feComposite in2="hardAlpha" operator="out" />
            <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.03 0" />
            <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1187_14810" />
            <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1187_14810" result="shape" />
          </filter>
        </defs>
      </svg>

      <div class="max-w-sm mx-auto">
        <p class="mt-2 font-medium text-gray-800 dark:text-neutral-200">
          No conversations found.
        </p>
        <p class="mb-5 text-sm text-gray-500 dark:text-neutral-400">
          <template x-if="filters.usageType !== 'all' || filters.riskLevel !== 'all' || filters.aiType !== 'all'">
            <span>Try adjusting your filters or <button type="button" @click="clearAllFilters()"
                class="text-blue-600 hover:text-blue-700 underline dark:text-blue-400 dark:hover:text-blue-300">clear
                filters</button>.</span>
          </template>
          <template x-if="filters.usageType === 'all' && filters.riskLevel === 'all' && filters.aiType === 'all'">
            <span>There are no conversations to display at this time.</span>
          </template>
        </p>
      </div>
    </div>

    <!-- Conversation Cards -->
    <template x-for="conversation in filteredConversations" :key="conversation.id">
      <div @click="openConversation(conversation)"
        class="bg-white border border-gray-200 rounded-lg p-4 cursor-pointer transition-all hover:shadow-md dark:bg-neutral-800 dark:border-neutral-700"
        :class="conversation.riskLevel === 'critical' || conversation.riskLevel === 'high' ? 'border-l-4 border-l-red-500 dark:border-l-red-500' : ''">
        <div class="flex items-start gap-3 mb-3">
          <div class="p-2 rounded-lg flex-shrink-0"
            :class="conversation.aiType === 'doubts' || conversation.aiType === 'ai' ? 'bg-blue-100 dark:bg-blue-900/20' : 'bg-purple-100 dark:bg-purple-900/20'">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4"
              :class="conversation.aiType === 'doubts' || conversation.aiType === 'ai' ? 'text-blue-600 dark:text-blue-400' : 'text-purple-600 dark:text-purple-400'">
              <path x-show="conversation.aiType === 'pdf'"
                d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"></path>
              <path x-show="conversation.aiType === 'pdf'" d="M14 2v4a2 2 0 0 0 2 2h4"></path>
              <path x-show="conversation.aiType === 'pdf'" d="M10 9H8"></path>
              <path x-show="conversation.aiType === 'pdf'" d="M16 13H8"></path>
              <path x-show="conversation.aiType === 'pdf'" d="M16 17H8"></path>
              <path x-show="conversation.aiType !== 'pdf'"
                d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
          </div>
          <div class="flex-1 min-w-0">
            <div class="flex items-center gap-2 mb-1">
              <h4 class="font-medium text-gray-900 dark:text-neutral-200" x-text="conversation.title"></h4>
              <svg x-show="conversation.riskLevel === 'critical' || conversation.riskLevel === 'high'"
                xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                class="w-4 h-4 text-red-600 dark:text-red-400 flex-shrink-0">
                <path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"></path>
                <path d="M12 9v4"></path>
                <path d="M12 17h.01"></path>
              </svg>
            </div>
            <p class="text-sm text-gray-600 dark:text-neutral-400 line-clamp-2 mb-2" x-text="conversation.description">
            </p>
            <div class="flex items-center gap-3 text-xs text-gray-500 dark:text-neutral-500 mb-2">
              <div class="flex items-center gap-1">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-3 h-3">
                  <circle cx="12" cy="12" r="10"></circle>
                  <polyline points="12 6 12 12 16 14"></polyline>
                </svg>
                <span x-text="conversation.time"></span>
              </div>
              <span>•</span>
              <span x-text="conversation.duration"></span>
              <span>•</span>
              <span x-text="conversation.messageCount + ' messages'"></span>
              <span>•</span>
              <span x-text="conversation.tokens.toLocaleString() + ' tokens'"></span>
            </div>
            <div class="flex flex-wrap items-center gap-2">
              <span
                class="inline-flex items-center justify-center rounded-md border border-gray-200 px-2 py-0.5 text-xs font-medium text-gray-800 dark:text-neutral-200 dark:border-neutral-700"
                x-text="conversation.aiTypeLabel"></span>
              <span class="inline-flex items-center justify-center rounded-md px-2 py-0.5 text-xs font-medium border"
                :class="{
                  'bg-green-100 text-green-700 border-green-200 dark:bg-green-900/20 dark:text-green-300 dark:border-green-800': conversation.riskLevel === 'low',
                  'bg-yellow-100 text-yellow-700 border-yellow-200 dark:bg-yellow-900/20 dark:text-yellow-300 dark:border-yellow-800': conversation.riskLevel === 'medium',
                  'bg-orange-100 text-orange-700 border-orange-200 dark:bg-orange-900/20 dark:text-orange-300 dark:border-orange-800': conversation.riskLevel === 'high',
                  'bg-red-100 text-red-700 border-red-200 dark:bg-red-900/20 dark:text-red-300 dark:border-red-800': conversation.riskLevel === 'critical'
                }"
                x-text="conversation.riskLevel.charAt(0).toUpperCase() + conversation.riskLevel.slice(1) + ' Risk'"></span>
              <span x-show="conversation.type"
                class="inline-flex items-center justify-center rounded-md border border-transparent bg-red-600 text-white px-2 py-0.5 text-xs font-medium dark:bg-red-500"
                x-text="conversation.typeLabel"></span>
              <span class="text-xs text-gray-400 dark:text-neutral-500 ml-auto" x-text="conversation.date"></span>
            </div>
          </div>
        </div>
      </div>
    </template>
  </div>
</div>

<script>
  document.addEventListener('alpine:init', () => {
    Alpine.store('conversationComponent', {
      selectedConversation: null,
      conversations: []
    });
  });

  function conversationComponent() {
    return {
      filters: {
        usageType: 'all',
        riskLevel: 'all',
        aiType: 'all'
      },
      get conversations() {
        return Alpine.store('conversationComponent').conversations;
      },
      init() {
        // Initialize Preline Select2 after Alpine renders
        this.$nextTick(() => {
          if (typeof HSStaticMethods !== 'undefined') {
            HSStaticMethods.autoInit();
          }
        });

        // Initialize conversations in store
        Alpine.store('conversationComponent').conversations = [
          {
            id: 1,
            conversationId: 'CONV-2026-001',
            title: 'Photosynthesis Process in C4 Plants',
            description: 'Discussion about photosynthesis mechanism in C4 plants, comparing with C3 pathway and understanding Kranz anatomy.',
            time: '9:15 AM',
            duration: '17 mins',
            messageCount: 8,
            tokens: 4520,
            date: 'Jan 12, 2026',
            usageType: 'academic',
            type: null,
            typeLabel: null,
            category: null,
            riskLevel: 'low',
            aiType: 'doubts',
            aiTypeLabel: 'Doubts AI'
          },
          {
            id: 2,
            conversationId: 'CONV-2026-002',
            title: 'Cell Division - Mitosis vs Meiosis',
            description: 'Detailed comparison of mitosis and meiosis stages, discussing differences in chromosome behavior and biological significance.',
            time: '2:45 PM',
            duration: '27 mins',
            messageCount: 12,
            tokens: 7890,
            date: 'Jan 12, 2026',
            usageType: 'academic',
            type: null,
            typeLabel: null,
            category: null,
            riskLevel: 'low',
            aiType: 'pdf',
            aiTypeLabel: 'PDF AI'
          },
          {
            id: 3,
            conversationId: 'CONV-2026-003',
            title: 'Entertainment Content - Movies & Games',
            description: 'Extended conversation about movies, video games, and social media trends - completely non-academic.',
            time: '8:30 PM',
            duration: '45 mins',
            messageCount: 23,
            tokens: 12340,
            date: 'Jan 11, 2026',
            usageType: 'non-academic',
            type: 'entertainment',
            typeLabel: 'Entertainment',
            category: 'critical',
            riskLevel: 'critical',
            aiType: 'doubts',
            aiTypeLabel: 'Doubts AI'
          },
          {
            id: 4,
            conversationId: 'CONV-2026-004',
            title: 'Human Digestive System Overview',
            description: 'Questions about digestive enzymes, their functions, and the journey of food through the alimentary canal.',
            time: '10:20 AM',
            duration: '25 mins',
            messageCount: 10,
            tokens: 6780,
            date: 'Jan 11, 2026',
            usageType: 'academic',
            type: null,
            typeLabel: null,
            category: null,
            riskLevel: 'low',
            aiType: 'pdf',
            aiTypeLabel: 'PDF AI'
          },
          {
            id: 5,
            conversationId: 'CONV-2026-005',
            title: 'Joke Generation & Casual Chat',
            description: 'Asking AI to generate jokes, riddles, and engaging in casual conversation unrelated to studies.',
            time: '7:45 PM',
            duration: '40 mins',
            messageCount: 19,
            tokens: 9870,
            date: 'Jan 10, 2026',
            usageType: 'non-academic',
            type: 'mild-non-academic',
            typeLabel: 'Time Wasting',
            category: null,
            riskLevel: 'high',
            aiType: 'doubts',
            aiTypeLabel: 'Doubts AI'
          }
        ];
      },
      get filteredConversations() {
        return Alpine.store('conversationComponent').conversations.filter(conv => {
          if (this.filters.usageType !== 'all' && this.filters.usageType === 'academic' && conv.usageType !== 'academic') return false;
          if (this.filters.usageType !== 'all' && this.filters.usageType === 'flagged' && conv.usageType !== 'non-academic') return false;
          if (this.filters.riskLevel !== 'all' && conv.riskLevel !== this.filters.riskLevel) return false;
          if (this.filters.aiType !== 'all' && conv.aiType !== this.filters.aiType) return false;
          return true;
        });
      },
      applyFilters() {
        // Filters are reactive, no need for explicit action
        // Re-initialize Select2 to ensure proper display
        this.$nextTick(() => {
          if (typeof HSStaticMethods !== 'undefined') {
            HSStaticMethods.autoInit();
          }
        });
      },
      clearAllFilters() {
        this.filters.usageType = 'all';
        this.filters.riskLevel = 'all';
        this.filters.aiType = 'all';
        // Re-initialize Select2 after clearing to update the display
        this.$nextTick(() => {
          if (typeof HSStaticMethods !== 'undefined') {
            HSStaticMethods.autoInit();
          }
        });
      },
      openConversation(conversation) {
        Alpine.store('conversationComponent').selectedConversation = conversation;
      }
    };
  }
</script>
      </div>
      <!-- End Left Column -->

      <!-- Right Column - Sticky Sidebar -->
      <div class="lg:col-span-2" x-show="$store.conversationComponent.selectedConversation !== null"
        x-transition:enter="transition ease-out duration-300" x-transition:enter-start="translate-x-full"
        x-transition:enter-end="translate-x-0" x-transition:leave="transition ease-in duration-300"
        x-transition:leave-start="translate-x-0" x-transition:leave-end="translate-x-full">
        <div class="lg:sticky lg:top-5 h-[calc(100vh-4rem)]">
          <div
            class="flex flex-col bg-white border border-stone-200 overflow-hidden rounded-xl shadow-2xs dark:bg-neutral-800 dark:border-neutral-700 h-full">
            <!-- Header -->
            <div
              class="py-3 px-4 border-b border-gray-200 dark:border-neutral-700 flex justify-between items-center flex-shrink-0">
              <h4 class="font-medium text-gray-900 dark:text-neutral-200">Conversation Detail</h4>
              <button type="button" @click="$store.conversationComponent.selectedConversation = null"
                class="size-8 inline-flex justify-center items-center gap-x-2 rounded-full border border-transparent bg-gray-100 text-gray-800 hover:bg-gray-200 disabled:opacity-50 disabled:pointer-events-none focus:outline-hidden focus:bg-gray-200 dark:bg-neutral-700 dark:hover:bg-neutral-600 dark:text-neutral-400 dark:focus:bg-neutral-600"
                aria-label="Close">
                <span class="sr-only">Close</span>
                <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                  viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round">
                  <path d="M18 6 6 18" />
                  <path d="m6 6 12 12" />
                </svg>
              </button>
            </div>
            <!-- End Header -->

            <!-- Conversation Details - Fixed -->
            <div class="p-5 space-y-4 flex-shrink-0 border-b border-gray-200 dark:border-neutral-700">
              <div>
                <h4 class="font-semibold text-lg text-gray-800 dark:text-neutral-200 mb-2"
                  x-text="$store.conversationComponent.selectedConversation?.title || ''"></h4>
                <p class="text-sm text-gray-600 dark:text-neutral-400"
                  x-text="$store.conversationComponent.selectedConversation?.description || ''"></p>
              </div>

              <!-- Stats Grid -->
              <div class="grid grid-cols-2 gap-4">
                <div class="bg-gray-50 dark:bg-neutral-700/50 rounded-lg p-3">
                  <div class="flex items-center gap-2 mb-1">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                      class="w-4 h-4 text-gray-500 dark:text-neutral-400">
                      <circle cx="12" cy="12" r="10"></circle>
                      <polyline points="12 6 12 12 16 14"></polyline>
                    </svg>
                    <span class="text-xs text-gray-600 dark:text-neutral-400">Duration</span>
                  </div>
                  <p class="text-sm font-medium text-gray-900 dark:text-neutral-200"
                    x-text="$store.conversationComponent.selectedConversation?.duration || ''"></p>
                  <p class="text-xs text-gray-500 dark:text-neutral-500 mt-0.5"
                    x-text="$store.conversationComponent.selectedConversation?.time || ''"></p>
                </div>
                <div class="bg-gray-50 dark:bg-neutral-700/50 rounded-lg p-3">
                  <div class="flex items-center gap-2 mb-1">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                      class="w-4 h-4 text-gray-500 dark:text-neutral-400">
                      <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                    </svg>
                    <span class="text-xs text-gray-600 dark:text-neutral-400">Messages</span>
                  </div>
                  <p class="text-sm font-medium text-gray-900 dark:text-neutral-200"
                    x-text="($store.conversationComponent.selectedConversation?.messageCount || 0) + ' exchanges'">
                  </p>
                  <p class="text-xs text-gray-500 dark:text-neutral-500 mt-0.5"
                    x-text="($store.conversationComponent.selectedConversation?.tokens || 0).toLocaleString() + ' tokens'">
                  </p>
                </div>
              </div>

              <!-- Badges -->
              <div class="flex flex-wrap items-center gap-2">
                <span
                  class="inline-flex items-center justify-center rounded-md border border-gray-200 px-2 py-0.5 text-xs font-medium text-gray-800 dark:text-neutral-200 dark:border-neutral-700"
                  x-text="$store.conversationComponent.selectedConversation?.aiTypeLabel || ''"></span>
                <span class="inline-flex items-center justify-center rounded-md px-2 py-0.5 text-xs font-medium border"
                  :class="{
                      'bg-green-100 text-green-700 border-green-200 dark:bg-green-900/20 dark:text-green-300 dark:border-green-800': $store.conversationComponent.selectedConversation?.riskLevel === 'low',
                      'bg-yellow-100 text-yellow-700 border-yellow-200 dark:bg-yellow-900/20 dark:text-yellow-300 dark:border-yellow-800': $store.conversationComponent.selectedConversation?.riskLevel === 'medium',
                      'bg-orange-100 text-orange-700 border-orange-200 dark:bg-orange-900/20 dark:text-orange-300 dark:border-orange-800': $store.conversationComponent.selectedConversation?.riskLevel === 'high',
                      'bg-red-100 text-red-700 border-red-200 dark:bg-red-900/20 dark:text-red-300 dark:border-red-800': $store.conversationComponent.selectedConversation?.riskLevel === 'critical'
                    }"
                  x-text="$store.conversationComponent.selectedConversation?.riskLevel ? ($store.conversationComponent.selectedConversation.riskLevel.charAt(0).toUpperCase() + $store.conversationComponent.selectedConversation.riskLevel.slice(1) + ' Risk') : ''"></span>
                <span x-show="$store.conversationComponent.selectedConversation?.type"
                  class="inline-flex items-center justify-center rounded-md border border-transparent bg-red-600 text-white px-2 py-0.5 text-xs font-medium dark:bg-red-500"
                  x-text="$store.conversationComponent.selectedConversation?.typeLabel || ''"></span>
              </div>

              <!-- Flagged Alert -->
              <div x-show="$store.conversationComponent.selectedConversation?.usageType === 'non-academic'"
                class="bg-red-50 border border-red-200 rounded-lg p-3 dark:bg-red-900/10 dark:border-red-800">
                <div class="flex items-start gap-2">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    class="w-4 h-4 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5">
                    <path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"></path>
                    <path d="M12 9v4"></path>
                    <path d="M12 17h.01"></path>
                  </svg>
                  <div>
                    <p class="text-sm font-medium text-red-900 dark:text-red-200">Flagged for Review</p>
                    <p class="text-xs text-red-700 dark:text-red-300 mt-1">This conversation has been identified as
                      non-academic usage</p>
                  </div>
                </div>
              </div>
            </div>
            <!-- End Conversation Details -->

            <!-- Chat Messages - Scrollable -->
            <div
              class="flex-1 overflow-y-auto [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 dark:[&::-webkit-scrollbar-track]:bg-neutral-700 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500">
              <div class="p-5">
                <!-- Academic Conversation Messages -->
                <div x-show="$store.conversationComponent.selectedConversation?.usageType === 'academic'">
                  <!-- Academic Conversation Messages -->
<div>
  <!-- Conversation 1: Photosynthesis Process in C4 Plants -->
  <div class="space-y-4"
    x-show="$store.conversationComponent.selectedConversation && $store.conversationComponent.selectedConversation.id === 1">
    <!-- Student Message -->
    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-blue-100 dark:bg-blue-900/20">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-blue-600 dark:text-blue-400">
            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-blue-600 dark:text-blue-400">Student</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">9:16 AM</span>
        </div>
        <div class="rounded-lg p-3 bg-blue-50 border border-blue-100 dark:bg-blue-900/10 dark:border-blue-800">
          <p class="text-sm text-gray-900 dark:text-neutral-200">Explain the process of
            photosynthesis in C4 plants and how it differs from C3 plants.</p>
        </div>
      </div>
    </div>

    <!-- AI Message -->
    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-neutral-700">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-gray-600 dark:text-neutral-400">
            <path d="M12 8V4H8"></path>
            <rect width="16" height="12" x="4" y="8" rx="2"></rect>
            <path d="M2 14h2"></path>
            <path d="M20 14h2"></path>
            <path d="M15 13v2"></path>
            <path d="M9 13v2"></path>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-gray-600 dark:text-neutral-400">AI Assistant</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">9:16 AM</span>
          <span class="text-xs text-gray-300 dark:text-neutral-600">•</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">580 tokens</span>
        </div>
        <div class="rounded-lg p-3 bg-gray-50 border border-gray-200 dark:bg-neutral-700/50 dark:border-neutral-600">
          <p class="text-sm text-gray-900 dark:text-neutral-200">C4 photosynthesis is an
            adaptation found in certain plants to minimize photorespiration. In C4 plants, carbon dioxide is
            first fixed into a four-carbon compound (hence C4) in mesophyll cells using PEP carboxylase
            enzyme. This compound is then transported to bundle sheath cells where it releases CO2 for the
            Calvin cycle. This is different from C3 plants where CO2 is directly fixed in mesophyll cells
            using RuBisCO enzyme. C4 plants are more efficient in hot, dry conditions because they can
            maintain photosynthesis even when stomata are partially closed.</p>
        </div>
      </div>
    </div>

    <!-- Student Message 2 -->
    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-blue-100 dark:bg-blue-900/20">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-blue-600 dark:text-blue-400">
            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-blue-600 dark:text-blue-400">Student</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">9:24 AM</span>
        </div>
        <div class="rounded-lg p-3 bg-blue-50 border border-blue-100 dark:bg-blue-900/10 dark:border-blue-800">
          <p class="text-sm text-gray-900 dark:text-neutral-200">What is Kranz anatomy?
          </p>
        </div>
      </div>
    </div>

    <!-- AI Message 2 -->
    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-neutral-700">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-gray-600 dark:text-neutral-400">
            <path d="M12 8V4H8"></path>
            <rect width="16" height="12" x="4" y="8" rx="2"></rect>
            <path d="M2 14h2"></path>
            <path d="M20 14h2"></path>
            <path d="M15 13v2"></path>
            <path d="M9 13v2"></path>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-gray-600 dark:text-neutral-400">AI Assistant</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">9:24 AM</span>
          <span class="text-xs text-gray-300 dark:text-neutral-600">•</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">420 tokens</span>
        </div>
        <div class="rounded-lg p-3 bg-gray-50 border border-gray-200 dark:bg-neutral-700/50 dark:border-neutral-600">
          <p class="text-sm text-gray-900 dark:text-neutral-200">Kranz anatomy is a
            specialized leaf structure found in C4 plants. The term 'Kranz' means 'wreath' in German,
            referring to the characteristic arrangement of cells. In Kranz anatomy, the vascular bundles are
            surrounded by two layers of cells: an inner layer of bundle sheath cells and an outer layer of
            mesophyll cells. The bundle sheath cells are large, thick-walled, and contain many chloroplasts.
            This anatomical arrangement is crucial for the C4 pathway to function efficiently.</p>
        </div>
      </div>
    </div>

    <!-- Student Message 3 -->
    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-blue-100 dark:bg-blue-900/20">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-blue-600 dark:text-blue-400">
            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-blue-600 dark:text-blue-400">Student</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">9:28 AM</span>
        </div>
        <div class="rounded-lg p-3 bg-blue-50 border border-blue-100 dark:bg-blue-900/10 dark:border-blue-800">
          <p class="text-sm text-gray-900 dark:text-neutral-200">Can you give me
            examples of C4 plants?</p>
        </div>
      </div>
    </div>

    <!-- AI Message 3 -->
    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-neutral-700">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-gray-600 dark:text-neutral-400">
            <path d="M12 8V4H8"></path>
            <rect width="16" height="12" x="4" y="8" rx="2"></rect>
            <path d="M2 14h2"></path>
            <path d="M20 14h2"></path>
            <path d="M15 13v2"></path>
            <path d="M9 13v2"></path>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-gray-600 dark:text-neutral-400">AI Assistant</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">9:28 AM</span>
          <span class="text-xs text-gray-300 dark:text-neutral-600">•</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">380 tokens</span>
        </div>
        <div class="rounded-lg p-3 bg-gray-50 border border-gray-200 dark:bg-neutral-700/50 dark:border-neutral-600">
          <p class="text-sm text-gray-900 dark:text-neutral-200">Common examples of C4
            plants include:

            1. Maize (Corn) - Zea mays
            2. Sugarcane - Saccharum officinarum
            3. Sorghum
            4. Pearl millet
            5. Amaranthus

            These plants are typically found in tropical and subtropical regions with high temperatures and
            intense sunlight. They're agriculturally important crops that can maintain high productivity
            even under stress conditions like drought and high temperature.</p>
        </div>
      </div>
    </div>

    <!-- Student Message 4 -->
    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-blue-100 dark:bg-blue-900/20">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-blue-600 dark:text-blue-400">
            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-blue-600 dark:text-blue-400">Student</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">9:30 AM</span>
        </div>
        <div class="rounded-lg p-3 bg-blue-50 border border-blue-100 dark:bg-blue-900/10 dark:border-blue-800">
          <p class="text-sm text-gray-900 dark:text-neutral-200">Why is photorespiration
            bad for plants?</p>
        </div>
      </div>
    </div>

    <!-- AI Message 4 -->
    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-neutral-700">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-gray-600 dark:text-neutral-400">
            <path d="M12 8V4H8"></path>
            <rect width="16" height="12" x="4" y="8" rx="2"></rect>
            <path d="M2 14h2"></path>
            <path d="M20 14h2"></path>
            <path d="M15 13v2"></path>
            <path d="M9 13v2"></path>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-gray-600 dark:text-neutral-400">AI Assistant</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">9:31 AM</span>
          <span class="text-xs text-gray-300 dark:text-neutral-600">•</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">450 tokens</span>
        </div>
        <div class="rounded-lg p-3 bg-gray-50 border border-gray-200 dark:bg-neutral-700/50 dark:border-neutral-600">
          <p class="text-sm text-gray-900 dark:text-neutral-200">Photorespiration is
            considered wasteful because:

            1. It consumes energy (ATP) without producing glucose
            2. It releases previously fixed CO2, reducing photosynthetic efficiency
            3. It doesn't produce ATP or NADPH
            4. It can reduce crop yield by up to 50% in some C3 plants
            5. It increases with temperature and low CO2 conditions

            Photorespiration occurs when RuBisCO enzyme binds with O2 instead of CO2. While it may have some
            protective roles, it's generally counterproductive for plant growth. C4 plants evolved
            mechanisms to minimize this process.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Conversation 2: Cell Division - Mitosis vs Meiosis -->
  <div class="space-y-4"
    x-show="$store.conversationComponent.selectedConversation && $store.conversationComponent.selectedConversation.id === 2">
    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-blue-100 dark:bg-blue-900/20">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-blue-600 dark:text-blue-400">
            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-blue-600 dark:text-blue-400">Student</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">8:30 PM</span>
        </div>
        <div class="rounded-lg p-3 bg-blue-50 border border-blue-100 dark:bg-blue-900/10 dark:border-blue-800">
          <p class="text-sm text-gray-900 dark:text-neutral-200">What are the best
            movies to watch this weekend?</p>
        </div>
      </div>
    </div>

    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-neutral-700">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-gray-600 dark:text-neutral-400">
            <path d="M12 8V4H8"></path>
            <rect width="16" height="12" x="4" y="8" rx="2"></rect>
            <path d="M2 14h2"></path>
            <path d="M20 14h2"></path>
            <path d="M15 13v2"></path>
            <path d="M9 13v2"></path>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-gray-600 dark:text-neutral-400">AI Assistant</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">8:31 PM</span>
          <span class="text-xs text-gray-300 dark:text-neutral-600">•</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">320 tokens</span>
        </div>
        <div class="rounded-lg p-3 bg-gray-50 border border-gray-200 dark:bg-neutral-700/50 dark:border-neutral-600">
          <p class="text-sm text-gray-900 dark:text-neutral-200">I notice this question
            is not related to your academic studies. I'm designed to help with educational content. Would
            you like to ask about biology, chemistry, physics, or any other academic subject instead?</p>
        </div>
      </div>
    </div>

    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-blue-100 dark:bg-blue-900/20">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-blue-600 dark:text-blue-400">
            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-blue-600 dark:text-blue-400">Student</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">8:32 PM</span>
        </div>
        <div class="rounded-lg p-3 bg-blue-50 border border-blue-100 dark:bg-blue-900/10 dark:border-blue-800">
          <p class="text-sm text-gray-900 dark:text-neutral-200">Just tell me about
            movies, I'm taking a break from studies.</p>
        </div>
      </div>
    </div>

    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-neutral-700">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-gray-600 dark:text-neutral-400">
            <path d="M12 8V4H8"></path>
            <rect width="16" height="12" x="4" y="8" rx="2"></rect>
            <path d="M2 14h2"></path>
            <path d="M20 14h2"></path>
            <path d="M15 13v2"></path>
            <path d="M9 13v2"></path>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-gray-600 dark:text-neutral-400">AI Assistant</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">8:33 PM</span>
          <span class="text-xs text-gray-300 dark:text-neutral-600">•</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">280 tokens</span>
        </div>
        <div class="rounded-lg p-3 bg-gray-50 border border-gray-200 dark:bg-neutral-700/50 dark:border-neutral-600">
          <p class="text-sm text-gray-900 dark:text-neutral-200">I understand you need a
            break, but I'm specifically designed to assist with academic learning. I can help you with study
            strategies, explain difficult concepts, or review material. Is there a particular subject you'd
            like help with?</p>
        </div>
      </div>
    </div>

    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-blue-100 dark:bg-blue-900/20">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-blue-600 dark:text-blue-400">
            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-blue-600 dark:text-blue-400">Student</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">8:35 PM</span>
        </div>
        <div class="rounded-lg p-3 bg-blue-50 border border-blue-100 dark:bg-blue-900/10 dark:border-blue-800">
          <p class="text-sm text-gray-900 dark:text-neutral-200">Come on, just recommend
            some good action movies. What's the harm?</p>
        </div>
      </div>
    </div>

    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-neutral-700">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-gray-600 dark:text-neutral-400">
            <path d="M12 8V4H8"></path>
            <rect width="16" height="12" x="4" y="8" rx="2"></rect>
            <path d="M2 14h2"></path>
            <path d="M20 14h2"></path>
            <path d="M15 13v2"></path>
            <path d="M9 13v2"></path>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-gray-600 dark:text-neutral-400">AI Assistant</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">8:36 PM</span>
          <span class="text-xs text-gray-300 dark:text-neutral-600">•</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">250 tokens</span>
        </div>
        <div class="rounded-lg p-3 bg-gray-50 border border-gray-200 dark:bg-neutral-700/50 dark:border-neutral-600">
          <p class="text-sm text-gray-900 dark:text-neutral-200">I'm designed
            exclusively for educational purposes. If you have questions about film studies, cinematography,
            or movie analysis as part of your curriculum, I'd be happy to help. Otherwise, I encourage you
            to return to your academic studies or use other resources for entertainment recommendations.</p>
        </div>
      </div>
    </div>

    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-blue-100 dark:bg-blue-900/20">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-blue-600 dark:text-blue-400">
            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-blue-600 dark:text-blue-400">Student</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">8:40 PM</span>
        </div>
        <div class="rounded-lg p-3 bg-blue-50 border border-blue-100 dark:bg-blue-900/10 dark:border-blue-800">
          <p class="text-sm text-gray-900 dark:text-neutral-200">Fine, what about video
            games then? Which games are trending right now?</p>
        </div>
      </div>
    </div>

    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-neutral-700">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-gray-600 dark:text-neutral-400">
            <path d="M12 8V4H8"></path>
            <rect width="16" height="12" x="4" y="8" rx="2"></rect>
            <path d="M2 14h2"></path>
            <path d="M20 14h2"></path>
            <path d="M15 13v2"></path>
            <path d="M9 13v2"></path>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-gray-600 dark:text-neutral-400">AI Assistant</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">8:41 PM</span>
          <span class="text-xs text-gray-300 dark:text-neutral-600">•</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">290 tokens</span>
        </div>
        <div class="rounded-lg p-3 bg-gray-50 border border-gray-200 dark:bg-neutral-700/50 dark:border-neutral-600">
          <p class="text-sm text-gray-900 dark:text-neutral-200">I'm unable to provide
            information about video games or entertainment trends as these are outside my educational scope.
            I'm here to support your learning. Would you like help with any academic subjects? I can assist
            with problem-solving, concept explanations, or study techniques.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Conversation 4: Human Digestive System Overview -->
  <div class="space-y-4"
    x-show="$store.conversationComponent.selectedConversation && $store.conversationComponent.selectedConversation.id === 4">
    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-blue-100 dark:bg-blue-900/20">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-blue-600 dark:text-blue-400">
            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-blue-600 dark:text-blue-400">Student</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">2:45 PM</span>
        </div>
        <div class="rounded-lg p-3 bg-blue-50 border border-blue-100 dark:bg-blue-900/10 dark:border-blue-800">
          <p class="text-sm text-gray-900 dark:text-neutral-200">Can you explain the key
            differences between mitosis and meiosis?</p>
        </div>
      </div>
    </div>

    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-neutral-700">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-gray-600 dark:text-neutral-400">
            <path d="M12 8V4H8"></path>
            <rect width="16" height="12" x="4" y="8" rx="2"></rect>
            <path d="M2 14h2"></path>
            <path d="M20 14h2"></path>
            <path d="M15 13v2"></path>
            <path d="M9 13v2"></path>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-gray-600 dark:text-neutral-400">AI Assistant</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">2:46 PM</span>
          <span class="text-xs text-gray-300 dark:text-neutral-600">•</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">520 tokens</span>
        </div>
        <div class="rounded-lg p-3 bg-gray-50 border border-gray-200 dark:bg-neutral-700/50 dark:border-neutral-600">
          <p class="text-sm text-gray-900 dark:text-neutral-200">Mitosis and meiosis are
            both cell division processes, but they serve different purposes:

            **Mitosis:**
            - Produces 2 identical diploid daughter cells
            - Used for growth, repair, and asexual reproduction
            - Single division process
            - Chromosome number remains the same (2n → 2n)
            - Results in genetically identical cells

            **Meiosis:**
            - Produces 4 genetically different haploid gametes
            - Used for sexual reproduction
            - Two divisions (Meiosis I and II)
            - Chromosome number is halved (2n → n)
            - Results in genetic diversity through crossing over and independent assortment

            The key difference is that mitosis maintains chromosome number while meiosis reduces it by half,
            and meiosis introduces genetic variation.</p>
        </div>
      </div>
    </div>

    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-blue-100 dark:bg-blue-900/20">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-blue-600 dark:text-blue-400">
            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-blue-600 dark:text-blue-400">Student</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">2:52 PM</span>
        </div>
        <div class="rounded-lg p-3 bg-blue-50 border border-blue-100 dark:bg-blue-900/10 dark:border-blue-800">
          <p class="text-sm text-gray-900 dark:text-neutral-200">What happens during
            prophase in both processes?</p>
        </div>
      </div>
    </div>

    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-neutral-700">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-gray-600 dark:text-neutral-400">
            <path d="M12 8V4H8"></path>
            <rect width="16" height="12" x="4" y="8" rx="2"></rect>
            <path d="M2 14h2"></path>
            <path d="M20 14h2"></path>
            <path d="M15 13v2"></path>
            <path d="M9 13v2"></path>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-gray-600 dark:text-neutral-400">AI Assistant</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">2:53 PM</span>
          <span class="text-xs text-gray-300 dark:text-neutral-600">•</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">480 tokens</span>
        </div>
        <div class="rounded-lg p-3 bg-gray-50 border border-gray-200 dark:bg-neutral-700/50 dark:border-neutral-600">
          <p class="text-sm text-gray-900 dark:text-neutral-200">**Prophase in
            Mitosis:**
            - Chromosomes condense and become visible
            - Nuclear envelope breaks down
            - Centrioles move to opposite poles
            - Spindle fibers begin to form
            - No crossing over occurs

            **Prophase I in Meiosis:**
            - Similar to mitosis, but with key differences
            - Chromosomes condense and pair up (synapsis)
            - Homologous chromosomes form tetrads
            - Crossing over occurs between non-sister chromatids
            - Chiasmata (points of crossing over) are visible
            - Nuclear envelope breaks down
            - This is the longest phase of meiosis

            The critical difference is that prophase I involves pairing of homologous chromosomes and
            genetic recombination through crossing over, which doesn't happen in mitotic prophase.</p>
        </div>
      </div>
    </div>

    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-blue-100 dark:bg-blue-900/20">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-blue-600 dark:text-blue-400">
            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-blue-600 dark:text-blue-400">Student</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">3:05 PM</span>
        </div>
        <div class="rounded-lg p-3 bg-blue-50 border border-blue-100 dark:bg-blue-900/10 dark:border-blue-800">
          <p class="text-sm text-gray-900 dark:text-neutral-200">Why is crossing over
            important in meiosis?</p>
        </div>
      </div>
    </div>

    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-neutral-700">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-gray-600 dark:text-neutral-400">
            <path d="M12 8V4H8"></path>
            <rect width="16" height="12" x="4" y="8" rx="2"></rect>
            <path d="M2 14h2"></path>
            <path d="M20 14h2"></path>
            <path d="M15 13v2"></path>
            <path d="M9 13v2"></path>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-gray-600 dark:text-neutral-400">AI Assistant</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">3:06 PM</span>
          <span class="text-xs text-gray-300 dark:text-neutral-600">•</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">410 tokens</span>
        </div>
        <div class="rounded-lg p-3 bg-gray-50 border border-gray-200 dark:bg-neutral-700/50 dark:border-neutral-600">
          <p class="text-sm text-gray-900 dark:text-neutral-200">Crossing over is
            crucial in meiosis for several reasons:

            1. **Genetic Diversity**: It creates new combinations of alleles on chromosomes, ensuring
            offspring are genetically unique
            2. **Evolutionary Advantage**: Increases variation in populations, allowing for better
            adaptation to changing environments
            3. **Independent Assortment**: Works together with independent assortment to maximize genetic
            variation
            4. **Recombination**: Breaks up linked genes, allowing beneficial traits to be separated from
            harmful ones

            Without crossing over, genetic variation would be limited, and species would have less ability
            to adapt to environmental changes. This is why sexual reproduction (which involves meiosis) is
            evolutionarily advantageous.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Conversation 4: Human Digestive System Overview -->
  <div class="space-y-4"
    x-show="$store.conversationComponent.selectedConversation && $store.conversationComponent.selectedConversation.id === 4">
    <!-- Student Message -->
    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-blue-100 dark:bg-blue-900/20">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-blue-600 dark:text-blue-400">
            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-blue-600 dark:text-blue-400">Student</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">10:20 AM</span>
        </div>
        <div class="rounded-lg p-3 bg-blue-50 border border-blue-100 dark:bg-blue-900/10 dark:border-blue-800">
          <p class="text-sm text-gray-900 dark:text-neutral-200">Can you explain the human digestive system and the role
            of digestive enzymes?</p>
        </div>
      </div>
    </div>

    <!-- AI Message -->
    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-neutral-700">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-gray-600 dark:text-neutral-400">
            <path d="M12 8V4H8"></path>
            <rect width="16" height="12" x="4" y="8" rx="2"></rect>
            <path d="M2 14h2"></path>
            <path d="M20 14h2"></path>
            <path d="M15 13v2"></path>
            <path d="M9 13v2"></path>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-gray-600 dark:text-neutral-400">AI Assistant</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">10:21 AM</span>
          <span class="text-xs text-gray-300 dark:text-neutral-600">•</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">680 tokens</span>
        </div>
        <div class="rounded-lg p-3 bg-gray-50 border border-gray-200 dark:bg-neutral-700/50 dark:border-neutral-600">
          <p class="text-sm text-gray-900 dark:text-neutral-200">The human digestive system is a complex network of
            organs that breaks down food into nutrients. Key components include:

            **Organs:**
            - Mouth: Mechanical and chemical digestion begins
            - Esophagus: Transports food to stomach
            - Stomach: Churns food and secretes gastric acid
            - Small intestine: Main site of nutrient absorption
            - Large intestine: Absorbs water and forms feces
            - Liver: Produces bile for fat digestion
            - Pancreas: Secretes digestive enzymes

            **Digestive Enzymes:**
            - Amylase: Breaks down carbohydrates (saliva, pancreas)
            - Pepsin: Breaks down proteins (stomach)
            - Lipase: Breaks down fats (pancreas, small intestine)
            - Trypsin: Breaks down proteins (pancreas)
            - Lactase: Breaks down lactose (small intestine)

            These enzymes are essential for converting complex molecules into simpler forms that can be absorbed by the
            body.</p>
        </div>
      </div>
    </div>
  </div>
</div>
                </div>
                <!-- Non-Academic Conversation Messages -->
                <div x-show="$store.conversationComponent.selectedConversation?.usageType === 'non-academic'">
                  <!-- Non-Academic Conversation Messages -->
<div class="space-y-4">
  <!-- Student Message -->
  <div class="flex gap-3">
    <div class="flex-shrink-0">
      <div class="w-8 h-8 rounded-full flex items-center justify-center bg-blue-100 dark:bg-blue-900/20">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
          class="w-4 h-4 text-blue-600 dark:text-blue-400">
          <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
          <circle cx="12" cy="7" r="4"></circle>
        </svg>
      </div>
    </div>
    <div class="flex-1 min-w-0">
      <div class="flex items-center gap-2 mb-1">
        <span class="text-xs font-medium text-blue-600 dark:text-blue-400">Student</span>
        <span class="text-xs text-gray-400 dark:text-neutral-500">8:30 PM</span>
      </div>
      <div class="rounded-lg p-3 bg-blue-50 border border-blue-100 dark:bg-blue-900/10 dark:border-blue-800">
        <p class="text-sm text-gray-900 dark:text-neutral-200">What are the best movies to watch this weekend?</p>
      </div>
    </div>
  </div>

  <!-- AI Message -->
  <div class="flex gap-3">
    <div class="flex-shrink-0">
      <div class="w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-neutral-700">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
          class="w-4 h-4 text-gray-600 dark:text-neutral-400">
          <path d="M12 8V4H8"></path>
          <rect width="16" height="12" x="4" y="8" rx="2"></rect>
          <path d="M2 14h2"></path>
          <path d="M20 14h2"></path>
          <path d="M15 13v2"></path>
          <path d="M9 13v2"></path>
        </svg>
      </div>
    </div>
    <div class="flex-1 min-w-0">
      <div class="flex items-center gap-2 mb-1">
        <span class="text-xs font-medium text-gray-600 dark:text-neutral-400">AI Assistant</span>
        <span class="text-xs text-gray-400 dark:text-neutral-500">8:31 PM</span>
        <span class="text-xs text-gray-300 dark:text-neutral-600">•</span>
        <span class="text-xs text-gray-400 dark:text-neutral-500">320 tokens</span>
      </div>
      <div class="rounded-lg p-3 bg-gray-50 border border-gray-200 dark:bg-neutral-700/50 dark:border-neutral-600">
        <p class="text-sm text-gray-900 dark:text-neutral-200">I notice this question is not related to your academic
          studies. I'm designed to help with educational content. Would you like to ask about biology, chemistry,
          physics, or any other academic subject instead?</p>
      </div>
    </div>
  </div>

  <!-- Student Message 2 -->
  <div class="flex gap-3">
    <div class="flex-shrink-0">
      <div class="w-8 h-8 rounded-full flex items-center justify-center bg-blue-100 dark:bg-blue-900/20">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
          class="w-4 h-4 text-blue-600 dark:text-blue-400">
          <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
          <circle cx="12" cy="7" r="4"></circle>
        </svg>
      </div>
    </div>
    <div class="flex-1 min-w-0">
      <div class="flex items-center gap-2 mb-1">
        <span class="text-xs font-medium text-blue-600 dark:text-blue-400">Student</span>
        <span class="text-xs text-gray-400 dark:text-neutral-500">8:32 PM</span>
      </div>
      <div class="rounded-lg p-3 bg-blue-50 border border-blue-100 dark:bg-blue-900/10 dark:border-blue-800">
        <p class="text-sm text-gray-900 dark:text-neutral-200">Just tell me about movies, I'm taking a break from
          studies.</p>
      </div>
    </div>
  </div>

  <!-- AI Message 2 -->
  <div class="flex gap-3">
    <div class="flex-shrink-0">
      <div class="w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-neutral-700">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
          class="w-4 h-4 text-gray-600 dark:text-neutral-400">
          <path d="M12 8V4H8"></path>
          <rect width="16" height="12" x="4" y="8" rx="2"></rect>
          <path d="M2 14h2"></path>
          <path d="M20 14h2"></path>
          <path d="M15 13v2"></path>
          <path d="M9 13v2"></path>
        </svg>
      </div>
    </div>
    <div class="flex-1 min-w-0">
      <div class="flex items-center gap-2 mb-1">
        <span class="text-xs font-medium text-gray-600 dark:text-neutral-400">AI Assistant</span>
        <span class="text-xs text-gray-400 dark:text-neutral-500">8:33 PM</span>
        <span class="text-xs text-gray-300 dark:text-neutral-600">•</span>
        <span class="text-xs text-gray-400 dark:text-neutral-500">280 tokens</span>
      </div>
      <div class="rounded-lg p-3 bg-gray-50 border border-gray-200 dark:bg-neutral-700/50 dark:border-neutral-600">
        <p class="text-sm text-gray-900 dark:text-neutral-200">I understand you need a break, but I'm specifically
          designed to assist with academic learning. I can help you with study strategies, explain difficult concepts,
          or review material. Is there a particular subject you'd like help with?</p>
      </div>
    </div>
  </div>

  <!-- Student Message 3 -->
  <div class="flex gap-3">
    <div class="flex-shrink-0">
      <div class="w-8 h-8 rounded-full flex items-center justify-center bg-blue-100 dark:bg-blue-900/20">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
          class="w-4 h-4 text-blue-600 dark:text-blue-400">
          <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
          <circle cx="12" cy="7" r="4"></circle>
        </svg>
      </div>
    </div>
    <div class="flex-1 min-w-0">
      <div class="flex items-center gap-2 mb-1">
        <span class="text-xs font-medium text-blue-600 dark:text-blue-400">Student</span>
        <span class="text-xs text-gray-400 dark:text-neutral-500">8:35 PM</span>
      </div>
      <div class="rounded-lg p-3 bg-blue-50 border border-blue-100 dark:bg-blue-900/10 dark:border-blue-800">
        <p class="text-sm text-gray-900 dark:text-neutral-200">Come on, just recommend some good action movies. What's
          the harm?</p>
      </div>
    </div>
  </div>

  <!-- AI Message 3 -->
  <div class="flex gap-3">
    <div class="flex-shrink-0">
      <div class="w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-neutral-700">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
          class="w-4 h-4 text-gray-600 dark:text-neutral-400">
          <path d="M12 8V4H8"></path>
          <rect width="16" height="12" x="4" y="8" rx="2"></rect>
          <path d="M2 14h2"></path>
          <path d="M20 14h2"></path>
          <path d="M15 13v2"></path>
          <path d="M9 13v2"></path>
        </svg>
      </div>
    </div>
    <div class="flex-1 min-w-0">
      <div class="flex items-center gap-2 mb-1">
        <span class="text-xs font-medium text-gray-600 dark:text-neutral-400">AI Assistant</span>
        <span class="text-xs text-gray-400 dark:text-neutral-500">8:36 PM</span>
        <span class="text-xs text-gray-300 dark:text-neutral-600">•</span>
        <span class="text-xs text-gray-400 dark:text-neutral-500">250 tokens</span>
      </div>
      <div class="rounded-lg p-3 bg-gray-50 border border-gray-200 dark:bg-neutral-700/50 dark:border-neutral-600">
        <p class="text-sm text-gray-900 dark:text-neutral-200">I'm designed exclusively for educational purposes. If you
          have questions about film studies, cinematography, or movie analysis as part of your curriculum, I'd be happy
          to help. Otherwise, I encourage you to return to your academic studies or use other resources for
          entertainment recommendations.</p>
      </div>
    </div>
  </div>
</div>
                </div>
              </div>
            </div>
            <!-- End Chat Messages -->
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- End Right Column -->
</div>
</div>

<!-- Medium and Small Screen Layout: Modal -->
<div class="lg:hidden">
  <!-- Conversation List -->
  <div>
    <!-- Conversation Component with Filters -->
<div x-data="conversationComponent()" class="space-y-4">
  <!-- Filters Section -->
  <div class="bg-white border border-gray-200 rounded-lg p-4 dark:bg-neutral-800 dark:border-neutral-700">
    <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
      <!-- Conversation Type Filter -->
      <div class="relative">
        <select x-model="filters.usageType" @change="applyFilters()" data-hs-select='{
          "placeholder": "All Conversation",
          "toggleTag": "<button type=\"button\" aria-expanded=\"false\"></button>",
          "toggleClasses": "hs-select-disabled:pointer-events-none hs-select-disabled:opacity-50 relative py-2 ps-3 pe-9 flex gap-x-2 text-nowrap w-full cursor-pointer bg-white border border-gray-200 rounded-lg text-start text-sm focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-400 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-neutral-600",
          "dropdownClasses": "mt-2 z-[50] w-full max-h-72 p-1 space-y-0.5 bg-white border border-gray-200 rounded-lg shadow-lg overflow-hidden overflow-y-auto [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 dark:[&::-webkit-scrollbar-track]:bg-neutral-700 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500 dark:bg-neutral-900 dark:border-neutral-700",
          "optionClasses": "p-2 w-full text-sm text-gray-800 cursor-pointer hover:bg-gray-100 rounded-lg focus:outline-none focus:bg-gray-100 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200 dark:focus:bg-neutral-800",
          "optionTemplate": "<div class=\"flex justify-between items-center w-full\"><span data-title></span><span class=\"hidden hs-selected:block\"><svg class=\"shrink-0 size-3.5 text-gray-800 dark:text-neutral-200\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><polyline points=\"20 6 9 17 4 12\"/></svg></span></div>"
        }' class="hidden">
          <option value="all">All Conversation</option>
          <option value="academic">Academic only</option>
          <option value="flagged">Flagged only</option>
        </select>
      </div>

      <!-- Risk Level Filter -->
      <div class="relative">
        <select x-model="filters.riskLevel" @change="applyFilters()" data-hs-select='{
          "placeholder": "All Risk Levels",
          "toggleTag": "<button type=\"button\" aria-expanded=\"false\"></button>",
          "toggleClasses": "hs-select-disabled:pointer-events-none hs-select-disabled:opacity-50 relative py-2 ps-3 pe-9 flex gap-x-2 text-nowrap w-full cursor-pointer bg-white border border-gray-200 rounded-lg text-start text-sm focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-400 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-neutral-600",
          "dropdownClasses": "mt-2 z-[50] w-full max-h-72 p-1 space-y-0.5 bg-white border border-gray-200 rounded-lg shadow-lg overflow-hidden overflow-y-auto [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 dark:[&::-webkit-scrollbar-track]:bg-neutral-700 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500 dark:bg-neutral-900 dark:border-neutral-700",
          "optionClasses": "p-2 w-full text-sm text-gray-800 cursor-pointer hover:bg-gray-100 rounded-lg focus:outline-none focus:bg-gray-100 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200 dark:focus:bg-neutral-800",
          "optionTemplate": "<div class=\"flex justify-between items-center w-full\"><span data-title></span><span class=\"hidden hs-selected:block\"><svg class=\"shrink-0 size-3.5 text-gray-800 dark:text-neutral-200\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><polyline points=\"20 6 9 17 4 12\"/></svg></span></div>"
        }' class="hidden">
          <option value="all">All Risk Levels</option>
          <option value="critical">Critical</option>
          <option value="high">High</option>
          <option value="medium">Medium</option>
          <option value="low">Low</option>
        </select>
      </div>

      <!-- AI Type Filter -->
      <div class="relative">
        <select x-model="filters.aiType" @change="applyFilters()" data-hs-select='{
          "placeholder": "All AI",
          "toggleTag": "<button type=\"button\" aria-expanded=\"false\"></button>",
          "toggleClasses": "hs-select-disabled:pointer-events-none hs-select-disabled:opacity-50 relative py-2 ps-3 pe-9 flex gap-x-2 text-nowrap w-full cursor-pointer bg-white border border-gray-200 rounded-lg text-start text-sm focus:outline-none focus:ring-2 focus:ring-green-500 dark:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-400 dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-neutral-600",
          "dropdownClasses": "mt-2 z-[50] w-full max-h-72 p-1 space-y-0.5 bg-white border border-gray-200 rounded-lg shadow-lg overflow-hidden overflow-y-auto [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 dark:[&::-webkit-scrollbar-track]:bg-neutral-700 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500 dark:bg-neutral-900 dark:border-neutral-700",
          "optionClasses": "p-2 w-full text-sm text-gray-800 cursor-pointer hover:bg-gray-100 rounded-lg focus:outline-none focus:bg-gray-100 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200 dark:focus:bg-neutral-800",
          "optionTemplate": "<div class=\"flex justify-between items-center w-full\"><span data-title></span><span class=\"hidden hs-selected:block\"><svg class=\"shrink-0 size-3.5 text-gray-800 dark:text-neutral-200\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><polyline points=\"20 6 9 17 4 12\"/></svg></span></div>"
        }' class="hidden">
          <option value="all">All AI</option>
          <option value="pdf">PDF only</option>
          <option value="doubts">Doubts only</option>
        </select>
      </div>
    </div>
  </div>

  <!-- Conversation Cards List -->
  <div class="space-y-3">
    <!-- Empty State -->
    <div x-show="filteredConversations.length === 0"
      class="bg-white min-h-96  border border-gray-200 rounded-lg p-5 flex flex-col justify-center items-center text-center">
      <svg class="w-48 mx-auto mb-4" width="178" height="90" viewBox="0 0 178 90" fill="none"
        xmlns="http://www.w3.org/2000/svg">
        <rect x="27" y="50.5" width="124" height="39" rx="7.5" fill="currentColor" class="fill-white" />
        <rect x="27" y="50.5" width="124" height="39" rx="7.5" stroke="currentColor" class="stroke-gray-50" />
        <rect x="34.5" y="58" width="24" height="24" rx="4" fill="currentColor" class="fill-gray-50" />
        <rect x="66.5" y="61" width="60" height="6" rx="3" fill="currentColor" class="fill-gray-50" />
        <rect x="66.5" y="73" width="77" height="6" rx="3" fill="currentColor" class="fill-gray-50" />
        <rect x="19.5" y="28.5" width="139" height="39" rx="7.5" fill="currentColor" class="fill-white" />
        <rect x="19.5" y="28.5" width="139" height="39" rx="7.5" stroke="currentColor" class="stroke-gray-100" />
        <rect x="27" y="36" width="24" height="24" rx="4" fill="currentColor" class="fill-gray-100" />
        <rect x="59" y="39" width="60" height="6" rx="3" fill="currentColor" class="fill-gray-100" />
        <rect x="59" y="51" width="92" height="6" rx="3" fill="currentColor" class="fill-gray-100" />
        <g filter="url(#filterConvEmpty)">
          <rect x="12" y="6" width="154" height="40" rx="8" fill="currentColor" class="fill-white"
            shape-rendering="crispEdges" />
          <rect x="12.5" y="6.5" width="153" height="39" rx="7.5" stroke="currentColor" class="stroke-gray-100"
            shape-rendering="crispEdges" />
          <rect x="20" y="14" width="24" height="24" rx="4" fill="currentColor" class="fill-gray-200" />
          <rect x="52" y="17" width="60" height="6" rx="3" fill="currentColor" class="fill-gray-200" />
          <rect x="52" y="29" width="106" height="6" rx="3" fill="currentColor" class="fill-gray-200" />
        </g>
        <defs>
          <filter id="filterConvEmpty" x="0" y="0" width="178" height="64" filterUnits="userSpaceOnUse"
            color-interpolation-filters="sRGB">
            <feFlood flood-opacity="0" result="BackgroundImageFix" />
            <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
              result="hardAlpha" />
            <feOffset dy="6" />
            <feGaussianBlur stdDeviation="6" />
            <feComposite in2="hardAlpha" operator="out" />
            <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.03 0" />
            <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1187_14810" />
            <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1187_14810" result="shape" />
          </filter>
        </defs>
      </svg>

      <div class="max-w-sm mx-auto">
        <p class="mt-2 font-medium text-gray-800 dark:text-neutral-200">
          No conversations found.
        </p>
        <p class="mb-5 text-sm text-gray-500 dark:text-neutral-400">
          <template x-if="filters.usageType !== 'all' || filters.riskLevel !== 'all' || filters.aiType !== 'all'">
            <span>Try adjusting your filters or <button type="button" @click="clearAllFilters()"
                class="text-blue-600 hover:text-blue-700 underline dark:text-blue-400 dark:hover:text-blue-300">clear
                filters</button>.</span>
          </template>
          <template x-if="filters.usageType === 'all' && filters.riskLevel === 'all' && filters.aiType === 'all'">
            <span>There are no conversations to display at this time.</span>
          </template>
        </p>
      </div>
    </div>

    <!-- Conversation Cards -->
    <template x-for="conversation in filteredConversations" :key="conversation.id">
      <div @click="openConversation(conversation)"
        class="bg-white border border-gray-200 rounded-lg p-4 cursor-pointer transition-all hover:shadow-md dark:bg-neutral-800 dark:border-neutral-700"
        :class="conversation.riskLevel === 'critical' || conversation.riskLevel === 'high' ? 'border-l-4 border-l-red-500 dark:border-l-red-500' : ''">
        <div class="flex items-start gap-3 mb-3">
          <div class="p-2 rounded-lg flex-shrink-0"
            :class="conversation.aiType === 'doubts' || conversation.aiType === 'ai' ? 'bg-blue-100 dark:bg-blue-900/20' : 'bg-purple-100 dark:bg-purple-900/20'">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4"
              :class="conversation.aiType === 'doubts' || conversation.aiType === 'ai' ? 'text-blue-600 dark:text-blue-400' : 'text-purple-600 dark:text-purple-400'">
              <path x-show="conversation.aiType === 'pdf'"
                d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"></path>
              <path x-show="conversation.aiType === 'pdf'" d="M14 2v4a2 2 0 0 0 2 2h4"></path>
              <path x-show="conversation.aiType === 'pdf'" d="M10 9H8"></path>
              <path x-show="conversation.aiType === 'pdf'" d="M16 13H8"></path>
              <path x-show="conversation.aiType === 'pdf'" d="M16 17H8"></path>
              <path x-show="conversation.aiType !== 'pdf'"
                d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
          </div>
          <div class="flex-1 min-w-0">
            <div class="flex items-center gap-2 mb-1">
              <h4 class="font-medium text-gray-900 dark:text-neutral-200" x-text="conversation.title"></h4>
              <svg x-show="conversation.riskLevel === 'critical' || conversation.riskLevel === 'high'"
                xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                class="w-4 h-4 text-red-600 dark:text-red-400 flex-shrink-0">
                <path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"></path>
                <path d="M12 9v4"></path>
                <path d="M12 17h.01"></path>
              </svg>
            </div>
            <p class="text-sm text-gray-600 dark:text-neutral-400 line-clamp-2 mb-2" x-text="conversation.description">
            </p>
            <div class="flex items-center gap-3 text-xs text-gray-500 dark:text-neutral-500 mb-2">
              <div class="flex items-center gap-1">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-3 h-3">
                  <circle cx="12" cy="12" r="10"></circle>
                  <polyline points="12 6 12 12 16 14"></polyline>
                </svg>
                <span x-text="conversation.time"></span>
              </div>
              <span>•</span>
              <span x-text="conversation.duration"></span>
              <span>•</span>
              <span x-text="conversation.messageCount + ' messages'"></span>
              <span>•</span>
              <span x-text="conversation.tokens.toLocaleString() + ' tokens'"></span>
            </div>
            <div class="flex flex-wrap items-center gap-2">
              <span
                class="inline-flex items-center justify-center rounded-md border border-gray-200 px-2 py-0.5 text-xs font-medium text-gray-800 dark:text-neutral-200 dark:border-neutral-700"
                x-text="conversation.aiTypeLabel"></span>
              <span class="inline-flex items-center justify-center rounded-md px-2 py-0.5 text-xs font-medium border"
                :class="{
                  'bg-green-100 text-green-700 border-green-200 dark:bg-green-900/20 dark:text-green-300 dark:border-green-800': conversation.riskLevel === 'low',
                  'bg-yellow-100 text-yellow-700 border-yellow-200 dark:bg-yellow-900/20 dark:text-yellow-300 dark:border-yellow-800': conversation.riskLevel === 'medium',
                  'bg-orange-100 text-orange-700 border-orange-200 dark:bg-orange-900/20 dark:text-orange-300 dark:border-orange-800': conversation.riskLevel === 'high',
                  'bg-red-100 text-red-700 border-red-200 dark:bg-red-900/20 dark:text-red-300 dark:border-red-800': conversation.riskLevel === 'critical'
                }"
                x-text="conversation.riskLevel.charAt(0).toUpperCase() + conversation.riskLevel.slice(1) + ' Risk'"></span>
              <span x-show="conversation.type"
                class="inline-flex items-center justify-center rounded-md border border-transparent bg-red-600 text-white px-2 py-0.5 text-xs font-medium dark:bg-red-500"
                x-text="conversation.typeLabel"></span>
              <span class="text-xs text-gray-400 dark:text-neutral-500 ml-auto" x-text="conversation.date"></span>
            </div>
          </div>
        </div>
      </div>
    </template>
  </div>
</div>

<script>
  document.addEventListener('alpine:init', () => {
    Alpine.store('conversationComponent', {
      selectedConversation: null,
      conversations: []
    });
  });

  function conversationComponent() {
    return {
      filters: {
        usageType: 'all',
        riskLevel: 'all',
        aiType: 'all'
      },
      get conversations() {
        return Alpine.store('conversationComponent').conversations;
      },
      init() {
        // Initialize Preline Select2 after Alpine renders
        this.$nextTick(() => {
          if (typeof HSStaticMethods !== 'undefined') {
            HSStaticMethods.autoInit();
          }
        });

        // Initialize conversations in store
        Alpine.store('conversationComponent').conversations = [
          {
            id: 1,
            conversationId: 'CONV-2026-001',
            title: 'Photosynthesis Process in C4 Plants',
            description: 'Discussion about photosynthesis mechanism in C4 plants, comparing with C3 pathway and understanding Kranz anatomy.',
            time: '9:15 AM',
            duration: '17 mins',
            messageCount: 8,
            tokens: 4520,
            date: 'Jan 12, 2026',
            usageType: 'academic',
            type: null,
            typeLabel: null,
            category: null,
            riskLevel: 'low',
            aiType: 'doubts',
            aiTypeLabel: 'Doubts AI'
          },
          {
            id: 2,
            conversationId: 'CONV-2026-002',
            title: 'Cell Division - Mitosis vs Meiosis',
            description: 'Detailed comparison of mitosis and meiosis stages, discussing differences in chromosome behavior and biological significance.',
            time: '2:45 PM',
            duration: '27 mins',
            messageCount: 12,
            tokens: 7890,
            date: 'Jan 12, 2026',
            usageType: 'academic',
            type: null,
            typeLabel: null,
            category: null,
            riskLevel: 'low',
            aiType: 'pdf',
            aiTypeLabel: 'PDF AI'
          },
          {
            id: 3,
            conversationId: 'CONV-2026-003',
            title: 'Entertainment Content - Movies & Games',
            description: 'Extended conversation about movies, video games, and social media trends - completely non-academic.',
            time: '8:30 PM',
            duration: '45 mins',
            messageCount: 23,
            tokens: 12340,
            date: 'Jan 11, 2026',
            usageType: 'non-academic',
            type: 'entertainment',
            typeLabel: 'Entertainment',
            category: 'critical',
            riskLevel: 'critical',
            aiType: 'doubts',
            aiTypeLabel: 'Doubts AI'
          },
          {
            id: 4,
            conversationId: 'CONV-2026-004',
            title: 'Human Digestive System Overview',
            description: 'Questions about digestive enzymes, their functions, and the journey of food through the alimentary canal.',
            time: '10:20 AM',
            duration: '25 mins',
            messageCount: 10,
            tokens: 6780,
            date: 'Jan 11, 2026',
            usageType: 'academic',
            type: null,
            typeLabel: null,
            category: null,
            riskLevel: 'low',
            aiType: 'pdf',
            aiTypeLabel: 'PDF AI'
          },
          {
            id: 5,
            conversationId: 'CONV-2026-005',
            title: 'Joke Generation & Casual Chat',
            description: 'Asking AI to generate jokes, riddles, and engaging in casual conversation unrelated to studies.',
            time: '7:45 PM',
            duration: '40 mins',
            messageCount: 19,
            tokens: 9870,
            date: 'Jan 10, 2026',
            usageType: 'non-academic',
            type: 'mild-non-academic',
            typeLabel: 'Time Wasting',
            category: null,
            riskLevel: 'high',
            aiType: 'doubts',
            aiTypeLabel: 'Doubts AI'
          }
        ];
      },
      get filteredConversations() {
        return Alpine.store('conversationComponent').conversations.filter(conv => {
          if (this.filters.usageType !== 'all' && this.filters.usageType === 'academic' && conv.usageType !== 'academic') return false;
          if (this.filters.usageType !== 'all' && this.filters.usageType === 'flagged' && conv.usageType !== 'non-academic') return false;
          if (this.filters.riskLevel !== 'all' && conv.riskLevel !== this.filters.riskLevel) return false;
          if (this.filters.aiType !== 'all' && conv.aiType !== this.filters.aiType) return false;
          return true;
        });
      },
      applyFilters() {
        // Filters are reactive, no need for explicit action
        // Re-initialize Select2 to ensure proper display
        this.$nextTick(() => {
          if (typeof HSStaticMethods !== 'undefined') {
            HSStaticMethods.autoInit();
          }
        });
      },
      clearAllFilters() {
        this.filters.usageType = 'all';
        this.filters.riskLevel = 'all';
        this.filters.aiType = 'all';
        // Re-initialize Select2 after clearing to update the display
        this.$nextTick(() => {
          if (typeof HSStaticMethods !== 'undefined') {
            HSStaticMethods.autoInit();
          }
        });
      },
      openConversation(conversation) {
        Alpine.store('conversationComponent').selectedConversation = conversation;
      }
    };
  }
</script>
  </div>

  <!-- Modal for Conversation Details -->
  <div x-show="$store.conversationComponent.selectedConversation !== null"
    x-transition:enter="transition ease-out duration-300" x-transition:enter-start="opacity-0"
    x-transition:enter-end="opacity-100" x-transition:leave="transition ease-in duration-300"
    x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0"
    class="fixed inset-0 z-[70] bg-gray-900 bg-opacity-50 dark:bg-opacity-80 backdrop-blur-sm" style="display: none;"
    @click="$store.conversationComponent.selectedConversation = null">
  </div>

  <div x-show="$store.conversationComponent.selectedConversation !== null"
    x-transition:enter="transition ease-out duration-300" x-transition:enter-start="translate-y-full"
    x-transition:enter-end="translate-y-0" x-transition:leave="transition ease-in duration-300"
    x-transition:leave-start="translate-y-0" x-transition:leave-end="translate-y-full"
    class="fixed bottom-0 left-0 right-0 z-[80] flex flex-col bg-white dark:bg-neutral-800 rounded-t-xl max-h-[90vh]"
    style="display: none;" @click.away="$store.conversationComponent.selectedConversation = null"
    @keydown.escape.window="$store.conversationComponent.selectedConversation = null">
    <!-- Header -->
    <div
      class="py-3 px-4 border-b border-gray-200 dark:border-neutral-700 flex justify-between items-center flex-shrink-0">
      <h4 class="font-medium text-gray-900 dark:text-neutral-200">Conversation Detail</h4>
      <button type="button" @click="$store.conversationComponent.selectedConversation = null"
        class="size-8 inline-flex justify-center items-center gap-x-2 rounded-full border border-transparent bg-gray-100 text-gray-800 hover:bg-gray-200 disabled:opacity-50 disabled:pointer-events-none focus:outline-hidden focus:bg-gray-200 dark:bg-neutral-700 dark:hover:bg-neutral-600 dark:text-neutral-400 dark:focus:bg-neutral-600"
        aria-label="Close">
        <span class="sr-only">Close</span>
        <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
          fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M18 6 6 18" />
          <path d="m6 6 12 12" />
        </svg>
      </button>
    </div>
    <!-- End Header -->

    <!-- Body - Scrollable Chat Messages -->
    <div
      class="flex-1 overflow-y-auto [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 dark:[&::-webkit-scrollbar-track]:bg-neutral-700 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500">
      <div class="p-5 space-y-5">
        <!-- Conversation Details -->
        <div class="space-y-4">
          <div>
            <h4 class="font-semibold text-lg text-gray-800 dark:text-neutral-200 mb-2"
              x-text="$store.conversationComponent.selectedConversation?.title || ''"></h4>
            <p class="text-sm text-gray-600 dark:text-neutral-400"
              x-text="$store.conversationComponent.selectedConversation?.description || ''"></p>
          </div>

          <!-- Stats Grid -->
          <div class="grid grid-cols-2 gap-4">
            <div class="bg-gray-50 dark:bg-neutral-700/50 rounded-lg p-3">
              <div class="flex items-center gap-2 mb-1">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                  class="w-4 h-4 text-gray-500 dark:text-neutral-400">
                  <circle cx="12" cy="12" r="10"></circle>
                  <polyline points="12 6 12 12 16 14"></polyline>
                </svg>
                <span class="text-xs text-gray-600 dark:text-neutral-400">Duration</span>
              </div>
              <p class="text-sm font-medium text-gray-900 dark:text-neutral-200"
                x-text="$store.conversationComponent.selectedConversation?.duration || ''"></p>
              <p class="text-xs text-gray-500 dark:text-neutral-500 mt-0.5"
                x-text="$store.conversationComponent.selectedConversation?.time || ''"></p>
            </div>
            <div class="bg-gray-50 dark:bg-neutral-700/50 rounded-lg p-3">
              <div class="flex items-center gap-2 mb-1">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                  class="w-4 h-4 text-gray-500 dark:text-neutral-400">
                  <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                </svg>
                <span class="text-xs text-gray-600 dark:text-neutral-400">Messages</span>
              </div>
              <p class="text-sm font-medium text-gray-900 dark:text-neutral-200"
                x-text="($store.conversationComponent.selectedConversation?.messageCount || 0) + ' exchanges'"></p>
              <p class="text-xs text-gray-500 dark:text-neutral-500 mt-0.5"
                x-text="($store.conversationComponent.selectedConversation?.tokens || 0).toLocaleString() + ' tokens'">
              </p>
            </div>
          </div>

          <!-- Badges -->
          <div class="flex flex-wrap items-center gap-2">
            <span
              class="inline-flex items-center justify-center rounded-md border border-gray-200 px-2 py-0.5 text-xs font-medium text-gray-800 dark:text-neutral-200 dark:border-neutral-700"
              x-text="$store.conversationComponent.selectedConversation?.aiTypeLabel || ''"></span>
            <span class="inline-flex items-center justify-center rounded-md px-2 py-0.5 text-xs font-medium border"
              :class="{
                    'bg-green-100 text-green-700 border-green-200 dark:bg-green-900/20 dark:text-green-300 dark:border-green-800': $store.conversationComponent.selectedConversation?.riskLevel === 'low',
                    'bg-yellow-100 text-yellow-700 border-yellow-200 dark:bg-yellow-900/20 dark:text-yellow-300 dark:border-yellow-800': $store.conversationComponent.selectedConversation?.riskLevel === 'medium',
                    'bg-orange-100 text-orange-700 border-orange-200 dark:bg-orange-900/20 dark:text-orange-300 dark:border-orange-800': $store.conversationComponent.selectedConversation?.riskLevel === 'high',
                    'bg-red-100 text-red-700 border-red-200 dark:bg-red-900/20 dark:text-red-300 dark:border-red-800': $store.conversationComponent.selectedConversation?.riskLevel === 'critical'
                  }"
              x-text="$store.conversationComponent.selectedConversation?.riskLevel ? ($store.conversationComponent.selectedConversation.riskLevel.charAt(0).toUpperCase() + $store.conversationComponent.selectedConversation.riskLevel.slice(1) + ' Risk') : ''"></span>
            <span x-show="$store.conversationComponent.selectedConversation?.type"
              class="inline-flex items-center justify-center rounded-md border border-transparent bg-red-600 text-white px-2 py-0.5 text-xs font-medium dark:bg-red-500"
              x-text="$store.conversationComponent.selectedConversation?.typeLabel || ''"></span>
          </div>

          <!-- Flagged Alert -->
          <div x-show="$store.conversationComponent.selectedConversation?.usageType === 'non-academic'"
            class="bg-red-50 border border-red-200 rounded-lg p-3 dark:bg-red-900/10 dark:border-red-800">
            <div class="flex items-start gap-2">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                class="w-4 h-4 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5">
                <path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"></path>
                <path d="M12 9v4"></path>
                <path d="M12 17h.01"></path>
              </svg>
              <div>
                <p class="text-sm font-medium text-red-900 dark:text-red-200">Flagged for Review</p>
                <p class="text-xs text-red-700 dark:text-red-300 mt-1">This conversation has been identified as
                  non-academic usage</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Conversation Messages -->
        <div class="border-t border-gray-200 dark:border-neutral-700 pt-5">
          <!-- Academic Conversation Messages -->
          <div x-show="$store.conversationComponent.selectedConversation?.usageType === 'academic'">
            <!-- Academic Conversation Messages -->
<div>
  <!-- Conversation 1: Photosynthesis Process in C4 Plants -->
  <div class="space-y-4"
    x-show="$store.conversationComponent.selectedConversation && $store.conversationComponent.selectedConversation.id === 1">
    <!-- Student Message -->
    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-blue-100 dark:bg-blue-900/20">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-blue-600 dark:text-blue-400">
            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-blue-600 dark:text-blue-400">Student</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">9:16 AM</span>
        </div>
        <div class="rounded-lg p-3 bg-blue-50 border border-blue-100 dark:bg-blue-900/10 dark:border-blue-800">
          <p class="text-sm text-gray-900 dark:text-neutral-200">Explain the process of
            photosynthesis in C4 plants and how it differs from C3 plants.</p>
        </div>
      </div>
    </div>

    <!-- AI Message -->
    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-neutral-700">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-gray-600 dark:text-neutral-400">
            <path d="M12 8V4H8"></path>
            <rect width="16" height="12" x="4" y="8" rx="2"></rect>
            <path d="M2 14h2"></path>
            <path d="M20 14h2"></path>
            <path d="M15 13v2"></path>
            <path d="M9 13v2"></path>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-gray-600 dark:text-neutral-400">AI Assistant</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">9:16 AM</span>
          <span class="text-xs text-gray-300 dark:text-neutral-600">•</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">580 tokens</span>
        </div>
        <div class="rounded-lg p-3 bg-gray-50 border border-gray-200 dark:bg-neutral-700/50 dark:border-neutral-600">
          <p class="text-sm text-gray-900 dark:text-neutral-200">C4 photosynthesis is an
            adaptation found in certain plants to minimize photorespiration. In C4 plants, carbon dioxide is
            first fixed into a four-carbon compound (hence C4) in mesophyll cells using PEP carboxylase
            enzyme. This compound is then transported to bundle sheath cells where it releases CO2 for the
            Calvin cycle. This is different from C3 plants where CO2 is directly fixed in mesophyll cells
            using RuBisCO enzyme. C4 plants are more efficient in hot, dry conditions because they can
            maintain photosynthesis even when stomata are partially closed.</p>
        </div>
      </div>
    </div>

    <!-- Student Message 2 -->
    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-blue-100 dark:bg-blue-900/20">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-blue-600 dark:text-blue-400">
            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-blue-600 dark:text-blue-400">Student</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">9:24 AM</span>
        </div>
        <div class="rounded-lg p-3 bg-blue-50 border border-blue-100 dark:bg-blue-900/10 dark:border-blue-800">
          <p class="text-sm text-gray-900 dark:text-neutral-200">What is Kranz anatomy?
          </p>
        </div>
      </div>
    </div>

    <!-- AI Message 2 -->
    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-neutral-700">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-gray-600 dark:text-neutral-400">
            <path d="M12 8V4H8"></path>
            <rect width="16" height="12" x="4" y="8" rx="2"></rect>
            <path d="M2 14h2"></path>
            <path d="M20 14h2"></path>
            <path d="M15 13v2"></path>
            <path d="M9 13v2"></path>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-gray-600 dark:text-neutral-400">AI Assistant</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">9:24 AM</span>
          <span class="text-xs text-gray-300 dark:text-neutral-600">•</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">420 tokens</span>
        </div>
        <div class="rounded-lg p-3 bg-gray-50 border border-gray-200 dark:bg-neutral-700/50 dark:border-neutral-600">
          <p class="text-sm text-gray-900 dark:text-neutral-200">Kranz anatomy is a
            specialized leaf structure found in C4 plants. The term 'Kranz' means 'wreath' in German,
            referring to the characteristic arrangement of cells. In Kranz anatomy, the vascular bundles are
            surrounded by two layers of cells: an inner layer of bundle sheath cells and an outer layer of
            mesophyll cells. The bundle sheath cells are large, thick-walled, and contain many chloroplasts.
            This anatomical arrangement is crucial for the C4 pathway to function efficiently.</p>
        </div>
      </div>
    </div>

    <!-- Student Message 3 -->
    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-blue-100 dark:bg-blue-900/20">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-blue-600 dark:text-blue-400">
            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-blue-600 dark:text-blue-400">Student</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">9:28 AM</span>
        </div>
        <div class="rounded-lg p-3 bg-blue-50 border border-blue-100 dark:bg-blue-900/10 dark:border-blue-800">
          <p class="text-sm text-gray-900 dark:text-neutral-200">Can you give me
            examples of C4 plants?</p>
        </div>
      </div>
    </div>

    <!-- AI Message 3 -->
    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-neutral-700">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-gray-600 dark:text-neutral-400">
            <path d="M12 8V4H8"></path>
            <rect width="16" height="12" x="4" y="8" rx="2"></rect>
            <path d="M2 14h2"></path>
            <path d="M20 14h2"></path>
            <path d="M15 13v2"></path>
            <path d="M9 13v2"></path>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-gray-600 dark:text-neutral-400">AI Assistant</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">9:28 AM</span>
          <span class="text-xs text-gray-300 dark:text-neutral-600">•</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">380 tokens</span>
        </div>
        <div class="rounded-lg p-3 bg-gray-50 border border-gray-200 dark:bg-neutral-700/50 dark:border-neutral-600">
          <p class="text-sm text-gray-900 dark:text-neutral-200">Common examples of C4
            plants include:

            1. Maize (Corn) - Zea mays
            2. Sugarcane - Saccharum officinarum
            3. Sorghum
            4. Pearl millet
            5. Amaranthus

            These plants are typically found in tropical and subtropical regions with high temperatures and
            intense sunlight. They're agriculturally important crops that can maintain high productivity
            even under stress conditions like drought and high temperature.</p>
        </div>
      </div>
    </div>

    <!-- Student Message 4 -->
    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-blue-100 dark:bg-blue-900/20">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-blue-600 dark:text-blue-400">
            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-blue-600 dark:text-blue-400">Student</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">9:30 AM</span>
        </div>
        <div class="rounded-lg p-3 bg-blue-50 border border-blue-100 dark:bg-blue-900/10 dark:border-blue-800">
          <p class="text-sm text-gray-900 dark:text-neutral-200">Why is photorespiration
            bad for plants?</p>
        </div>
      </div>
    </div>

    <!-- AI Message 4 -->
    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-neutral-700">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-gray-600 dark:text-neutral-400">
            <path d="M12 8V4H8"></path>
            <rect width="16" height="12" x="4" y="8" rx="2"></rect>
            <path d="M2 14h2"></path>
            <path d="M20 14h2"></path>
            <path d="M15 13v2"></path>
            <path d="M9 13v2"></path>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-gray-600 dark:text-neutral-400">AI Assistant</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">9:31 AM</span>
          <span class="text-xs text-gray-300 dark:text-neutral-600">•</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">450 tokens</span>
        </div>
        <div class="rounded-lg p-3 bg-gray-50 border border-gray-200 dark:bg-neutral-700/50 dark:border-neutral-600">
          <p class="text-sm text-gray-900 dark:text-neutral-200">Photorespiration is
            considered wasteful because:

            1. It consumes energy (ATP) without producing glucose
            2. It releases previously fixed CO2, reducing photosynthetic efficiency
            3. It doesn't produce ATP or NADPH
            4. It can reduce crop yield by up to 50% in some C3 plants
            5. It increases with temperature and low CO2 conditions

            Photorespiration occurs when RuBisCO enzyme binds with O2 instead of CO2. While it may have some
            protective roles, it's generally counterproductive for plant growth. C4 plants evolved
            mechanisms to minimize this process.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Conversation 2: Cell Division - Mitosis vs Meiosis -->
  <div class="space-y-4"
    x-show="$store.conversationComponent.selectedConversation && $store.conversationComponent.selectedConversation.id === 2">
    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-blue-100 dark:bg-blue-900/20">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-blue-600 dark:text-blue-400">
            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-blue-600 dark:text-blue-400">Student</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">8:30 PM</span>
        </div>
        <div class="rounded-lg p-3 bg-blue-50 border border-blue-100 dark:bg-blue-900/10 dark:border-blue-800">
          <p class="text-sm text-gray-900 dark:text-neutral-200">What are the best
            movies to watch this weekend?</p>
        </div>
      </div>
    </div>

    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-neutral-700">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-gray-600 dark:text-neutral-400">
            <path d="M12 8V4H8"></path>
            <rect width="16" height="12" x="4" y="8" rx="2"></rect>
            <path d="M2 14h2"></path>
            <path d="M20 14h2"></path>
            <path d="M15 13v2"></path>
            <path d="M9 13v2"></path>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-gray-600 dark:text-neutral-400">AI Assistant</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">8:31 PM</span>
          <span class="text-xs text-gray-300 dark:text-neutral-600">•</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">320 tokens</span>
        </div>
        <div class="rounded-lg p-3 bg-gray-50 border border-gray-200 dark:bg-neutral-700/50 dark:border-neutral-600">
          <p class="text-sm text-gray-900 dark:text-neutral-200">I notice this question
            is not related to your academic studies. I'm designed to help with educational content. Would
            you like to ask about biology, chemistry, physics, or any other academic subject instead?</p>
        </div>
      </div>
    </div>

    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-blue-100 dark:bg-blue-900/20">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-blue-600 dark:text-blue-400">
            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-blue-600 dark:text-blue-400">Student</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">8:32 PM</span>
        </div>
        <div class="rounded-lg p-3 bg-blue-50 border border-blue-100 dark:bg-blue-900/10 dark:border-blue-800">
          <p class="text-sm text-gray-900 dark:text-neutral-200">Just tell me about
            movies, I'm taking a break from studies.</p>
        </div>
      </div>
    </div>

    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-neutral-700">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-gray-600 dark:text-neutral-400">
            <path d="M12 8V4H8"></path>
            <rect width="16" height="12" x="4" y="8" rx="2"></rect>
            <path d="M2 14h2"></path>
            <path d="M20 14h2"></path>
            <path d="M15 13v2"></path>
            <path d="M9 13v2"></path>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-gray-600 dark:text-neutral-400">AI Assistant</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">8:33 PM</span>
          <span class="text-xs text-gray-300 dark:text-neutral-600">•</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">280 tokens</span>
        </div>
        <div class="rounded-lg p-3 bg-gray-50 border border-gray-200 dark:bg-neutral-700/50 dark:border-neutral-600">
          <p class="text-sm text-gray-900 dark:text-neutral-200">I understand you need a
            break, but I'm specifically designed to assist with academic learning. I can help you with study
            strategies, explain difficult concepts, or review material. Is there a particular subject you'd
            like help with?</p>
        </div>
      </div>
    </div>

    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-blue-100 dark:bg-blue-900/20">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-blue-600 dark:text-blue-400">
            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-blue-600 dark:text-blue-400">Student</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">8:35 PM</span>
        </div>
        <div class="rounded-lg p-3 bg-blue-50 border border-blue-100 dark:bg-blue-900/10 dark:border-blue-800">
          <p class="text-sm text-gray-900 dark:text-neutral-200">Come on, just recommend
            some good action movies. What's the harm?</p>
        </div>
      </div>
    </div>

    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-neutral-700">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-gray-600 dark:text-neutral-400">
            <path d="M12 8V4H8"></path>
            <rect width="16" height="12" x="4" y="8" rx="2"></rect>
            <path d="M2 14h2"></path>
            <path d="M20 14h2"></path>
            <path d="M15 13v2"></path>
            <path d="M9 13v2"></path>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-gray-600 dark:text-neutral-400">AI Assistant</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">8:36 PM</span>
          <span class="text-xs text-gray-300 dark:text-neutral-600">•</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">250 tokens</span>
        </div>
        <div class="rounded-lg p-3 bg-gray-50 border border-gray-200 dark:bg-neutral-700/50 dark:border-neutral-600">
          <p class="text-sm text-gray-900 dark:text-neutral-200">I'm designed
            exclusively for educational purposes. If you have questions about film studies, cinematography,
            or movie analysis as part of your curriculum, I'd be happy to help. Otherwise, I encourage you
            to return to your academic studies or use other resources for entertainment recommendations.</p>
        </div>
      </div>
    </div>

    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-blue-100 dark:bg-blue-900/20">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-blue-600 dark:text-blue-400">
            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-blue-600 dark:text-blue-400">Student</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">8:40 PM</span>
        </div>
        <div class="rounded-lg p-3 bg-blue-50 border border-blue-100 dark:bg-blue-900/10 dark:border-blue-800">
          <p class="text-sm text-gray-900 dark:text-neutral-200">Fine, what about video
            games then? Which games are trending right now?</p>
        </div>
      </div>
    </div>

    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-neutral-700">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-gray-600 dark:text-neutral-400">
            <path d="M12 8V4H8"></path>
            <rect width="16" height="12" x="4" y="8" rx="2"></rect>
            <path d="M2 14h2"></path>
            <path d="M20 14h2"></path>
            <path d="M15 13v2"></path>
            <path d="M9 13v2"></path>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-gray-600 dark:text-neutral-400">AI Assistant</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">8:41 PM</span>
          <span class="text-xs text-gray-300 dark:text-neutral-600">•</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">290 tokens</span>
        </div>
        <div class="rounded-lg p-3 bg-gray-50 border border-gray-200 dark:bg-neutral-700/50 dark:border-neutral-600">
          <p class="text-sm text-gray-900 dark:text-neutral-200">I'm unable to provide
            information about video games or entertainment trends as these are outside my educational scope.
            I'm here to support your learning. Would you like help with any academic subjects? I can assist
            with problem-solving, concept explanations, or study techniques.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Conversation 4: Human Digestive System Overview -->
  <div class="space-y-4"
    x-show="$store.conversationComponent.selectedConversation && $store.conversationComponent.selectedConversation.id === 4">
    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-blue-100 dark:bg-blue-900/20">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-blue-600 dark:text-blue-400">
            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-blue-600 dark:text-blue-400">Student</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">2:45 PM</span>
        </div>
        <div class="rounded-lg p-3 bg-blue-50 border border-blue-100 dark:bg-blue-900/10 dark:border-blue-800">
          <p class="text-sm text-gray-900 dark:text-neutral-200">Can you explain the key
            differences between mitosis and meiosis?</p>
        </div>
      </div>
    </div>

    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-neutral-700">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-gray-600 dark:text-neutral-400">
            <path d="M12 8V4H8"></path>
            <rect width="16" height="12" x="4" y="8" rx="2"></rect>
            <path d="M2 14h2"></path>
            <path d="M20 14h2"></path>
            <path d="M15 13v2"></path>
            <path d="M9 13v2"></path>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-gray-600 dark:text-neutral-400">AI Assistant</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">2:46 PM</span>
          <span class="text-xs text-gray-300 dark:text-neutral-600">•</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">520 tokens</span>
        </div>
        <div class="rounded-lg p-3 bg-gray-50 border border-gray-200 dark:bg-neutral-700/50 dark:border-neutral-600">
          <p class="text-sm text-gray-900 dark:text-neutral-200">Mitosis and meiosis are
            both cell division processes, but they serve different purposes:

            **Mitosis:**
            - Produces 2 identical diploid daughter cells
            - Used for growth, repair, and asexual reproduction
            - Single division process
            - Chromosome number remains the same (2n → 2n)
            - Results in genetically identical cells

            **Meiosis:**
            - Produces 4 genetically different haploid gametes
            - Used for sexual reproduction
            - Two divisions (Meiosis I and II)
            - Chromosome number is halved (2n → n)
            - Results in genetic diversity through crossing over and independent assortment

            The key difference is that mitosis maintains chromosome number while meiosis reduces it by half,
            and meiosis introduces genetic variation.</p>
        </div>
      </div>
    </div>

    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-blue-100 dark:bg-blue-900/20">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-blue-600 dark:text-blue-400">
            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-blue-600 dark:text-blue-400">Student</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">2:52 PM</span>
        </div>
        <div class="rounded-lg p-3 bg-blue-50 border border-blue-100 dark:bg-blue-900/10 dark:border-blue-800">
          <p class="text-sm text-gray-900 dark:text-neutral-200">What happens during
            prophase in both processes?</p>
        </div>
      </div>
    </div>

    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-neutral-700">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-gray-600 dark:text-neutral-400">
            <path d="M12 8V4H8"></path>
            <rect width="16" height="12" x="4" y="8" rx="2"></rect>
            <path d="M2 14h2"></path>
            <path d="M20 14h2"></path>
            <path d="M15 13v2"></path>
            <path d="M9 13v2"></path>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-gray-600 dark:text-neutral-400">AI Assistant</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">2:53 PM</span>
          <span class="text-xs text-gray-300 dark:text-neutral-600">•</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">480 tokens</span>
        </div>
        <div class="rounded-lg p-3 bg-gray-50 border border-gray-200 dark:bg-neutral-700/50 dark:border-neutral-600">
          <p class="text-sm text-gray-900 dark:text-neutral-200">**Prophase in
            Mitosis:**
            - Chromosomes condense and become visible
            - Nuclear envelope breaks down
            - Centrioles move to opposite poles
            - Spindle fibers begin to form
            - No crossing over occurs

            **Prophase I in Meiosis:**
            - Similar to mitosis, but with key differences
            - Chromosomes condense and pair up (synapsis)
            - Homologous chromosomes form tetrads
            - Crossing over occurs between non-sister chromatids
            - Chiasmata (points of crossing over) are visible
            - Nuclear envelope breaks down
            - This is the longest phase of meiosis

            The critical difference is that prophase I involves pairing of homologous chromosomes and
            genetic recombination through crossing over, which doesn't happen in mitotic prophase.</p>
        </div>
      </div>
    </div>

    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-blue-100 dark:bg-blue-900/20">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-blue-600 dark:text-blue-400">
            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-blue-600 dark:text-blue-400">Student</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">3:05 PM</span>
        </div>
        <div class="rounded-lg p-3 bg-blue-50 border border-blue-100 dark:bg-blue-900/10 dark:border-blue-800">
          <p class="text-sm text-gray-900 dark:text-neutral-200">Why is crossing over
            important in meiosis?</p>
        </div>
      </div>
    </div>

    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-neutral-700">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-gray-600 dark:text-neutral-400">
            <path d="M12 8V4H8"></path>
            <rect width="16" height="12" x="4" y="8" rx="2"></rect>
            <path d="M2 14h2"></path>
            <path d="M20 14h2"></path>
            <path d="M15 13v2"></path>
            <path d="M9 13v2"></path>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-gray-600 dark:text-neutral-400">AI Assistant</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">3:06 PM</span>
          <span class="text-xs text-gray-300 dark:text-neutral-600">•</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">410 tokens</span>
        </div>
        <div class="rounded-lg p-3 bg-gray-50 border border-gray-200 dark:bg-neutral-700/50 dark:border-neutral-600">
          <p class="text-sm text-gray-900 dark:text-neutral-200">Crossing over is
            crucial in meiosis for several reasons:

            1. **Genetic Diversity**: It creates new combinations of alleles on chromosomes, ensuring
            offspring are genetically unique
            2. **Evolutionary Advantage**: Increases variation in populations, allowing for better
            adaptation to changing environments
            3. **Independent Assortment**: Works together with independent assortment to maximize genetic
            variation
            4. **Recombination**: Breaks up linked genes, allowing beneficial traits to be separated from
            harmful ones

            Without crossing over, genetic variation would be limited, and species would have less ability
            to adapt to environmental changes. This is why sexual reproduction (which involves meiosis) is
            evolutionarily advantageous.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Conversation 4: Human Digestive System Overview -->
  <div class="space-y-4"
    x-show="$store.conversationComponent.selectedConversation && $store.conversationComponent.selectedConversation.id === 4">
    <!-- Student Message -->
    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-blue-100 dark:bg-blue-900/20">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-blue-600 dark:text-blue-400">
            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
            <circle cx="12" cy="7" r="4"></circle>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-blue-600 dark:text-blue-400">Student</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">10:20 AM</span>
        </div>
        <div class="rounded-lg p-3 bg-blue-50 border border-blue-100 dark:bg-blue-900/10 dark:border-blue-800">
          <p class="text-sm text-gray-900 dark:text-neutral-200">Can you explain the human digestive system and the role
            of digestive enzymes?</p>
        </div>
      </div>
    </div>

    <!-- AI Message -->
    <div class="flex gap-3">
      <div class="flex-shrink-0">
        <div class="w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-neutral-700">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="w-4 h-4 text-gray-600 dark:text-neutral-400">
            <path d="M12 8V4H8"></path>
            <rect width="16" height="12" x="4" y="8" rx="2"></rect>
            <path d="M2 14h2"></path>
            <path d="M20 14h2"></path>
            <path d="M15 13v2"></path>
            <path d="M9 13v2"></path>
          </svg>
        </div>
      </div>
      <div class="flex-1 min-w-0">
        <div class="flex items-center gap-2 mb-1">
          <span class="text-xs font-medium text-gray-600 dark:text-neutral-400">AI Assistant</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">10:21 AM</span>
          <span class="text-xs text-gray-300 dark:text-neutral-600">•</span>
          <span class="text-xs text-gray-400 dark:text-neutral-500">680 tokens</span>
        </div>
        <div class="rounded-lg p-3 bg-gray-50 border border-gray-200 dark:bg-neutral-700/50 dark:border-neutral-600">
          <p class="text-sm text-gray-900 dark:text-neutral-200">The human digestive system is a complex network of
            organs that breaks down food into nutrients. Key components include:

            **Organs:**
            - Mouth: Mechanical and chemical digestion begins
            - Esophagus: Transports food to stomach
            - Stomach: Churns food and secretes gastric acid
            - Small intestine: Main site of nutrient absorption
            - Large intestine: Absorbs water and forms feces
            - Liver: Produces bile for fat digestion
            - Pancreas: Secretes digestive enzymes

            **Digestive Enzymes:**
            - Amylase: Breaks down carbohydrates (saliva, pancreas)
            - Pepsin: Breaks down proteins (stomach)
            - Lipase: Breaks down fats (pancreas, small intestine)
            - Trypsin: Breaks down proteins (pancreas)
            - Lactase: Breaks down lactose (small intestine)

            These enzymes are essential for converting complex molecules into simpler forms that can be absorbed by the
            body.</p>
        </div>
      </div>
    </div>
  </div>
</div>
          </div>
          <!-- Non-Academic Conversation Messages -->
          <div x-show="$store.conversationComponent.selectedConversation?.usageType === 'non-academic'">
            <!-- Non-Academic Conversation Messages -->
<div class="space-y-4">
  <!-- Student Message -->
  <div class="flex gap-3">
    <div class="flex-shrink-0">
      <div class="w-8 h-8 rounded-full flex items-center justify-center bg-blue-100 dark:bg-blue-900/20">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
          class="w-4 h-4 text-blue-600 dark:text-blue-400">
          <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
          <circle cx="12" cy="7" r="4"></circle>
        </svg>
      </div>
    </div>
    <div class="flex-1 min-w-0">
      <div class="flex items-center gap-2 mb-1">
        <span class="text-xs font-medium text-blue-600 dark:text-blue-400">Student</span>
        <span class="text-xs text-gray-400 dark:text-neutral-500">8:30 PM</span>
      </div>
      <div class="rounded-lg p-3 bg-blue-50 border border-blue-100 dark:bg-blue-900/10 dark:border-blue-800">
        <p class="text-sm text-gray-900 dark:text-neutral-200">What are the best movies to watch this weekend?</p>
      </div>
    </div>
  </div>

  <!-- AI Message -->
  <div class="flex gap-3">
    <div class="flex-shrink-0">
      <div class="w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-neutral-700">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
          class="w-4 h-4 text-gray-600 dark:text-neutral-400">
          <path d="M12 8V4H8"></path>
          <rect width="16" height="12" x="4" y="8" rx="2"></rect>
          <path d="M2 14h2"></path>
          <path d="M20 14h2"></path>
          <path d="M15 13v2"></path>
          <path d="M9 13v2"></path>
        </svg>
      </div>
    </div>
    <div class="flex-1 min-w-0">
      <div class="flex items-center gap-2 mb-1">
        <span class="text-xs font-medium text-gray-600 dark:text-neutral-400">AI Assistant</span>
        <span class="text-xs text-gray-400 dark:text-neutral-500">8:31 PM</span>
        <span class="text-xs text-gray-300 dark:text-neutral-600">•</span>
        <span class="text-xs text-gray-400 dark:text-neutral-500">320 tokens</span>
      </div>
      <div class="rounded-lg p-3 bg-gray-50 border border-gray-200 dark:bg-neutral-700/50 dark:border-neutral-600">
        <p class="text-sm text-gray-900 dark:text-neutral-200">I notice this question is not related to your academic
          studies. I'm designed to help with educational content. Would you like to ask about biology, chemistry,
          physics, or any other academic subject instead?</p>
      </div>
    </div>
  </div>

  <!-- Student Message 2 -->
  <div class="flex gap-3">
    <div class="flex-shrink-0">
      <div class="w-8 h-8 rounded-full flex items-center justify-center bg-blue-100 dark:bg-blue-900/20">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
          class="w-4 h-4 text-blue-600 dark:text-blue-400">
          <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
          <circle cx="12" cy="7" r="4"></circle>
        </svg>
      </div>
    </div>
    <div class="flex-1 min-w-0">
      <div class="flex items-center gap-2 mb-1">
        <span class="text-xs font-medium text-blue-600 dark:text-blue-400">Student</span>
        <span class="text-xs text-gray-400 dark:text-neutral-500">8:32 PM</span>
      </div>
      <div class="rounded-lg p-3 bg-blue-50 border border-blue-100 dark:bg-blue-900/10 dark:border-blue-800">
        <p class="text-sm text-gray-900 dark:text-neutral-200">Just tell me about movies, I'm taking a break from
          studies.</p>
      </div>
    </div>
  </div>

  <!-- AI Message 2 -->
  <div class="flex gap-3">
    <div class="flex-shrink-0">
      <div class="w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-neutral-700">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
          class="w-4 h-4 text-gray-600 dark:text-neutral-400">
          <path d="M12 8V4H8"></path>
          <rect width="16" height="12" x="4" y="8" rx="2"></rect>
          <path d="M2 14h2"></path>
          <path d="M20 14h2"></path>
          <path d="M15 13v2"></path>
          <path d="M9 13v2"></path>
        </svg>
      </div>
    </div>
    <div class="flex-1 min-w-0">
      <div class="flex items-center gap-2 mb-1">
        <span class="text-xs font-medium text-gray-600 dark:text-neutral-400">AI Assistant</span>
        <span class="text-xs text-gray-400 dark:text-neutral-500">8:33 PM</span>
        <span class="text-xs text-gray-300 dark:text-neutral-600">•</span>
        <span class="text-xs text-gray-400 dark:text-neutral-500">280 tokens</span>
      </div>
      <div class="rounded-lg p-3 bg-gray-50 border border-gray-200 dark:bg-neutral-700/50 dark:border-neutral-600">
        <p class="text-sm text-gray-900 dark:text-neutral-200">I understand you need a break, but I'm specifically
          designed to assist with academic learning. I can help you with study strategies, explain difficult concepts,
          or review material. Is there a particular subject you'd like help with?</p>
      </div>
    </div>
  </div>

  <!-- Student Message 3 -->
  <div class="flex gap-3">
    <div class="flex-shrink-0">
      <div class="w-8 h-8 rounded-full flex items-center justify-center bg-blue-100 dark:bg-blue-900/20">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
          class="w-4 h-4 text-blue-600 dark:text-blue-400">
          <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
          <circle cx="12" cy="7" r="4"></circle>
        </svg>
      </div>
    </div>
    <div class="flex-1 min-w-0">
      <div class="flex items-center gap-2 mb-1">
        <span class="text-xs font-medium text-blue-600 dark:text-blue-400">Student</span>
        <span class="text-xs text-gray-400 dark:text-neutral-500">8:35 PM</span>
      </div>
      <div class="rounded-lg p-3 bg-blue-50 border border-blue-100 dark:bg-blue-900/10 dark:border-blue-800">
        <p class="text-sm text-gray-900 dark:text-neutral-200">Come on, just recommend some good action movies. What's
          the harm?</p>
      </div>
    </div>
  </div>

  <!-- AI Message 3 -->
  <div class="flex gap-3">
    <div class="flex-shrink-0">
      <div class="w-8 h-8 rounded-full flex items-center justify-center bg-gray-100 dark:bg-neutral-700">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
          class="w-4 h-4 text-gray-600 dark:text-neutral-400">
          <path d="M12 8V4H8"></path>
          <rect width="16" height="12" x="4" y="8" rx="2"></rect>
          <path d="M2 14h2"></path>
          <path d="M20 14h2"></path>
          <path d="M15 13v2"></path>
          <path d="M9 13v2"></path>
        </svg>
      </div>
    </div>
    <div class="flex-1 min-w-0">
      <div class="flex items-center gap-2 mb-1">
        <span class="text-xs font-medium text-gray-600 dark:text-neutral-400">AI Assistant</span>
        <span class="text-xs text-gray-400 dark:text-neutral-500">8:36 PM</span>
        <span class="text-xs text-gray-300 dark:text-neutral-600">•</span>
        <span class="text-xs text-gray-400 dark:text-neutral-500">250 tokens</span>
      </div>
      <div class="rounded-lg p-3 bg-gray-50 border border-gray-200 dark:bg-neutral-700/50 dark:border-neutral-600">
        <p class="text-sm text-gray-900 dark:text-neutral-200">I'm designed exclusively for educational purposes. If you
          have questions about film studies, cinematography, or movie analysis as part of your curriculum, I'd be happy
          to help. Otherwise, I encourage you to return to your academic studies or use other resources for
          entertainment recommendations.</p>
      </div>
    </div>
  </div>
</div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- End Body -->
</div>
</div>
</div>
    </div>

    <!-- Prompts Tab Content -->
    <div x-show="tab === 'prompts'" x-transition>
      <!-- Prompts content will go here -->
    </div>
  </div>
</div>