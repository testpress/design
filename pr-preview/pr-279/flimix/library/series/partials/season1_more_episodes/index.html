
<div x-cloak x-show="showMoreEpisodes" class="p-1 bg-white border border-gray-200 rounded-2xl dark:bg-neutral-900 dark:border-neutral-700">
  <div class="relative w-full">
    <img class="bg-gray-100 w-full object-cover rounded-xl dark:bg-neutral-800" src="https://m.media-amazon.com/images/S/pv-target-images/43bf2676cc731b23ddcf0e666d95bd2e928ccfaabf20d412b6aeb2dc5989b1de._BR-6_AC_SX720_FMjpg_.jpg" alt="Store Image">
    <div class="absolute top-2 right-2 flex items-center bg-black bg-opacity-75 rounded-full p-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="h-4 w-4 text-white">
            <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z" />
            <path fill-rule="evenodd" d="M1.38 8.28a.87.87 0 0 1 0-.566 7.003 7.003 0 0 1 13.238.006.87.87 0 0 1 0 .566A7.003 7.003 0 0 1 1.379 8.28ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" clip-rule="evenodd" />
        </svg>
        <span class="ml-1 text-white text-xs">1k</span>
    </div>
</div>      
  <div class="p-4 space-y-3">
    <div class="flex space-x-2">
      <h2 class="font-medium text-sm text-gray-800 dark:text-neutral-200">
        S1 E5 - Wildfire
      </h2>
      <div x-data="{
        popoverOpen: false,
        popoverArrow: true,
        popoverPosition: 'bottom',
        popoverHeight: 0,
        popoverOffset: 8,
        popoverHeightCalculate() {
            this.$refs.popover5.classList.add('invisible'); 
            this.popoverOpen=true; 
            let that=this;
            $nextTick(function(){ 
                that.popoverHeight = that.$refs.popover5.offsetHeight;
                that.popoverOpen=false; 
                that.$refs.popover5.classList.remove('invisible');
                that.$refs.popoverInner5.setAttribute('x-transition', '');
                that.popoverPositionCalculate();
            });
        },
        popoverPositionCalculate(){
            if(window.innerHeight < (this.$refs.popoverButton5.getBoundingClientRect().top + this.$refs.popoverButton5.offsetHeight + this.popoverOffset + this.popoverHeight)){
                this.popoverPosition = 'top';
            } else {
                this.popoverPosition = 'bottom';
            }
        }
    }"
    x-init="
        that = this;
        window.addEventListener('resize', function(){
            popoverPositionCalculate();
        });
        $watch('popoverOpen', function(value){
            if(value){ popoverPositionCalculate(); }
        });
    "
    class="relative">
    
    <button x-ref="popoverButton5" @click="popoverOpen=!popoverOpen"  @mouseover="popoverOpen = true"  @mouseleave="popoverOpen = false">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-5 text-gray-400 hover:cursor-pointer">
        <path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z" />
      </svg>
    </button>


    <div x-ref="popover5"
        x-show="popoverOpen"
        x-init="setTimeout(function(){ popoverHeightCalculate(); }, 100);"
        x-trap.inert="popoverOpen"
        @click.away="popoverOpen=false;"
        @keydown.escape.window="popoverOpen=false"
        :class="{ 'top-0 mt-10' : popoverPosition == 'bottom', 'bottom-0 mb-10' : popoverPosition == 'top' }"
        class="z-50 absolute w-[300px] max-w-lg -translate-x-1/2 left-1/2" x-cloak>
        <div x-ref="popoverInner5" x-show="popoverOpen" class="w-full p-4 bg-white border rounded-md shadow-sm border-neutral-200/70">
            <div x-show="popoverArrow && popoverPosition == 'bottom'" class="absolute top-0 inline-block w-5 mt-px overflow-hidden -translate-x-2 -translate-y-2.5 left-1/2"><div class="w-2.5 h-2.5 origin-bottom-left transform rotate-45 bg-white border-t border-l rounded-sm"></div></div>
            <div x-show="popoverArrow  && popoverPosition == 'top'" class="absolute bottom-0 inline-block w-5 mb-px overflow-hidden -translate-x-2 translate-y-2.5 left-1/2"><div class="w-2.5 h-2.5 origin-top-left transform -rotate-45 bg-white border-b border-l rounded-sm"></div></div>
            <div class="grid gap-4">
              <span class="text-gray-500 text-sm">Rick leads the group to the CDC after the attack. Jim must make a terrible life and death decision.
              </span>
            </div>
        </div>
    </div>
   </div>
    </div>
  
    <div>
      <ul class="mt-1">
        <div class="text-sm">
          <span class="font-medium text-gray-500 hover:cursor-pointer">46 min</span>
          <span class="font-medium text-gray-500">·</span>
          <span class="font-medium text-gray-500 hover:cursor-pointer">2010</span>
          <span class="font-medium text-gray-500">·</span>
          <!-- space -->
          <span class="font-medium text-gray-500 hover:cursor-pointer"> IMDb 7.8</span>
        </div>
      </ul>
    </div>

    <div>
      <ul class="mt-1">
        <div class="text-sm">
          
        </div>
      </ul>
    </div>

    <button type="button" class="inline-flex items-center gap-x-1 text-sm text-gray-800 underline underline-offset-4 hover:text-indigo-600 focus:outline-none focus:text-indigo-600 dark:text-neutral-200 dark:hover:text-indigo-400 dark:focus:text-indigo-400">
      View Details
      <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"></path></svg>
    </button>
  </div>
</div>

<div x-cloak x-show="showMoreEpisodes" class="p-1 bg-white border border-gray-200 rounded-2xl dark:bg-neutral-900 dark:border-neutral-700">
  <div class="relative w-full">
    <img class="bg-gray-100 w-full object-cover rounded-xl dark:bg-neutral-800" src="https://m.media-amazon.com/images/S/pv-target-images/16c1f3bb24ff0a61935ba47d62dee63980eb3e94f3fc0ac15a41131794195af5._BR-6_AC_SX720_FMjpg_.jpg" alt="Store Image">
    <div class="absolute top-2 right-2 flex items-center bg-black bg-opacity-75 rounded-full p-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="h-4 w-4 text-white">
            <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z" />
            <path fill-rule="evenodd" d="M1.38 8.28a.87.87 0 0 1 0-.566 7.003 7.003 0 0 1 13.238.006.87.87 0 0 1 0 .566A7.003 7.003 0 0 1 1.379 8.28ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" clip-rule="evenodd" />
        </svg>
        <span class="ml-1 text-white text-xs">7k</span>
    </div>
</div>      
  <div class="p-4 space-y-3">
    <div class="flex space-x-2">
      <h2 class="font-medium text-sm text-gray-800 dark:text-neutral-200">
        S1 E6 - TS-19
      </h2>
      <div x-data="{
        popoverOpen: false,
        popoverArrow: true,
        popoverPosition: 'bottom',
        popoverHeight: 0,
        popoverOffset: 8,
        popoverHeightCalculate() {
            this.$refs.popover6.classList.add('invisible'); 
            this.popoverOpen=true; 
            let that=this;
            $nextTick(function(){ 
                that.popoverHeight = that.$refs.popover6.offsetHeight;
                that.popoverOpen=false; 
                that.$refs.popover6.classList.remove('invisible');
                that.$refs.popoverInner6.setAttribute('x-transition', '');
                that.popoverPositionCalculate();
            });
        },
        popoverPositionCalculate(){
            if(window.innerHeight < (this.$refs.popoverButton6.getBoundingClientRect().top + this.$refs.popoverButton6.offsetHeight + this.popoverOffset + this.popoverHeight)){
                this.popoverPosition = 'top';
            } else {
                this.popoverPosition = 'bottom';
            }
        }
    }"
    x-init="
        that = this;
        window.addEventListener('resize', function(){
            popoverPositionCalculate();
        });
        $watch('popoverOpen', function(value){
            if(value){ popoverPositionCalculate(); }
        });
    "
    class="relative">
    
    <button x-ref="popoverButton6" @click="popoverOpen=!popoverOpen"  @mouseover="popoverOpen = true"  @mouseleave="popoverOpen = false">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-5 text-gray-400 hover:cursor-pointer">
        <path stroke-linecap="round" stroke-linejoin="round" d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z" />
      </svg>
    </button>


    <div x-ref="popover6"
        x-show="popoverOpen"
        x-init="setTimeout(function(){ popoverHeightCalculate(); }, 100);"
        x-trap.inert="popoverOpen"
        @click.away="popoverOpen=false;"
        @keydown.escape.window="popoverOpen=false"
        :class="{ 'top-0 mt-10' : popoverPosition == 'bottom', 'bottom-0 mb-10' : popoverPosition == 'top' }"
        class="z-50 absolute w-[300px] max-w-lg -translate-x-1/2 left-1/2" x-cloak>
        <div x-ref="popoverInner6" x-show="popoverOpen" class="w-full p-4 bg-white border rounded-md shadow-sm border-neutral-200/70">
            <div x-show="popoverArrow && popoverPosition == 'bottom'" class="absolute top-0 inline-block w-5 mt-px overflow-hidden -translate-x-2 -translate-y-2.5 left-1/2"><div class="w-2.5 h-2.5 origin-bottom-left transform rotate-45 bg-white border-t border-l rounded-sm"></div></div>
            <div x-show="popoverArrow  && popoverPosition == 'top'" class="absolute bottom-0 inline-block w-5 mb-px overflow-hidden -translate-x-2 translate-y-2.5 left-1/2"><div class="w-2.5 h-2.5 origin-top-left transform -rotate-45 bg-white border-b border-l rounded-sm"></div></div>
            <div class="grid gap-4">
              <span class="text-gray-500 text-sm">Season 1 finale. Rick and the group are allowed into the CDC by a strange doctor. But all is not what it seems in their newfound haven.
              </span>
            </div>
        </div>
    </div>
   </div>
    </div>
  
    <div>
      <ul class="mt-1">
        <div class="text-sm">
          <span class="font-medium text-gray-500 hover:cursor-pointer">46min</span>
          <span class="font-medium text-gray-500">·</span>
          <span class="font-medium text-gray-500 hover:cursor-pointer">2010</span>
          <span class="font-medium text-gray-500">·</span>
          <!-- space -->
          <span class="font-medium text-gray-500 hover:cursor-pointer"> IMDb 9.0</span>
        </div>
      </ul>
    </div>

    <div>
      <ul class="mt-1">
        <div class="text-sm">
          
        </div>
      </ul>
    </div>

    <button type="button" class="inline-flex items-center gap-x-1 text-sm text-gray-800 underline underline-offset-4 hover:text-indigo-600 focus:outline-none focus:text-indigo-600 dark:text-neutral-200 dark:hover:text-indigo-400 dark:focus:text-indigo-400">
      View Details
      <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"></path></svg>
    </button>
  </div>
</div>
