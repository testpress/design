
<ul
  id="hs-basic-sortable"
  class="max-w-full mx-auto flex flex-col mt-4"
  x-show="rows.length > 0"
  x-cloak
>
  <template x-for="(row, index) in rows" :key="row.id">
    <li
      class="inline-flex justify-between items-center gap-x-3 py-3 px-4 text-sm font-medium bg-white text-gray-800 cursor-grab hover:bg-gray-100 rounded-md"
    >
      <!-- Left: Drag handle + Question -->
      <div class="flex items-center gap-x-3 flex-1 min-w-0">
        <svg class="shrink-0 size-4 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <circle cx="9" cy="12" r="1"></circle>
          <circle cx="9" cy="5" r="1"></circle>
          <circle cx="9" cy="19" r="1"></circle>
          <circle cx="15" cy="12" r="1"></circle>
          <circle cx="15" cy="5" r="1"></circle>
          <circle cx="15" cy="19" r="1"></circle>
        </svg>
        <span x-text="row.question" class="truncate"></span>
      </div>

      <!-- Center: Question Type + Required -->
      <div class="grid grid-cols-2 items-center gap-x-2">
        <!-- Question Type Icons -->
        <template x-if="row.questionType === 'rating'">
          <div class="flex items-center" title="Rating type">
            <svg class="size-4" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <polygon points="12 2 15 8.5 22 9 17 14 18.5 21 12 17.5 5.5 21 7 14 2 9 9 8.5 12 2" />
            </svg>
          </div>
        </template>

        <template x-if="row.questionType === 'text'">
          <div class="flex items-center" title="Text feedback type">
            <svg xmlns="http://www.w3.org/2000/svg" class="size-4" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" viewBox="0 0 24 24">
              <path d="M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4"/>
              <path d="M2 6h4"/>
              <path d="M2 10h4"/>
              <path d="M2 14h4"/>
              <path d="M2 18h4"/>
              <path d="M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z"/>
            </svg>
          </div>
        </template>

        <!-- Required Icon -->
        <template x-if="row.isRequired">
          <svg title="Required" class="size-4 text-green-600" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path d="M5 13l4 4L19 7" />
          </svg>
        </template>
      </div>

      <!-- Right: Edit + Delete -->
      <div class="flex items-center justify-end gap-x-2 w-1/6 cursor-pointer">
        <svg 
          @click="openEdit(row)"
          title="Edit" 
          class="size-4 cursor-pointer" 
          xmlns="http://www.w3.org/2000/svg" 
          fill="none" 
          stroke="currentColor" 
          stroke-width="2" 
          viewBox="0 0 24 24"
        >
          <path d="M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" />
          <path d="M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"/>
        </svg>


        <svg @click="rows = rows.filter(r => r.id !== row.id)" title="Delete" class="size-4 text-red-600 cursor-pointer" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path d="M10 11v6" />
          <path d="M14 11v6" />
          <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6" />
          <path d="M3 6h18" />
          <path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" />
        </svg>
      </div>
    </li>
  </template>
</ul>
