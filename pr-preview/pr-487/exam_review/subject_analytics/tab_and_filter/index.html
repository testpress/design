<div class="flex flex-wrap gap-2 justify-between" x-cloak x-show="!loading">
  <div class="flex gap-2" x-cloak x-show="hasNestedSubjects()">
    <label @click="showAllsubjects = false; applyFilter(),parentStack=[]" :class="[
        'py-2 px-2.5 relative flex justify-center items-center text-center text-[13px] border ring-1 ring-transparent cursor-pointer rounded-xl hover:border-emerald-600 hover:ring-emerald-600',
        showAllsubjects === false ? 'bg-emerald-100 border-emerald-200 ring-emerald-200 text-emerald-800' : 'bg-white border-gray-200 text-gray-800'
      ]" class="py-2 px-2.5 relative flex justify-center items-center text-center text-[13px] border ring-1 ring-transparent cursor-pointer rounded-xl hover:border-emerald-600 hover:ring-emerald-600 bg-emerald-100 border-emerald-200 ring-emerald-200 text-emerald-800">
      <span class="block">Subject performance</span>
    </label>
    <label @click="showAllsubjects = true; applyFilter(),parentStack=[]" :class="[
    'py-2 px-2.5 relative flex justify-center items-center text-center text-[13px] border ring-1 ring-transparent cursor-pointer rounded-xl hover:border-emerald-600 hover:ring-emerald-600',
    showAllsubjects === true ? 'bg-emerald-100 border-emerald-200 ring-emerald-200 text-emerald-800' : 'bg-white border-gray-200 text-gray-800'
  ]" class="py-2 px-2.5 relative flex justify-center items-center text-center text-[13px] border ring-1 ring-transparent cursor-pointer rounded-xl hover:border-emerald-600 hover:ring-emerald-600 bg-emerald-100 border-emerald-200 ring-emerald-200 text-emerald-800">
  <span class="block">Topic performance</span>
</label>
</div>
<div x-cloak x-show="!loading" class="hs-dropdown [--placement:bottom-right] relative flex justify-end items-center gap-x-2">
  <button id="hs-dropdown-default"  type="button"
    class="hs-dropdown-toggle  py-2 px-2.5 inline-flex items-center gap-x-1.5 text-xs font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:bg-gray-100 dark:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-300 dark:hover:bg-neutral-700 dark:focus:bg-neutral-700"
    aria-haspopup="menu" aria-expanded="false" aria-label="Dropdown">
    <span x-text="filter"></span>
    <svg class="hs-dropdown-open:rotate-180 shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m6 9 6 6 6-6"/></svg>
  </button>
  <div class="hs-dropdown-menu transition-[opacity,margin] duration-[0.1ms] lg:duration-[150ms] hs-dropdown-open:opacity-100 opacity-0 relative w-auto border border-gray-200 z-10 top-full bg-white lg:rounded-lg lg:shadow-xl shadow-gray-200 ps-7 lg:ps-0 before:absolute before:-top-4 before:start-0 before:w-full before:h-5 lg:after:hidden after:absolute after:top-1 after:start-[18px] after:w-0.5 after:h-[calc(100%-0.25rem)] after:bg-gray-100 dark:bg-neutral-800 dark:shadow-neutral-900 dark:after:bg-neutral-700 hidden" role="menu" aria-orientation="vertical" aria-labelledby="hs-dropdown-default">
    <div class="p-1 space-y-0.5">
      <button   @click="filter = 'All'; applyFilter()" class="group py-2 px-3 w-full flex items-center gap-x-3 text-sm text-gray-800 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 rounded-lg dark:text-neutral-200 dark:hover:bg-neutral-700 dark:focus:bg-neutral-700" href="#">
        All
      </button>
      <button 
      @click="filter = 'Strong'; applyFilter()" class="group py-2 px-3 w-full flex items-center gap-x-3 text-sm text-gray-800 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 rounded-lg dark:text-neutral-200 dark:hover:bg-neutral-700 dark:focus:bg-neutral-700" href="#">
        Strong
      </button>
      <button 
      @click="filter = 'Improving'; applyFilter()" class="group py-2 px-3 w-full flex items-center gap-x-3 text-sm text-gray-800 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 rounded-lg dark:text-neutral-200 dark:hover:bg-neutral-700 dark:focus:bg-neutral-700" href="#">
        Improving
      </button>
      <button 
      @click="filter = 'Weak'; applyFilter()" class="group py-2 px-3 w-full flex items-center gap-x-3 text-sm text-gray-800 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 rounded-lg dark:text-neutral-200 dark:hover:bg-neutral-700 dark:focus:bg-neutral-700" href="#">
        Weak
      </button>
    </div>
  </div>
</div>
</div>
