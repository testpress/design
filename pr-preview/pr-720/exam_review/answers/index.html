<!doctype html>
<html class=" ">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="generator" content="Eleventy v3.0.0">
  <title></title>
  <link rel="stylesheet" href="/pr-preview/pr-720/css/tailwind.css" />
  
  <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
  <script>
    sans = [
        'ui-sans-serif',
        'system-ui',
        '-apple-system',
        'BlinkMacSystemFont',
        '"Segoe UI"',
        'Roboto',
        '"Helvetica Neue"',
        'Arial',
        '"Noto Sans"',
        'sans-serif',
        '"Apple Color Emoji"',
        '"Segoe UI Emoji"',
        '"Segoe UI Symbol"',
        '"Noto Color Emoji"',
    ]
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter var', ...sans],
          },
        }
      }
    }
  </script>
   

  <script defer src="https://unpkg.com/alpinejs@3.4.2/dist/cdn.min.js"></script>
  <script src="/node_modules/preline/dist/preline.js"></script>

   <style>
    [x-cloak] {
      display: none !important;
    }
  </style>
</head>

 
  <body class="antialiased h-full  ">
    <div class="min-h-full">
      
<div class="h-screen flex flex-col" x-data="examReviewComponent()" x-init="init()">
<header class=" sticky top-0 flex flex-wrap  md:justify-start md:flex-nowrap z-50 w-full bg-white border-b border-gray-200">
  <div class="relative w-full mx-auto flex items-center justify-between gap-3 py-2 px-4 sm:px-6">

    <div>
      <h2 class="inline-block font-semibold text-stone-800 dark:text-neutral-200" x-text="exam.name">
        Customer
      </h2>
    </div>

    <div class="md:order-3 flex justify-end items-center gap-x-2 md:hidden">
      <div class="hs-dropdown [--auto-close:inside] [--placement:bottom-right] relative inline-flex">
  <button id="hs-pro-dptfd" type="button" class="hs-tooltip-toggle relative size-9.5 inline-flex justify-center items-center gap-x-2 rounded-full border border-transparent text-gray-500 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none focus:outline-hidden focus:bg-gray-100 dark:text-neutral-400 dark:hover:bg-neutral-700 dark:focus:bg-neutral-700" aria-haspopup="menu" aria-expanded="false" aria-label="Dropdown">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4 shrink-0">
      <path fill-rule="evenodd" d="M3.792 2.938A49.069 49.069 0 0 1 12 2.25c2.797 0 5.54.236 8.209.688a1.857 1.857 0 0 1 1.541 1.836v1.044a3 3 0 0 1-.879 2.121l-6.182 6.182a1.5 1.5 0 0 0-.439 1.061v2.927a3 3 0 0 1-1.658 2.684l-1.757.878A.75.75 0 0 1 9.75 21v-5.818a1.5 1.5 0 0 0-.44-1.06L3.13 7.938a3 3 0 0 1-.879-2.121V4.774c0-.897.64-1.683 1.542-1.836Z" clip-rule="evenodd" />
    </svg>
    <span class="flex absolute top-0 end-0 z-10 -mt-1.5 -me-1.5">
    
      <span x-cloak x-show="filter !='all'" class="relative min-w-4.5 min-h-4.5 inline-flex justify-center items-center text-[10px] bg-gray-500 text-white rounded-full px-1">
        1
      </span>
    </span>
  </button>
  <!-- End Notifications Button Icon -->

  <!-- Notifications Dropdown -->
  <div class="hs-dropdown-menu hs-dropdown-open:opacity-100 w-56 transition-[opacity,margin] duration opacity-0 hidden z-10 bg-white border border-gray-200  sm:rounded-lg shadow-md sm:shadow-xl dark:bg-neutral-900 dark:border-neutral-700" role="menu" aria-orientation="vertical" aria-labelledby="hs-pro-dnnd">
    <!-- Header -->


    <!-- Tab Content -->
    <div id="hs-pro-filter" role="tabpanel" aria-labelledby="hs-pro-tabs-dnn-item-all">
    <div class="p-4 space-y-5">
      <div>
        <label for="hs-pro-dalpn" class="block mb-2 text-sm font-medium text-gray-800 dark:text-white">
          Filter by response
        </label>

        <div class="relative">
          <select id="fontSelector" x-model="selected_filter" data-hs-select='{
            "placeholder": "Select font",
            "toggleTag": "<button type=\"button\" aria-expanded=\"false\"><div data-icon></div></button>",
            "toggleClasses": "hs-select-disabled:pointer-events-none hs-select-disabled:opacity-50 relative py-2 px-3 pe-7 flex items-center gap-x-2 text-nowrap w-full cursor-pointer bg-white border border-gray-200 rounded-lg text-start text-sm text-gray-800 hover:border-gray-300 focus:outline-hidden focus:border-gray-300 dark:bg-neutral-900 dark:border-neutral-800 dark:text-neutral-200 dark:hover:border-neutral-700 dark:focus:border-neutral-700",
            "dropdownClasses": "end-0 w-full min-w-45 max-h-72 p-1 space-y-0.5 z-50 w-full overflow-hidden overflow-y-auto bg-white rounded-xl shadow-xl [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 dark:[&::-webkit-scrollbar-track]:bg-neutral-700 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500 dark:bg-neutral-900",
            "optionClasses": "hs-selected:bg-gray-100 dark:hs-selected:bg-neutral-800 py-2 px-4 w-full text-sm text-gray-800 cursor-pointer hover:bg-gray-100 rounded-lg focus:outline-hidden focus:bg-gray-100 dark:text-neutral-300 dark:hover:bg-neutral-800 dark:focus:bg-neutral-800",
            "optionTemplate": "<div><div class=\"flex items-center gap-x-2\"><div data-icon></div><div class=\"text-gray-800 dark:text-neutral-200 \" data-title></div><span class=\"hidden hs-selected:block ms-auto\"><svg class=\"shrink-0 size-3.5 text-gray-800 dark:text-neutral-200 \" xmlns=\"http:.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><polyline points=\"20 6 9 17 4 12\"/></svg></span></div></div>"
          }' class="hidden">
          <option value="all">All</option>
          <option value="correct">Correct</option>
          <option value="incorrect">Incorrect</option>
          <option value="unanswered">Unanswered</option>
          <option value="pending_evaluation">Pending Evaluation</option>
          </select>

          <div class="absolute top-1/2 end-2.5 -translate-y-1/2">
            <svg class="shrink-0 size-3.5 text-gray-500 dark:text-neutral-500" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/></svg>
          </div>
          <!-- End Header -->
        </div>
      </div>


      <div class="flex-1 flex justify-end items-center gap-2">
        <button type="button" @click="filter='all'" class="hs-dropdown-close py-2 px-3 text-nowrap inline-flex justify-center items-center text-start whitespace-nowrap bg-white border border-gray-200 text-gray-800 text-sm font-medium rounded-lg shadow-2xs align-middle hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-300 dark:hover:bg-neutral-700 dark:focus:bg-neutral-700">
          Clear All
        </button>

        <button type="button" @click="setFilter(selected_filter)" class="hs-dropdown-close py-2 px-3 text-nowrap inline-flex justify-center items-center gap-x-2 text-start whitespace-nowrap bg-emerald-600 border border-emerald-600 text-white text-sm font-medium rounded-lg shadow-2xs align-middle hover:bg-emerald-700 disabled:opacity-50 disabled:pointer-events-none focus:outline-hidden focus:ring-1 focus:ring-emerald-300 dark:focus:ring-emerald-500">
          Apply
        </button>
      </div>

    </div>
    </div>
  </div>
</div>
      <div class="hs-dropdown  [--placement:bottom-left] relative inline-flex">
        <div class="hs-tooltip [--placement:bottom] inline-block">
          <button type="button" id="choose_question" class="relative flex justify-center items-center text-sm font-semibold rounded-lg border border-transparent text-gray-800 hover:bg-gray-100 focus:outline-hidden focus:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none" aria-haspopup="dialog" aria-expanded="false" aria-controls="hs-header-base-offcanvas" aria-label="Toggle navigation" data-hs-overlay="#hs-header-base-offcanvas">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="shrink-0 size-4">
              <path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd" />
            </svg>
          </button>
        </div>
        <div class="hs-dropdown-menu hs-dropdown-open:opacity-100 w-full sm:w-96 transition-[opacity,margin] duration opacity-0 hidden z-10 bg-white border border-gray-200  sm:rounded-lg shadow-md sm:shadow-xl dark:bg-neutral-900 dark:border-neutral-700" role="menu" aria-orientation="vertical" aria-labelledby="choose_question">
  
          <div  role="tabpanel" aria-labelledby="hs-pro-tabs-dnn-item-all">
          <div>
            <div class="p-3">
  <div class="flex justify-between">
  <p class="text-wrap font-medium text-xs sm:text-sm text-gray-800 dark:text-neutral-200">
    Choose a Question
  </p>
  <div class="hidden md:block">
  <div class="hs-dropdown [--auto-close:inside] [--placement:bottom-right] relative inline-flex">
  <button id="hs-pro-dptfd" type="button" class="hs-tooltip-toggle relative size-9.5 inline-flex justify-center items-center gap-x-2 rounded-full border border-transparent text-gray-500 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none focus:outline-hidden focus:bg-gray-100 dark:text-neutral-400 dark:hover:bg-neutral-700 dark:focus:bg-neutral-700" aria-haspopup="menu" aria-expanded="false" aria-label="Dropdown">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4 shrink-0">
      <path fill-rule="evenodd" d="M3.792 2.938A49.069 49.069 0 0 1 12 2.25c2.797 0 5.54.236 8.209.688a1.857 1.857 0 0 1 1.541 1.836v1.044a3 3 0 0 1-.879 2.121l-6.182 6.182a1.5 1.5 0 0 0-.439 1.061v2.927a3 3 0 0 1-1.658 2.684l-1.757.878A.75.75 0 0 1 9.75 21v-5.818a1.5 1.5 0 0 0-.44-1.06L3.13 7.938a3 3 0 0 1-.879-2.121V4.774c0-.897.64-1.683 1.542-1.836Z" clip-rule="evenodd" />
    </svg>
    <span class="flex absolute top-0 end-0 z-10 -mt-1.5 -me-1.5">
    
      <span x-cloak x-show="filter !='all'" class="relative min-w-4.5 min-h-4.5 inline-flex justify-center items-center text-[10px] bg-gray-500 text-white rounded-full px-1">
        1
      </span>
    </span>
  </button>
  <!-- End Notifications Button Icon -->

  <!-- Notifications Dropdown -->
  <div class="hs-dropdown-menu hs-dropdown-open:opacity-100 w-56 transition-[opacity,margin] duration opacity-0 hidden z-10 bg-white border border-gray-200  sm:rounded-lg shadow-md sm:shadow-xl dark:bg-neutral-900 dark:border-neutral-700" role="menu" aria-orientation="vertical" aria-labelledby="hs-pro-dnnd">
    <!-- Header -->


    <!-- Tab Content -->
    <div id="hs-pro-filter" role="tabpanel" aria-labelledby="hs-pro-tabs-dnn-item-all">
    <div class="p-4 space-y-5">
      <div>
        <label for="hs-pro-dalpn" class="block mb-2 text-sm font-medium text-gray-800 dark:text-white">
          Filter by response
        </label>

        <div class="relative">
          <select id="fontSelector" x-model="selected_filter" data-hs-select='{
            "placeholder": "Select font",
            "toggleTag": "<button type=\"button\" aria-expanded=\"false\"><div data-icon></div></button>",
            "toggleClasses": "hs-select-disabled:pointer-events-none hs-select-disabled:opacity-50 relative py-2 px-3 pe-7 flex items-center gap-x-2 text-nowrap w-full cursor-pointer bg-white border border-gray-200 rounded-lg text-start text-sm text-gray-800 hover:border-gray-300 focus:outline-hidden focus:border-gray-300 dark:bg-neutral-900 dark:border-neutral-800 dark:text-neutral-200 dark:hover:border-neutral-700 dark:focus:border-neutral-700",
            "dropdownClasses": "end-0 w-full min-w-45 max-h-72 p-1 space-y-0.5 z-50 w-full overflow-hidden overflow-y-auto bg-white rounded-xl shadow-xl [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 dark:[&::-webkit-scrollbar-track]:bg-neutral-700 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500 dark:bg-neutral-900",
            "optionClasses": "hs-selected:bg-gray-100 dark:hs-selected:bg-neutral-800 py-2 px-4 w-full text-sm text-gray-800 cursor-pointer hover:bg-gray-100 rounded-lg focus:outline-hidden focus:bg-gray-100 dark:text-neutral-300 dark:hover:bg-neutral-800 dark:focus:bg-neutral-800",
            "optionTemplate": "<div><div class=\"flex items-center gap-x-2\"><div data-icon></div><div class=\"text-gray-800 dark:text-neutral-200 \" data-title></div><span class=\"hidden hs-selected:block ms-auto\"><svg class=\"shrink-0 size-3.5 text-gray-800 dark:text-neutral-200 \" xmlns=\"http:.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><polyline points=\"20 6 9 17 4 12\"/></svg></span></div></div>"
          }' class="hidden">
          <option value="all">All</option>
          <option value="correct">Correct</option>
          <option value="incorrect">Incorrect</option>
          <option value="unanswered">Unanswered</option>
          <option value="pending_evaluation">Pending Evaluation</option>
          </select>

          <div class="absolute top-1/2 end-2.5 -translate-y-1/2">
            <svg class="shrink-0 size-3.5 text-gray-500 dark:text-neutral-500" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/></svg>
          </div>
          <!-- End Header -->
        </div>
      </div>


      <div class="flex-1 flex justify-end items-center gap-2">
        <button type="button" @click="filter='all'" class="hs-dropdown-close py-2 px-3 text-nowrap inline-flex justify-center items-center text-start whitespace-nowrap bg-white border border-gray-200 text-gray-800 text-sm font-medium rounded-lg shadow-2xs align-middle hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-300 dark:hover:bg-neutral-700 dark:focus:bg-neutral-700">
          Clear All
        </button>

        <button type="button" @click="setFilter(selected_filter)" class="hs-dropdown-close py-2 px-3 text-nowrap inline-flex justify-center items-center gap-x-2 text-start whitespace-nowrap bg-emerald-600 border border-emerald-600 text-white text-sm font-medium rounded-lg shadow-2xs align-middle hover:bg-emerald-700 disabled:opacity-50 disabled:pointer-events-none focus:outline-hidden focus:ring-1 focus:ring-emerald-300 dark:focus:ring-emerald-500">
          Apply
        </button>
      </div>

    </div>
    </div>
  </div>
</div>
</div>
</div>
  <div class="flex flex-wrap flex-grow gap-5 overflow-y-auto max-h-56 md:max-h-[calc(100vh-30rem)] mt-4">
    <template x-for="(q, index) in filteredQuestions" :key="q.q_no">
      <div class="relative">
        <button
          @click="goToQuestion(index)"
          class="w-8 h-8 rounded-full text-sm font-semibold"
          :class="{
            'bg-emerald-400 text-white': getQuestionStatus(q) === 'correct',
            'bg-red-400 text-white': getQuestionStatus(q) === 'incorrect',
            'bg-gray-200 text-gray-800': getQuestionStatus(q) === 'unanswered',
            'bg-yellow-400 text-white': getQuestionStatus(q) === 'pending_evaluation'
          }"
          x-text="q.q_no"
        ></button>
        <div x-show="hasReflection(q)" title="Reflected upon" class="absolute -bottom-1 -right-1 flex items-center justify-center">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" class="h-4 w-4 shrink-0 fill-yellow-300 text-gray-800 dark:fill-amber-400 dark:text-gray-200">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 001.5-.189m-1.5.189a6.01 6.01 0 01-1.5-.189m3.75 7.478a12.06 12.06 0 01-4.5 0m3.75 2.383a14.406 14.406 0 01-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 10-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"></path>
          </svg>
        </div>
      </div>
    </template>
  </div>
</div>

            <div class="p-3 flex flex-wrap items-center gap-4 text-sm text-gray-500">
              <div class="flex items-center gap-1">
                <span class="w-3 h-3 inline-block rounded-full bg-emerald-400"></span>
                Correct
              </div>
              <div class="flex items-center gap-1">
                <span class="w-3 h-3 inline-block rounded-full bg-red-400"></span>
                Incorrect
              </div>
              <div class="flex items-center gap-1">
                <span class="w-3 h-3 inline-block rounded-full bg-gray-200"></span>
                Unanswered
              </div>
              <div class="flex items-center gap-1">
                <span class="w-3 h-3 inline-block rounded-full bg-yellow-400"></span>
                Pending Evaluation
              </div>
            </div>
          </div>
          </div>
        </div>
        
      </div>
    </div>

  </div>
</header>
<!-- ========== END HEADER ========== -->

<!-- Offcanvas -->

<!-- End Offcanvas -->
<div class="flex flex-grow">
    <div class="w-full md:w-4/5 flex flex-col h-full min-h-0">
    <div class="w-full">
  <div class="flex flex-wrap justify-between basis-full items-center w-full">
    <div class="grid grid-cols-1 sm:hidden border-b border-gray-200 w-full px-4 sm:px-6">
      <!-- Use an "onChange" listener to redirect the user to the selected tab URL. -->
      <div x-data="{openSectionDropdown:false}" @click.outside="openSectionDropdown = false" class="relative w-full">
        <!-- Trigger Button -->
        <button
          @click="openSectionDropdown = !openSectionDropdown"
          class="w-full text-left py-2 bg-white text-gray-800 flex items-center justify-between"
        >
          <span x-text="currentSection.name"></span>
          <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
          </svg>
        </button>
      
        <!-- Dropdown List -->
        <div
          x-show="openSectionDropdown"
          x-transition
          class="absolute mt-2 z-50 w-full max-h-60 overflow-y-auto rounded-xl bg-white shadow-xl space-y-0.5 p-1 border border-gray-200"
        >
        <template x-for="(section, index) in exam.sections" :key="section.name">
          <div
            @click="selectSection(index), openSectionDropdown = false"
            class="px-4 py-2 rounded-lg cursor-pointer text-gray-800 hover:bg-gray-100"
            x-text="section.name"
          ></div>
        </template>
        </div>
      </div>
      
    </div>
    <div class="hidden sm:block w-full ">
      <div x-data="scrollTabsData()" x-init="requestAnimationFrame(() => updateScrollState()),  $refs.tabList.addEventListener('wheel', (e) => {
        if (e.shiftKey) {
          e.preventDefault();
          $refs.tabList.scrollBy({
            left: e.deltaY, // or -e.deltaY depending on direction
            behavior: 'smooth'
          });
        }
      });"
      class="relative flex items-center  border-b border-gray-200"
    >
      <!-- Left Arrow -->
      <button
        type="button" x-cloak x-show="canScrollLeft"
        class="absolute left-0 z-10 h-full px-2 bg-gradient-to-r from-white"
        @click="scrollTabsLeft"
      >
        <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path d="M15 19l-7-7 7-7" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
      </button>
    
      <!-- Scrollable Tab List -->
      <nav
        @scroll="updateScrollState()"
        x-ref="tabList"
        class="scroll-smooth scrollbar-hide mx-6 flex overflow-hidden"
        aria-label="Tabs"
      >
        <template x-for="(section, index) in exam.sections" :key="index">
          <button
            @click="selectSection(index);"
            class="whitespace-nowrap border-b-2 py-2 mr-4"
            :class="{
              'border-emerald-500 text-emerald-600': currentSectionIndex === index,
              'border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700': currentSectionIndex !== index
            }"
            x-text="section.name"
          ></button>
        </template>
      </nav>
    
      <!-- Right Arrow -->
      <button
        type="button" x-cloak x-show="canScrollRight"
        class="absolute right-0 z-10 h-full px-2 bg-gradient-to-l from-white"
        @click="scrollTabsRight"
      >
        <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path d="M9 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
      </button>
    </div>
    </div>
  </div>
</div>


    <template x-if="filteredQuestions.length > 0">
      <div class="flex flex-wrap w-full h-full">
    <div :class="currentQuestion.passage ? 'w-full md:w-1/2' : 'w-full'" x-cloak x-show="currentQuestion.passage">
      <div class="bg-white p-4 sm:px-6 ">
      <div class="text-gray-600">
  <p x-text="currentQuestion.passage"></p>
</div>
      </div>
      </div> 
    <div :class="currentQuestion.passage ? 'w-full md:w-1/2 border-l border-gray-200' : 'w-full '">
    <div class="border-b border-gray-200">
      <div class="flex flex-wrap justify-between basis-full items-center w-full py-2 sm:px-6 px-4">
  <div class="flex">
  <span class="text-gray-600 dark:text-neutral-200">
    <span class="hidden sm:inline">Question No. </span>
    <span class="inline sm:hidden">Q No. </span>
    <span x-text="currentQuestion.q_no"></span>
    <span class="ml-2 inline items-center rounded-full bg-emerald-100 px-1.5 py-0.5 text-xs font-medium text-emerald-700" x-text="'+ ' + (parseFloat(currentQuestion.total || 0).toFixed(2))"></span>
    <span x-show="currentQuestion.negative !== undefined" class="inline items-center rounded-full bg-red-100 px-1.5 py-0.5 text-xs font-medium text-red-700" x-text="'- '+ currentQuestion.negative"></span>
  </span>

</div>
<div class="flex space-x-1 justify-center items-center">
  <div class="relative">
    <button type="button" x-cloak  x-show="getQuestionStatus(currentQuestion) === 'incorrect' || getQuestionStatus(currentQuestion) === 'unanswered'" @click='HSOverlay.open("#hs-pro-mistake-reflection"); showReflectionToast = false' data-hs-overlay="#hs-pro-mistake-reflection" title="Reflect on mistake" class="inline-flex items-center gap-x-1 p-1 mb-1 text-xs text-gray-700 hover:text-emerald-700 underline hover:underline underline-offset-2 transition-colors focus:outline-hidden disabled:pointer-events-none disabled:opacity-50 dark:text-neutral-300 dark:hover:text-emerald-500">      <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0" >
        <path d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
      </svg>
      <span class="hidden sm:inline ">Why I missed this?</span>
    </button>
    <div
  x-cloak
  x-show="showReflectionToast"
  x-transition:enter="transition ease-out duration-200"
  x-transition:enter-start="opacity-0 translate-y-2"
  x-transition:enter-end="opacity-100 translate-y-0"
  x-transition:leave="transition ease-in duration-150"
  x-transition:leave-start="opacity-100 translate-y-0"
  x-transition:leave-end="opacity-0 translate-y-2"
  class="absolute top-full right-0 z-10 mt-2 w-64"
>
  <div class="absolute -top-2 right-6 size-4 overflow-hidden">
    <div class="size-4 -translate-y-1/2 rotate-45 transform bg-white dark:bg-neutral-800"></div>
  </div>
  <div class="p-3 bg-white dark:bg-neutral-800 rounded-md shadow-xl ring-1 ring-black ring-opacity-5 dark:ring-white/10">
    <div class="flex items-start gap-3">
      <div class="flex-grow">
        <h3 class="font-semibold text-gray-900 dark:text-neutral-200 text-sm">Why did you get this wrong?</h3>
        <p class="text-xs text-gray-500 dark:text-neutral-400 mt-1">
          Take a moment to reflect on this question. This will help you understand your mistake patterns.
        </p>
        <div class="mt-3 flex gap-x-2">
          <button
            type="button"
            @click='HSOverlay.open("#hs-pro-mistake-reflection"); showReflectionToast = false'
            class="inline-flex items-center justify-center gap-x-1 rounded-md border border-transparent bg-emerald-600 px-2.5 py-1.5 text-xs font-semibold text-white shadow-sm hover:bg-emerald-700 disabled:opacity-50"
          >
            Reflect Now
          </button>
          <button
            type="button"
            @click="showReflectionToast = false"
            class="inline-flex items-center justify-center gap-x-1 rounded-md border border-gray-300 dark:border-neutral-700 bg-white dark:bg-neutral-800 px-2.5 py-1.5 text-xs font-semibold text-gray-700 dark:text-neutral-300 shadow-sm hover:bg-gray-50 dark:hover:bg-neutral-700 disabled:opacity-50"
          >
            Dismiss
          </button>
        </div>
      </div>
      <div class="flex-shrink-0">
        <button
          type="button"
          @click="showReflectionToast = false"
          class="inline-flex items-center justify-center rounded-full text-gray-400 hover:text-gray-500 dark:text-neutral-400 dark:hover:text-neutral-300"
        >
          <svg class="size-3.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
        </button>
      </div>
    </div>
  </div>
</div>
  </div>
  <div class="relative inline-block text-left" x-data="{showbookmark:false}">
  <button class="justify-center items-center" x-cloak x-show="!currentQuestion.isBookmarked" @click="showbookmark=true">
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4 text-emerald-600">
    <path stroke-linecap="round" stroke-linejoin="round" d="M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z" />
  </svg>
  </button>
  <button class="justify-center items-center" x-cloak x-show="currentQuestion.isBookmarked" @click="currentQuestion.isBookmarked=false">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4 text-emerald-600">
    <path fill-rule="evenodd" d="M6.32 2.577a49.255 49.255 0 0 1 11.36 0c1.497.174 2.57 1.46 2.57 2.93V21a.75.75 0 0 1-1.085.67L12 18.089l-7.165 3.583A.75.75 0 0 1 3.75 21V5.507c0-1.47 1.073-2.756 2.57-2.93Z" clip-rule="evenodd"></path>
  </svg>
  </button>
  <div
  x-cloak
  x-show="showbookmark"
  @click.away="showbookmark=false"
  @keydown.window.escape="showbookmark=false"
  x-transition:enter="transition ease-out duration-100"
  x-transition:enter-start="transform opacity-0 scale-95"
  x-transition:enter-end="transform opacity-100 scale-100"
  x-transition:leave="transition ease-in duration-75"
  x-transition:leave-start="transform opacity-100 scale-100"
  x-transition:leave-end="transform opacity-0 scale-95"
  class="absolute right-0 z-50 mt-2 w-64 rounded-md bg-white shadow-xl ring-1 ring-black ring-opacity-5"
>
  <div class="p-2 text-gray-700">
    <!-- Search -->
    <div>
      <input
        type="text"
        placeholder="Search folders..."
        class="w-full rounded-md border border-gray-300 px-3 py-1.5 shadow-sm focus:border-emerald-600 focus:ring-1 focus:ring-emerald-600"
        x-model="searchFolder"
      >
    </div>

    <!-- Folder List -->
    <ul class="max-h-48 overflow-y-auto mt-2 mb-2">
      <li @click="currentQuestion.isBookmarked = true; showbookmark = false"
      class="flex items-center gap-2 px-3 py-2 hover:bg-gray-100 cursor-pointer rounded-md">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
        <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z" />
      </svg> 
    <span>Uncategorized</span>
     </li>
      <template x-for="folder in folders.filter(f => f.name.toLowerCase().includes(searchFolder.toLowerCase()))" :key="folder.name">
        <li @click="currentQuestion.isBookmarked = true; showbookmark = false"
            class="flex items-center gap-2 px-3 py-2 hover:bg-gray-100 cursor-pointer rounded-md">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
              <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z" />
            </svg> 
          <span x-text="folder.name"></span>
        </li>
      </template>
    </ul>

    <!-- Add New Folder -->
    <div class="flex flex-wrap items-center gap-2 pt-2 border-t border-gray-200">
      <input
        x-model="newFolderName"
        type="text"
        placeholder="Add New Folder"
        class="flex-1 w-full rounded-md border border-gray-300 px-2 py-1 focus:border-emerald-600 focus:ring-1 focus:ring-emerald-600"
      >
      <button
        @click="if(newFolderName.trim()) { folders.unshift({ name: newFolderName.trim() }); newFolderName=''; }"
        class="px-2 py-1 text-white bg-emerald-600 rounded-md hover:bg-emerald-700"
      >
        Add
      </button>
    </div>
  </div>
</div>

</div>
<div class="relative inline-block text-left" x-data="{showdropdown:false}">
    <button @click="showdropdown=!showdropdown" @click.away="showdropdown=false" @keydown.window.escape="showdropdown=false" type="button" class="hover:bg-gray-50 rounded-lg justify-center items-center">
      <svg class="shrink-0 size-4 text-gray-600" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="5" r="1"></circle><circle cx="12" cy="19" r="1"></circle></svg>
    </button>
  <div
  x-cloak
  x-show="showdropdown"
  x-transition:enter="transition ease-out duration-100"
  x-transition:enter-start="transform opacity-0 scale-95"
  x-transition:enter-end="transform opacity-100 scale-100"
  x-transition:leave="transition ease-in duration-75"
  x-transition:leave-start="transform opacity-100 scale-100"
  x-transition:leave-end="transform opacity-0 scale-95"
   class="absolute right-0 z-10 mt-2 w-36 origin-top-right text-sm rounded-md bg-white shadow-lg ring-1 ring-black/5 focus:outline-none" role="menu" aria-orientation="vertical" aria-labelledby="menu-button" tabindex="-1">
    <div class="p-1">
        <a target="_blank" href="/student_doubts/"  type="button" class="w-full flex items-center gap-x-3 py-2 px-3 rounded-lg text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:bg-gray-100 dark:text-neutral-300 dark:hover:bg-neutral-800 dark:focus:bg-neutral-800">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-3.5"><path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"/><path d="M8 12h.01"/><path d="M12 12h.01"/><path d="M16 12h.01"/></svg>
          Ask a doubt
        </a>
        <button @click="showQuestionComment=currentQuestion.id" type="button" class="w-full flex items-center gap-x-3 py-2 px-3 rounded-lg text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:bg-gray-100 dark:text-neutral-300 dark:hover:bg-neutral-800 dark:focus:bg-neutral-800">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-3.5"><path d="M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4"/><path d="M2 6h4"/><path d="M2 10h4"/><path d="M2 14h4"/><path d="M2 18h4"/><path d="M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z"/></svg>
          Comment
        </button>
        <button @click="showReportQuestionModal=currentQuestion.id" type="button" class="w-full flex items-center gap-x-3 py-2 px-3 rounded-lg text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:bg-gray-100 dark:text-neutral-300 dark:hover:bg-neutral-800 dark:focus:bg-neutral-800">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-3.5"><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"/><line x1="4" x2="4" y1="22" y2="15"/></svg>
          Report
        </button>
     </div>
  </div>
</div>
</div>

</div>

    </div>
    <div class="">
      <div x-cloak x-show="currentQuestion.type=='mcq'">
        <div class="p-4 sm:px-6">
  <p class="font-medium text-gray-800 dark:text-neutral-200" x-text="currentQuestion.question">
  </p>
  <div>
    <fieldset aria-label="Options" class="space-y-4">
      <template x-for="(option, index) in currentQuestion.options" :key="index">
        <div class="flex items-center  text-gray-600 dark:text-neutral-400">
          <div class="flex shrink-0 justify-center items-center size-7 border border-gray-200  rounded-full uppercase"
            :class="{
              'bg-emerald-400 text-white': currentQuestion && (currentQuestion.selectedIndex || []).includes(index) && (currentQuestion.correctIndex || []).includes(index),
              'bg-red-400 text-white': currentQuestion && (currentQuestion.selectedIndex || []).includes(index) && !(currentQuestion.correctIndex || []).includes(index),
              'bg-white text-gray-900 border-gray-300': currentQuestion && !(currentQuestion.selectedIndex || []).includes(index)
            }" x-text="String.fromCharCode(97 + index)">
          </div>
          <span class="ml-3" x-text="option"></span>
        </div>
      </template>
    </fieldset>
  </div>
</div>
<div class="border-t border-gray-200">
  <div class="flex flex-wrap items-center gap-4 lg:gap-x-12 py-2 px-4 sm:px-6">
    <div class="inline-flex items-center gap-x-1.5">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-4 text-gray-800 dark:text-neutral-200"><circle cx="12" cy="12" r="10"/><path d="m9 12 2 2 4-4"/></svg>
      <span  x-text="(parseFloat(currentQuestion.awarded || 0).toFixed(2))">8,150</span><span class="text-gray-500 text-sm ">Marks Awarded</span> 
    </div>
    <div class="inline-flex items-center gap-x-1.5 ">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-4 text-gray-800 dark:text-neutral-200"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
      <span  x-text="currentQuestion.time_taken"></span><span class="text-gray-500 text-sm">Time Taken</span> 
    </div>
    <div class="inline-flex items-center gap-x-1.5 ">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-4 text-gray-800 dark:text-neutral-200"><path d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"/><circle cx="7.5" cy="7.5" r=".5" fill="currentColor"/></svg>
      <span  x-text="currentQuestion.subject"></span>
    </div>
    <div class="inline-flex items-center gap-x-1.5"
    x-cloak
    x-show="typeof currentQuestion.trivia !== 'undefined' && currentQuestion.trivia !== null">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-4 text-gray-800 dark:text-neutral-200"><path d="M3 3v16a2 2 0 0 0 2 2h16"/><path d="M7 16h8"/><path d="M7 11h12"/><path d="M7 6h3"/></svg>
      <span  x-text="currentQuestion.trivia + '%'"></span><span class="text-gray-500 text-sm">answered this correctly</span> 
    </div>
  </div>
</div>

<div class="border-t border-gray-200">
  <div class="p-4 sm:px-6">
    <div>
      <button x-cloak x-show="!currentQuestion.show_solution && !showAllSolutions"
        @click="currentQuestion.show_solution=true"
        class="inline-flex items-center gap-x-1  text-emerald-600 hover:text-emerald-700 decoration-2 underline font-medium focus:outline-hidden focus:underline dark:text-emerald-400 dark:hover:text-emerald-500">
        View Solution
      </button>
    </div>
    <div class="gap-x-1.5" x-cloak x-show="currentQuestion.show_solution || showAllSolutions">

      <div class="text-gray-800">
        <p class="flex items-center mt-1  text-gray-600">The correct answer is <span
            class="ml-1  font-medium text-gray-700"
            x-html="(currentQuestion?.correctIndex || []).map(i => `(${String.fromCharCode(65 + i)}) ${(currentQuestion?.options?.[i] || '')}`).join(', ')"></span>
        </p>
      </div>
      <div class="mt-3" x-cloak x-show="currentQuestion.explanation">
        <p class=" font-medium text-gray-700">Explanation</p>
        <p class="flex items-center mt-2  text-gray-600" x-text="currentQuestion.explanation"></p>
      </div>
    </div>
  </div>
</div>
      </div>
      <div x-cloak x-show="currentQuestion.type=='essay'">
        <div class="p-4 sm:px-6">
  <p class="font-medium text-gray-800 dark:text-neutral-200" x-text="currentQuestion.question">
  </p>

  <div class="mt-3">
    <p class="font-medium text-gray-700">Your Answer</p>
    <p class="flex items-center mt-2 text-gray-600" x-text="currentQuestion.user_answer"></p>
  </div>
</div>
<div class="border-t border-gray-200">
  <div class="flex flex-wrap items-center gap-4 lg:gap-x-12 py-2 px-4 sm:px-6">
    <div class="inline-flex items-center gap-x-1.5">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-4 text-gray-800 dark:text-neutral-200"><circle cx="12" cy="12" r="10"/><path d="m9 12 2 2 4-4"/></svg>
      <span  x-text="(parseFloat(currentQuestion.awarded || 0).toFixed(2))">8,150</span><span class="text-gray-500 text-sm ">Marks Awarded</span> 
    </div>
    <div class="inline-flex items-center gap-x-1.5 ">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-4 text-gray-800 dark:text-neutral-200"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
      <span  x-text="currentQuestion.time_taken"></span><span class="text-gray-500 text-sm">Time Taken</span> 
    </div>
    <div class="inline-flex items-center gap-x-1.5 ">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-4 text-gray-800 dark:text-neutral-200"><path d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"/><circle cx="7.5" cy="7.5" r=".5" fill="currentColor"/></svg>
      <span  x-text="currentQuestion.subject"></span>
    </div>
    <div class="inline-flex items-center gap-x-1.5"
    x-cloak
    x-show="typeof currentQuestion.trivia !== 'undefined' && currentQuestion.trivia !== null">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-4 text-gray-800 dark:text-neutral-200"><path d="M3 3v16a2 2 0 0 0 2 2h16"/><path d="M7 16h8"/><path d="M7 11h12"/><path d="M7 6h3"/></svg>
      <span  x-text="currentQuestion.trivia + '%'"></span><span class="text-gray-500 text-sm">answered this correctly</span> 
    </div>
  </div>
</div>

<div class="border-t border-gray-200" x-cloak x-show="currentQuestion.explanation">
  <div class="mt-4 mb-4">
    <div>
      <button x-cloak x-show="!currentQuestion.show_solution && !showAllSolutions"
        @click="currentQuestion.show_solution=true"
        class="inline-flex items-center gap-x-1 font-medium  text-start text-emerald-600 underline underline-offset-4 hover:text-emerald-700 focus:outline-hidden dark:text-emerald-500 dark:hover:text-emerald-600"
        href="../../pro/payment/transactions.html">
        View Solution
      </button>
    </div>
    <div class="gap-x-1.5" x-cloak x-show="currentQuestion.show_solution || showAllSolutions">
      <div class="mt-3" x-cloak x-show="currentQuestion.explanation">
        <span class="text-gray-500 font-medium">Explanation</span>
        <p class="text-gray-800 mt-1" x-text="currentQuestion.explanation"></p>
      </div>
    </div>
  </div>
</div>
<div class="border-t border-gray-200" 
     x-cloak 
     x-show="currentQuestion && 
              (currentQuestion.response_status === 'pending_evaluation' || 
              (currentQuestion.feedback && currentQuestion.feedback.text))">

  <div class="p-4 sm:px-6" x-cloak x-show="currentQuestion.response_status != 'pending_evaluation'">
      <p class="text-sm font-semibold text-gray-700">Feedback</p>
<div class="flex space-x-3 mt-4">
  <div class="flex-shrink-0">
    <img class="h-10 w-10 rounded-full" src="https://static.testpress.in/static/img/default_medium_image.png" alt="">
  </div>
  <div>
    <div class="text-sm flex space-x-2 items-center">
      <a href="#" class="font-medium text-gray-900" x-text="currentQuestion?.feedback?.user || ''"></a>
      <p class="mt-0.5 text-sm text-gray-500">10 minutes ago</p>
    </div>
    <div class="flex items-center mt-1 text-sm text-gray-600">
      <p x-text="currentQuestion?.feedback?.text || ''"></p>
    </div>

    
  </div>
</div>
</div>
<div class="p-4 sm:px-6" x-cloak x-show="currentQuestion.response_status == 'pending_evaluation'">
  <a class="text-sm  inline-flex items-center gap-x-1.5  text-gray-500 focus:outline-hidden focus:underline dark:text-blue-500 dark:hover:text-blue-400" href="#" target="_parent">
    <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg>
   Submitted for grading. Awaiting feedback comment
  </a>
</div>
</div>
      </div>
      <div x-cloak x-show="currentQuestion.type=='gap_fill'">
        <div class="p-4 sm:px-6">
  <p class="leading-7 font-medium text-gray-800" x-html="getGapFillHTML()"></p>
</div>
<div class="border-t border-gray-200">
  <div class="flex flex-wrap items-center gap-4 lg:gap-x-12 py-2 px-4 sm:px-6">
    <div class="inline-flex items-center gap-x-1.5">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-4 text-gray-800 dark:text-neutral-200"><circle cx="12" cy="12" r="10"/><path d="m9 12 2 2 4-4"/></svg>
      <span  x-text="(parseFloat(currentQuestion.awarded || 0).toFixed(2))">8,150</span><span class="text-gray-500 text-sm ">Marks Awarded</span> 
    </div>
    <div class="inline-flex items-center gap-x-1.5 ">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-4 text-gray-800 dark:text-neutral-200"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
      <span  x-text="currentQuestion.time_taken"></span><span class="text-gray-500 text-sm">Time Taken</span> 
    </div>
    <div class="inline-flex items-center gap-x-1.5 ">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-4 text-gray-800 dark:text-neutral-200"><path d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"/><circle cx="7.5" cy="7.5" r=".5" fill="currentColor"/></svg>
      <span  x-text="currentQuestion.subject"></span>
    </div>
    <div class="inline-flex items-center gap-x-1.5"
    x-cloak
    x-show="typeof currentQuestion.trivia !== 'undefined' && currentQuestion.trivia !== null">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-4 text-gray-800 dark:text-neutral-200"><path d="M3 3v16a2 2 0 0 0 2 2h16"/><path d="M7 16h8"/><path d="M7 11h12"/><path d="M7 6h3"/></svg>
      <span  x-text="currentQuestion.trivia + '%'"></span><span class="text-gray-500 text-sm">answered this correctly</span> 
    </div>
  </div>
</div>

<div class="border-t border-gray-200">
  <div class="p-4 sm:px-6">
    <div>
        <button 
        x-cloak x-show="!currentQuestion.show_solution && !showAllSolutions"
        @click="currentQuestion.show_solution=true"
        class="inline-flex items-center gap-x-1 text-emerald-600 hover:text-emerald-700 decoration-2 underline font-medium focus:outline-hidden focus:underline dark:text-emerald-400 dark:hover:text-emerald-500">
          View Solution
        </button>
    </div>
    <div class="gap-x-1.5" x-cloak x-show="currentQuestion.show_solution || showAllSolutions">

      <div class="text-gray-800">
        <p class="leading-7 text-gray-600"
        x-html="getGapFillCorrectHTML()"></p>
      </div>
      <div class="mt-3" x-cloak x-show="currentQuestion.explanation">
        <p class="font-medium text-gray-700">Explanation</p>
        <p class="flex items-center mt-2 text-gray-600" x-text="currentQuestion.explanation"></p>
      </div>
    </div>
  </div>
</div>

      </div>
      <div x-cloak x-show="currentQuestion.type=='match'">
        <div class="p-4 sm:px-6">
  <p class="font-medium text-gray-800 dark:text-neutral-200" x-text="currentQuestion.question">
  </p>
  <div>
    <fieldset aria-label="Options" class="space-y-4 max-w-2xl">
      <template x-for="(question, qidx) in currentQuestion.questions" :key="qidx">
        <div class="grid grid-cols-12 gap-x-4 items-center  text-gray-600">
          <!-- Left: Question label with circled letter -->
          <div class="col-span-5 flex items-center gap-2">
            <div class="flex shrink-0 justify-center items-center size-7 border border-gray-200  rounded-full uppercase"
              :class="{
            'bg-emerald-400 text-white border-emerald-400': currentQuestion.user_answer[qidx] === currentQuestion.answers[qidx],
            'bg-red-400 text-white border-red-400': currentQuestion.user_answer[qidx] && currentQuestion.user_answer[qidx] !== currentQuestion.answers[qidx],
            'bg-gray-100  border-gray-300': !currentQuestion.user_answer[qidx]
          }" x-text="String.fromCharCode(65 + qidx)">
            </div>
            <span x-text="question" class=""></span>
          </div>

          <!-- Middle: Arrow icon -->
          <div class="col-span-1 flex justify-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
              stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
              class="lucide lucide-move-right">
              <path d="M18 8L22 12L18 16" />
              <path d="M2 12H22" />
            </svg>
          </div>

          <!-- Right: User-selected answer -->
          <div class="col-span-6">
            <span x-text="currentQuestion.user_answer[qidx] || '-'"></span>
          </div>
        </div>
      </template>
    </fieldset>
  </div>
</div>


<div class="border-t border-gray-200">
  <div class="flex flex-wrap items-center gap-4 lg:gap-x-12 py-2 px-4 sm:px-6">
    <div class="inline-flex items-center gap-x-1.5">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-4 text-gray-800 dark:text-neutral-200"><circle cx="12" cy="12" r="10"/><path d="m9 12 2 2 4-4"/></svg>
      <span  x-text="(parseFloat(currentQuestion.awarded || 0).toFixed(2))">8,150</span><span class="text-gray-500 text-sm ">Marks Awarded</span> 
    </div>
    <div class="inline-flex items-center gap-x-1.5 ">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-4 text-gray-800 dark:text-neutral-200"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
      <span  x-text="currentQuestion.time_taken"></span><span class="text-gray-500 text-sm">Time Taken</span> 
    </div>
    <div class="inline-flex items-center gap-x-1.5 ">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-4 text-gray-800 dark:text-neutral-200"><path d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"/><circle cx="7.5" cy="7.5" r=".5" fill="currentColor"/></svg>
      <span  x-text="currentQuestion.subject"></span>
    </div>
    <div class="inline-flex items-center gap-x-1.5"
    x-cloak
    x-show="typeof currentQuestion.trivia !== 'undefined' && currentQuestion.trivia !== null">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-4 text-gray-800 dark:text-neutral-200"><path d="M3 3v16a2 2 0 0 0 2 2h16"/><path d="M7 16h8"/><path d="M7 11h12"/><path d="M7 6h3"/></svg>
      <span  x-text="currentQuestion.trivia + '%'"></span><span class="text-gray-500 text-sm">answered this correctly</span> 
    </div>
  </div>
</div>

<div class="border-t border-gray-200">
  <div class="p-4 sm:px-6">
    <div>
      <button x-cloak x-show="!currentQuestion.show_solution && !showAllSolutions"
        @click="currentQuestion.show_solution=true"
        class="inline-flex items-center gap-x-1  text-emerald-600 hover:text-emerald-700 decoration-2 underline font-medium focus:outline-hidden focus:underline dark:text-emerald-400 dark:hover:text-emerald-500">
        View Solution
      </button>
    </div>
    <div class="gap-x-1.5" x-cloak x-show="currentQuestion.show_solution || showAllSolutions">

      <div class="max-w-2xl">
        <template x-for="(question, qidx) in currentQuestion.questions" :key="qidx">
          <div class="grid grid-cols-12 gap-x-4  items-center  text-gray-600" :class="{ 'mt-4': qidx > 0 }">
            <!-- Left: Question label with circled letter -->
            <div class="col-span-5 flex items-center gap-2">
              <div
                class="flex shrink-0 justify-center items-center size-7 border border-gray-200  rounded-full uppercase"
                x-text="String.fromCharCode(65 + qidx)">
              </div>
              <span x-text="question"></span>
            </div>

            <!-- Middle: Arrow icon -->
            <div class="col-span-1 flex justify-center">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                class="lucide lucide-move-right">
                <path d="M18 8L22 12L18 16" />
                <path d="M2 12H22" />
              </svg>
            </div>

            <!-- Right: User-selected answer -->
            <div class="col-span-6">
              <span x-text="currentQuestion.answers[qidx] || '-'"></span>
            </div>
          </div>
        </template>
      </div>
      <div class="mt-3" x-cloak x-show="currentQuestion.explanation">
        <p class=" font-medium text-gray-700">Explanation</p>
        <p class="flex items-center mt-2  text-gray-600" x-text="currentQuestion.explanation"></p>
      </div>
    </div>
  </div>
</div>
      </div>
      <div x-cloak x-show="currentQuestion.type=='file'">
        <div class="p-4 sm:px-6">
  <p class="font-medium text-gray-800 dark:text-neutral-200" x-text="currentQuestion.question">
  </p>
  <div class="mt-4">
    <dd class="max-w-2xl">
      <ul role="list" class="divide-y divide-gray-100 rounded-md border border-gray-200">
        <li class="flex items-center justify-between py-2 pl-4 pr-5 text-sm/6">
          <div class="flex w-0 flex-1 items-center">
            <svg class="size-5 shrink-0 text-gray-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"
              data-slot="icon">
              <path fill-rule="evenodd"
                d="M15.621 4.379a3 3 0 0 0-4.242 0l-7 7a3 3 0 0 0 4.241 4.243h.001l.497-.5a.75.75 0 0 1 1.064 1.057l-.498.501-.002.002a4.5 4.5 0 0 1-6.364-6.364l7-7a4.5 4.5 0 0 1 6.368 6.36l-3.455 3.553A2.625 2.625 0 1 1 9.52 9.52l3.45-3.451a.75.75 0 1 1 1.061 1.06l-3.45 3.451a1.125 1.125 0 0 0 1.587 1.595l3.454-3.553a3 3 0 0 0 0-4.242Z"
                clip-rule="evenodd"></path>
            </svg>
            <div class="ml-4 flex min-w-0 flex-1 gap-2">
              <span class="truncate font-medium" x-text="currentQuestion.user_answer"></span>
            </div>
          </div>
          <div class="ml-4 shrink-0">
            <a href="#" class="font-medium text-emerald-600 hover:text-emerald-500">Preview</a>
          </div>
        </li>
      </ul>
    </dd>
  </div>
</div>
<div class="border-t border-gray-200">
  <div class="flex flex-wrap items-center gap-4 lg:gap-x-12 py-2 px-4 sm:px-6">
    <div class="inline-flex items-center gap-x-1.5">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-4 text-gray-800 dark:text-neutral-200"><circle cx="12" cy="12" r="10"/><path d="m9 12 2 2 4-4"/></svg>
      <span  x-text="(parseFloat(currentQuestion.awarded || 0).toFixed(2))">8,150</span><span class="text-gray-500 text-sm ">Marks Awarded</span> 
    </div>
    <div class="inline-flex items-center gap-x-1.5 ">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-4 text-gray-800 dark:text-neutral-200"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
      <span  x-text="currentQuestion.time_taken"></span><span class="text-gray-500 text-sm">Time Taken</span> 
    </div>
    <div class="inline-flex items-center gap-x-1.5 ">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-4 text-gray-800 dark:text-neutral-200"><path d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"/><circle cx="7.5" cy="7.5" r=".5" fill="currentColor"/></svg>
      <span  x-text="currentQuestion.subject"></span>
    </div>
    <div class="inline-flex items-center gap-x-1.5"
    x-cloak
    x-show="typeof currentQuestion.trivia !== 'undefined' && currentQuestion.trivia !== null">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-4 text-gray-800 dark:text-neutral-200"><path d="M3 3v16a2 2 0 0 0 2 2h16"/><path d="M7 16h8"/><path d="M7 11h12"/><path d="M7 6h3"/></svg>
      <span  x-text="currentQuestion.trivia + '%'"></span><span class="text-gray-500 text-sm">answered this correctly</span> 
    </div>
  </div>
</div>

<div class="border-t border-gray-200" 
     x-cloak 
     x-show="currentQuestion && 
              (currentQuestion.response_status === 'pending_evaluation' || 
              (currentQuestion.feedback && currentQuestion.feedback.text))">

  <div class="p-4 sm:px-6" x-cloak x-show="currentQuestion.response_status != 'pending_evaluation'">
      <p class="text-sm font-semibold text-gray-700">Feedback</p>
<div class="flex space-x-3 mt-4">
  <div class="flex-shrink-0">
    <img class="h-10 w-10 rounded-full" src="https://static.testpress.in/static/img/default_medium_image.png" alt="">
  </div>
  <div>
    <div class="text-sm flex space-x-2 items-center">
      <a href="#" class="font-medium text-gray-900" x-text="currentQuestion?.feedback?.user || ''"></a>
      <p class="mt-0.5 text-sm text-gray-500">10 minutes ago</p>
    </div>
    <div class="flex items-center mt-1 text-sm text-gray-600">
      <p x-text="currentQuestion?.feedback?.text || ''"></p>
    </div>

    
  </div>
</div>
</div>
<div class="p-4 sm:px-6" x-cloak x-show="currentQuestion.response_status == 'pending_evaluation'">
  <a class="text-sm  inline-flex items-center gap-x-1.5  text-gray-500 focus:outline-hidden focus:underline dark:text-blue-500 dark:hover:text-blue-400" href="#" target="_parent">
    <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg>
   Submitted for grading. Awaiting feedback comment
  </a>
</div>
</div>
      </div>
      <div>
        <div x-cloak x-show="currentQuestion.type=='numerical'">
          <div class="p-4 sm:px-6">
  <p class="font-medium text-gray-800 dark:text-neutral-200" x-text="currentQuestion.question"></p>

  <div class="mt-3">
    <p class="font-medium text-gray-700">Your Answer</p>
    <p class="mt-2 text-gray-600" x-show="currentQuestion.user_answer?.length" x-text="currentQuestion.user_answer"></p>
    <p class="mt-2 text-gray-600" x-show="!currentQuestion.user_answer || !currentQuestion.user_answer.length">unanswered</p>
  </div>
</div>
<div class="border-t border-gray-200">
  <div class="flex flex-wrap items-center gap-4 lg:gap-x-12 py-2 px-4 sm:px-6">
    <div class="inline-flex items-center gap-x-1.5">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-4 text-gray-800 dark:text-neutral-200"><circle cx="12" cy="12" r="10"/><path d="m9 12 2 2 4-4"/></svg>
      <span  x-text="(parseFloat(currentQuestion.awarded || 0).toFixed(2))">8,150</span><span class="text-gray-500 text-sm ">Marks Awarded</span> 
    </div>
    <div class="inline-flex items-center gap-x-1.5 ">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-4 text-gray-800 dark:text-neutral-200"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
      <span  x-text="currentQuestion.time_taken"></span><span class="text-gray-500 text-sm">Time Taken</span> 
    </div>
    <div class="inline-flex items-center gap-x-1.5 ">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-4 text-gray-800 dark:text-neutral-200"><path d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"/><circle cx="7.5" cy="7.5" r=".5" fill="currentColor"/></svg>
      <span  x-text="currentQuestion.subject"></span>
    </div>
    <div class="inline-flex items-center gap-x-1.5"
    x-cloak
    x-show="typeof currentQuestion.trivia !== 'undefined' && currentQuestion.trivia !== null">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-4 text-gray-800 dark:text-neutral-200"><path d="M3 3v16a2 2 0 0 0 2 2h16"/><path d="M7 16h8"/><path d="M7 11h12"/><path d="M7 6h3"/></svg>
      <span  x-text="currentQuestion.trivia + '%'"></span><span class="text-gray-500 text-sm">answered this correctly</span> 
    </div>
  </div>
</div>

<div class="border-t border-gray-200 p-4 sm:px-6" x-cloak>
    <div>
      <button x-cloak x-show="!currentQuestion.show_solution && !showAllSolutions"
        @click="currentQuestion.show_solution=true"
        class="inline-flex items-center gap-x-1 font-medium text-start text-emerald-600 underline underline-offset-4 hover:text-emerald-700 focus:outline-hidden dark:text-emerald-500 dark:hover:text-emerald-600">
        View Solution
      </button>
    </div>
    <div class="gap-x-1.5" x-cloak x-show="currentQuestion?.show_solution || showAllSolutions">
        <div class="w-max">
            <div class="grid grid-cols-2 font-medium text-gray-700 pb-2">
                <div>Answer</div>
                <div>Accepted Error</div>
            </div>
            <template x-for="item in currentQuestion.answers" :key="item.answer">
            <div class="grid grid-cols-2 text-gray-600 py-1">
                <div x-text="item.answer"></div>
                <div x-text="item.accepted_error"></div>
            </div>
            </template>
        </div>
        <div class="mt-3" x-cloak x-show="currentQuestion?.explanation">
        <span class="text-gray-500 font-medium">Explanation</span>
        <p class="text-gray-800 mt-1" x-html="currentQuestion?.explanation"></p>
      </div>
    </div>
  </div>
</div>
<div class="border-t border-gray-200" 
     x-cloak 
     x-show="currentQuestion && 
              (currentQuestion.response_status === 'pending_evaluation' || 
              (currentQuestion.feedback && currentQuestion.feedback.text))">

  <div class="p-4 sm:px-6" x-cloak x-show="currentQuestion.response_status != 'pending_evaluation'">
      <p class="text-sm font-semibold text-gray-700">Feedback</p>
<div class="flex space-x-3 mt-4">
  <div class="flex-shrink-0">
    <img class="h-10 w-10 rounded-full" src="https://static.testpress.in/static/img/default_medium_image.png" alt="">
  </div>
  <div>
    <div class="text-sm flex space-x-2 items-center">
      <a href="#" class="font-medium text-gray-900" x-text="currentQuestion?.feedback?.user || ''"></a>
      <p class="mt-0.5 text-sm text-gray-500">10 minutes ago</p>
    </div>
    <div class="flex items-center mt-1 text-sm text-gray-600">
      <p x-text="currentQuestion?.feedback?.text || ''"></p>
    </div>

    
  </div>
</div>
</div>
<div class="p-4 sm:px-6" x-cloak x-show="currentQuestion.response_status == 'pending_evaluation'">
  <a class="text-sm  inline-flex items-center gap-x-1.5  text-gray-500 focus:outline-hidden focus:underline dark:text-blue-500 dark:hover:text-blue-400" href="#" target="_parent">
    <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg>
   Submitted for grading. Awaiting feedback comment
  </a>
</div>
</div>
        </div>
      </div>
    </div>
    <div class="relative z-[99]" aria-labelledby="modal-title" role="dialog" aria-modal="true" x-cloak x-show="showQuestionComment == currentQuestion.id">
  <div
  x-cloak x-show="showQuestionComment == currentQuestion.id"
  x-transition:enter="ease-out duration-300" x-transition:enter-start="opacity-0"
  x-transition:enter-end="opacity-100" x-transition:leave="ease-in duration-200"
  x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0"
  class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div>

  <div class="fixed inset-0 z-10 w-screen overflow-y-auto">
    <div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0">
      <div
      x-cloak x-show="showQuestionComment == currentQuestion.id"
      x-transition:enter="ease-out duration-300"
      x-transition:enter-start="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
      x-transition:enter-end="opacity-100 translate-y-0 sm:scale-100"
      x-transition:leave="ease-in duration-300"
      x-transition:leave-start="opacity-100 translate-y-0 sm:scale-100"
      x-transition:leave-end="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
      class="relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:max-w-lg sm:p-6" @click.away="showQuestionComment=null"   @keydown.window.escape="showQuestionComment=null">
        <div class="flex">
          <svg @click="showQuestionComment=null" class="shrink-0 mr-3 w-5 text-gray-400 hover:cursor-pointer hover:text-gray-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
            <path fill-rule="evenodd" d="M7.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l2.293 2.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
        </svg>
          <h3 class="truncate text-base font-semibold leading-6 text-gray-900">Comment</h3>
        </div>
          <div>
            <div class="divide-y divide-gray-200">
              <div class="pt-6">
                <!-- Activity feed-->
                <div class="flow-root">
                  <ul role="list" class="-mb-8">
                    <li>
                      <div class="relative pb-8">
                        <span class="absolute left-5 top-5 -ml-px h-full w-0.5 bg-gray-200" aria-hidden="true"></span>
                        <div class="relative flex items-start space-x-3">
                          <div class="relative">
                            <img class="flex h-10 w-10 items-center justify-center rounded-full bg-gray-400 ring-8 ring-white" src="https://static.testpress.in/static/img/default_medium_image.png" alt="">
        
                            <span class="absolute -bottom-0.5 -right-1 rounded-tl bg-white px-0.5 py-px">
                              <svg class="h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                <path fill-rule="evenodd" d="M10 2c-2.236 0-4.43.18-6.57.524C1.993 2.755 1 4.014 1 5.426v5.148c0 1.413.993 2.67 2.43 2.902.848.137 1.705.248 2.57.331v3.443a.75.75 0 001.28.53l3.58-3.579a.78.78 0 01.527-.224 41.202 41.202 0 005.183-.5c1.437-.232 2.43-1.49 2.43-2.903V5.426c0-1.413-.993-2.67-2.43-2.902A41.289 41.289 0 0010 2zm0 7a1 1 0 100-2 1 1 0 000 2zM8 8a1 1 0 11-2 0 1 1 0 012 0zm5 1a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd" />
                              </svg>
                            </span>
                          </div>
                          <div class="min-w-0 flex-1">
                            <div>
                              <div class="text-sm">
                                <a href="#" class="font-medium text-gray-900">Mark Antony</a>
                              </div>
                              <p class="mt-0.5 text-sm text-gray-500">10 minutes ago</p>
                            </div>
                            <div class="mt-2 text-sm text-gray-700">
                              <p>This question is most asked in last 3 exams</p>
                            </div>
                          </div>
                        </div>
                        
                      </div>
                    </li>
                  </ul>
                </div>
                <div class="mt-6">
                  <div class="flex space-x-3">
                    <div class="flex-shrink-0">
                      <div class="relative">
                        <img class="flex h-10 w-10 items-center justify-center rounded-full bg-gray-400 ring-8 ring-white" src="https://images.unsplash.com/photo-1624224971170-2f84fed5eb5e?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=facearea&facepad=2&w=900&h=900&q=80" alt="">
        
                        <span class="absolute -bottom-0.5 -right-1 rounded-tl bg-white px-0.5 py-px">
                          <svg class="h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                            <path fill-rule="evenodd" d="M10 2c-2.236 0-4.43.18-6.57.524C1.993 2.755 1 4.014 1 5.426v5.148c0 1.413.993 2.67 2.43 2.902.848.137 1.705.248 2.57.331v3.443a.75.75 0 001.28.53l3.58-3.579a.78.78 0 01.527-.224 41.202 41.202 0 005.183-.5c1.437-.232 2.43-1.49 2.43-2.903V5.426c0-1.413-.993-2.67-2.43-2.902A41.289 41.289 0 0010 2zm0 7a1 1 0 100-2 1 1 0 000 2zM8 8a1 1 0 11-2 0 1 1 0 012 0zm5 1a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd" />
                          </svg>
                        </span>
                      </div>
                    </div>
                    <div class="min-w-0 flex-1">
                      <form action="#">
                        <div>
                          <label for="comment" class="sr-only">Comment</label>
                          <textarea id="comment" name="comment" rows="3" class="block w-full rounded-md border-0 py-1.5 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-gray-900 sm:text-sm sm:leading-6" placeholder="Leave a comment"></textarea>
                        </div>
                        <div class="mt-6 flex items-center justify-end space-x-4">
                          <button type="button" @click="showQuestionComment=null" class="inline-flex items-center justify-center rounded-md bg-gray-900 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-gray-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-gray-900">Add</button>
                        </div>
                      </form>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
      </div>
    </div>
  </div>
</div>

    <div
  x-cloak
  x-show="showPostReflectionGuide"
  @mouseenter="isHoveringPostReflectionGuideToast = true"
  @mouseleave="isHoveringPostReflectionGuideToast = false"
  x-transition:enter="transition ease-out duration-300"
  x-transition:enter-start="translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2"
  x-transition:enter-end="translate-y-0 opacity-100 sm:translate-x-0"
  x-transition:leave="transition ease-in duration-100"
  x-transition:leave-start="opacity-100"
  x-transition:leave-end="opacity-0"
  class="fixed bottom-20 left-4 z-[60] max-w-sm w-full bg-white border border-gray-200 shadow-2xl rounded-xl dark:bg-neutral-800 dark:border-neutral-700 pointer-events-auto overflow-hidden"
>
  <div class="absolute top-0 left-0 w-full h-1 bg-gray-100 dark:bg-neutral-700 z-10">
    <div 
      class="h-full bg-emerald-500 transition-all duration-75 ease-linear" 
      :style="'width: ' + progressValue + '%'">
    </div>
  </div>

  <div class="p-4">
    <div class="flex gap-x-4">
      <div class="shrink-0">
        <template x-if="unreflectedCount > 0">
          <span class="inline-flex justify-center items-center size-10 rounded-full border-4 border-emerald-50 bg-emerald-100 text-emerald-600 dark:border-emerald-900 dark:bg-emerald-800 dark:text-emerald-400">
            <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 6 9 17l-5-5"/></svg>
          </span>
        </template>
        <template x-if="unreflectedCount === 0">
          <span class="inline-flex justify-center items-center size-10 rounded-full border-4 border-purple-50 bg-purple-100 text-purple-600 dark:border-purple-900 dark:bg-purple-800 dark:text-purple-400">
            <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect width="8" height="4" x="8" y="2" rx="1" ry="1"/>
              <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/>
              <path d="m9 14 2 2 4-4"/>
            </svg>
          </span>
        </template>
      </div>
      <div class="grow">
        <h3
          class="font-semibold text-gray-800 dark:text-neutral-200"
          x-text="unreflectedCount === 0 ? 'Well done! You did all questions.' : 'Great! Reflection saved.'"
        >
        </h3>
        <div class="mt-1 text-sm text-gray-600 dark:text-neutral-400">
          <template x-if="unreflectedCount > 0">
            <span>
              You have
              <strong class="text-gray-900 dark:text-white" x-text="unreflectedCount"></strong>
              more questions to reflect. We suggest you complete them to build a more accurate analysis report.
            </span>
          </template>
          <template x-if="unreflectedCount === 0">
            <span>
              You've reflected on everything here. Would you like to head over to your Mindset Insights report to see what your reflections reveal?
            </span>
          </template>
        </div>
        <div class="mt-4 flex items-center gap-3">
          <a
            x-show="unreflectedCount > 0"
            href="/exam_review/mindset_insights/"
            class="text-sm font-medium shrink-0 text-gray-500 hover:text-gray-800 dark:text-neutral-400 dark:hover:text-neutral-200"
          >
            Check report now
          </a>
          <button
            x-show="unreflectedCount === 0"
            type="button"
            @click="showPostReflectionGuide = false"
            class="text-sm font-medium shrink-0 text-gray-500 hover:text-gray-800 dark:text-neutral-400 dark:hover:text-neutral-200"
          >
            Stay here
          </button>
          
          <button
            x-show="unreflectedCount > 0"
            type="button"
            @click="showPostReflectionGuide = false"
            class="inline-flex shrink-0 w-auto justify-center items-center gap-x-1 text-sm font-semibold rounded-lg border border-transparent text-emerald-600 hover:text-emerald-800 dark:text-emerald-500 dark:hover:text-emerald-400"
          >
            Continue reflecting
            <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"/></svg>
          </button>
          <a
            x-show="unreflectedCount === 0"
            href="/exam_review/mindset_insights/"
            class="inline-flex shrink-0 w-auto justify-center items-center gap-x-1 text-sm font-semibold rounded-lg border border-transparent text-emerald-600 hover:text-emerald-800 dark:text-emerald-500 dark:hover:text-emerald-400"
          >
            Yes, see my analysis
            <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"/></svg>
          </a>
        </div>
      </div>
      <div class="shrink-0">
        <button
          type="button"
          @click="showPostReflectionGuide = false"
          class="inline-flex items-center justify-center size-6 text-gray-400 hover:text-gray-500 rounded-lg focus:outline-none focus:bg-gray-100 dark:hover:text-neutral-300 dark:focus:bg-neutral-700"
        >
          <span class="sr-only">Close</span>
          <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
        </button>
      </div>
    </div>
  </div>
</div>
    <div class="relative z-[99]" aria-labelledby="modal-title" role="dialog" aria-modal="true" x-cloak x-show="showReportQuestionModal==currentQuestion.id">
  <div
  x-cloak x-show="showReportQuestionModal==currentQuestion.id" 
  x-transition:enter="ease-out duration-300" x-transition:enter-start="opacity-0"
  x-transition:enter-end="opacity-100" x-transition:leave="ease-in duration-200"
  x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0"
  class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"></div>

  <div class="fixed inset-0 z-10 w-screen overflow-y-auto">
    <div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0">
      <div
      x-cloak x-show="showReportQuestionModal==currentQuestion.id" 
      x-transition:enter="ease-out duration-300"
      x-transition:enter-start="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
      x-transition:enter-end="opacity-100 translate-y-0 sm:scale-100"
      x-transition:leave="ease-in duration-300"
      x-transition:leave-start="opacity-100 translate-y-0 sm:scale-100"
      x-transition:leave-end="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
      class="relative transform overflow-hidden rounded-lg bg-white px-4 pb-4 pt-5 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-sm sm:p-6" @click.away="showReportQuestionModal=null" @keydown.window.escape="showReportQuestionModal=null">
        <form>
      <div>
        <div>
          <div class="space-y-6 px-4 sm:px-0">
            <fieldset>
              <legend class="text-sm font-semibold leading-6 text-gray-900">Why are you reporting this Question?</legend>
              <div class="mt-4 space-y-6">
                <div class="flex items-center gap-x-3">
                  <input id="push-everything" name="push-notifications" type="radio" class="h-4 w-4 border-gray-300 text-emerald-600 focus:ring-emerald-600">
                  <label for="push-everything" class="block text-sm  leading-6 text-gray-900">Error in Question.</label>
                </div>
                <div class="flex items-center gap-x-3">
                  <input id="push-everything" name="push-notifications" type="radio" class="h-4 w-4 border-gray-300 text-emerald-600 focus:ring-emerald-600">
                  <label for="push-everything" class="block text-sm  leading-6 text-gray-900">Incorrect Solution.</label>
                </div>
                <div class="flex items-center gap-x-3">
                  <input id="push-nothing" name="push-notifications" type="radio" class="h-4 w-4 border-gray-300 text-emerald-600 focus:ring-emerald-600">
                  <label for="push-nothing" class="block text-sm  leading-6 text-gray-900">No Solution.</label>
                </div>
                <div class="flex items-center gap-x-3">
                  <input id="push-email" name="push-notifications" type="radio" class="h-4 w-4 border-gray-300 text-emerald-600 focus:ring-emerald-600">
                  <label for="push-email" class="block text-sm  leading-6 text-gray-900">Incomplete Solution.</label>
                </div>
                <div class="flex items-center gap-x-3">
                  <input id="push-nothing" name="push-notifications" type="radio" class="h-4 w-4 border-gray-300 text-emerald-600 focus:ring-emerald-600">
                  <label for="push-nothing" class="block text-sm  leading-6 text-gray-900">Others.</label>
                </div>
              </div>
            </fieldset>
            <div>
              <label for="about" class="block text-sm font-medium leading-6 text-gray-900">Describe the Issue (Optional)</label>
              <div class="mt-2">
                <textarea id="about" name="about" rows="3" class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-emerald-600 sm:text-sm sm:leading-6" placeholder="Please provide any additional information that might help us understand the context or issue"></textarea>
              </div>
            </div>
          </div>
        </div>
      </div>
        <div class="mt-6 flex items-center justify-end gap-x-6 px-4 sm:px-0">
          <button type="button" @click="showReportQuestionModal=null" class="text-sm font-semibold leading-6 text-gray-900">Cancel</button>
          <button type="button" @click="showReportQuestionModal=null" class="rounded-md bg-emerald-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-emerald-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-emerald-600">Report</button>
        </div>
        </div>
       </form>
      </div>
    </div>
  </div>
</div>

    </div>
  </div>
  </template>
  <div id="hs-pro-mistake-reflection" class="hs-overlay pointer-events-none fixed start-0 top-0 z-[99] hidden size-full overflow-x-hidden overflow-y-auto [--close-when-click-inside:true]" role="dialog" tabindex="-1" aria-labelledby="hs-pro-mistake-reflection-label" x-data="questionReflection()">
  <div class="hs-overlay-open:mt-7 hs-overlay-open:opacity-100 hs-overlay-open:duration-500 m-3 mt-0 flex h-[calc(100%-56px)] min-h-[calc(100%-56px)] items-center opacity-0 transition-all ease-out sm:mx-auto sm:w-full sm:max-w-xl">
    <div class="pointer-events-auto flex w-full flex-col rounded-xl bg-white shadow-xl dark:bg-neutral-800">
      <div class="flex items-center justify-between border-b border-stone-200 px-4 py-2.5 dark:border-neutral-700">
        <h3 id="hs-pro-mistake-reflection-label" class="font-medium text-stone-800 dark:text-neutral-200">Reasons for Mistakes</h3>
        <button type="button" class="flex size-8 shrink-0 items-center justify-center gap-x-2 rounded-full border border-transparent bg-stone-100 text-stone-800 hover:bg-stone-200 focus:bg-stone-200 focus:outline-hidden disabled:pointer-events-none disabled:opacity-50 dark:bg-neutral-700 dark:text-neutral-400 dark:hover:bg-neutral-600 dark:focus:bg-neutral-600" aria-label="Close" data-hs-overlay="#hs-pro-mistake-reflection">
          <span class="sr-only">Close</span>
          <svg class="size-4 shrink-0" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M18 6 6 18" />
            <path d="m6 6 12 12" />
          </svg>
        </button>
      </div>

      <div id="hs-modal-mistake-reflection-body" class="max-h-[75dvh] space-y-6 overflow-y-auto p-4 [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-thumb]:bg-stone-300 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500 [&::-webkit-scrollbar-track]:bg-stone-100 dark:[&::-webkit-scrollbar-track]:bg-neutral-700">
        <div>
          <h4 class="text-sm font-medium text-gray-900 dark:text-neutral-200 mb-3">Why do you think you got this question wrong?</h4>
          <div class="mt-3">
            <div class="grid grid-cols-1 space-y-6">
              
                <div class="flex gap-3 items-start">
                  <div class="flex h-6 shrink-0 items-center">
                    <input
                      id="hs-pro-mistake-reason-rushed"
                      type="radio"
                      name="hs-pro-mistake-reason"
                      value="rushed"
                      x-model="selectedReason"
                      aria-describedby="hs-pro-mistake-desc-rushed"
                      class="h-4 w-4 border-gray-300 text-emerald-600 focus:ring-emerald-600"
                    />
                  </div>

                  <div class="text-sm/6">
                    <label for="hs-pro-mistake-reason-rushed" class="font-medium text-gray-900 dark:text-neutral-200 cursor-pointer">
                      Rushed
                    </label>
                    <p id="hs-pro-mistake-desc-rushed" class="text-gray-500 dark:text-neutral-400">
                      Rushed through the problem.
                    </p>
                  </div>
                </div>
              
                <div class="flex gap-3 items-start">
                  <div class="flex h-6 shrink-0 items-center">
                    <input
                      id="hs-pro-mistake-reason-didnt-understand"
                      type="radio"
                      name="hs-pro-mistake-reason"
                      value="didnt-understand"
                      x-model="selectedReason"
                      aria-describedby="hs-pro-mistake-desc-didnt-understand"
                      class="h-4 w-4 border-gray-300 text-emerald-600 focus:ring-emerald-600"
                    />
                  </div>

                  <div class="text-sm/6">
                    <label for="hs-pro-mistake-reason-didnt-understand" class="font-medium text-gray-900 dark:text-neutral-200 cursor-pointer">
                      Didn&#39;t Understand Question
                    </label>
                    <p id="hs-pro-mistake-desc-didnt-understand" class="text-gray-500 dark:text-neutral-400">
                      Didn&#39;t understand what the question was asking you to do.
                    </p>
                  </div>
                </div>
              
                <div class="flex gap-3 items-start">
                  <div class="flex h-6 shrink-0 items-center">
                    <input
                      id="hs-pro-mistake-reason-misread"
                      type="radio"
                      name="hs-pro-mistake-reason"
                      value="misread"
                      x-model="selectedReason"
                      aria-describedby="hs-pro-mistake-desc-misread"
                      class="h-4 w-4 border-gray-300 text-emerald-600 focus:ring-emerald-600"
                    />
                  </div>

                  <div class="text-sm/6">
                    <label for="hs-pro-mistake-reason-misread" class="font-medium text-gray-900 dark:text-neutral-200 cursor-pointer">
                      Misread the Question
                    </label>
                    <p id="hs-pro-mistake-desc-misread" class="text-gray-500 dark:text-neutral-400">
                      Generally knew what the problem was asking but misread a key detail in the question or text.
                    </p>
                  </div>
                </div>
              
                <div class="flex gap-3 items-start">
                  <div class="flex h-6 shrink-0 items-center">
                    <input
                      id="hs-pro-mistake-reason-time-pressure"
                      type="radio"
                      name="hs-pro-mistake-reason"
                      value="time-pressure"
                      x-model="selectedReason"
                      aria-describedby="hs-pro-mistake-desc-time-pressure"
                      class="h-4 w-4 border-gray-300 text-emerald-600 focus:ring-emerald-600"
                    />
                  </div>

                  <div class="text-sm/6">
                    <label for="hs-pro-mistake-reason-time-pressure" class="font-medium text-gray-900 dark:text-neutral-200 cursor-pointer">
                      Time Pressure
                    </label>
                    <p id="hs-pro-mistake-desc-time-pressure" class="text-gray-500 dark:text-neutral-400">
                      Entered a guess as time was running out.
                    </p>
                  </div>
                </div>
              
                <div class="flex gap-3 items-start">
                  <div class="flex h-6 shrink-0 items-center">
                    <input
                      id="hs-pro-mistake-reason-calculation"
                      type="radio"
                      name="hs-pro-mistake-reason"
                      value="calculation"
                      x-model="selectedReason"
                      aria-describedby="hs-pro-mistake-desc-calculation"
                      class="h-4 w-4 border-gray-300 text-emerald-600 focus:ring-emerald-600"
                    />
                  </div>

                  <div class="text-sm/6">
                    <label for="hs-pro-mistake-reason-calculation" class="font-medium text-gray-900 dark:text-neutral-200 cursor-pointer">
                      Calculation Error
                    </label>
                    <p id="hs-pro-mistake-desc-calculation" class="text-gray-500 dark:text-neutral-400">
                      Knew how to solve the problem, but made a small mistake in calculation.
                    </p>
                  </div>
                </div>
              
                <div class="flex gap-3 items-start">
                  <div class="flex h-6 shrink-0 items-center">
                    <input
                      id="hs-pro-mistake-reason-lack-knowledge"
                      type="radio"
                      name="hs-pro-mistake-reason"
                      value="lack-knowledge"
                      x-model="selectedReason"
                      aria-describedby="hs-pro-mistake-desc-lack-knowledge"
                      class="h-4 w-4 border-gray-300 text-emerald-600 focus:ring-emerald-600"
                    />
                  </div>

                  <div class="text-sm/6">
                    <label for="hs-pro-mistake-reason-lack-knowledge" class="font-medium text-gray-900 dark:text-neutral-200 cursor-pointer">
                      Lack of Knowledge
                    </label>
                    <p id="hs-pro-mistake-desc-lack-knowledge" class="text-gray-500 dark:text-neutral-400">
                      Didn&#39;t know or forgot a key piece of information or formula needed to solve.
                    </p>
                  </div>
                </div>
              
                <div class="flex gap-3 items-start">
                  <div class="flex h-6 shrink-0 items-center">
                    <input
                      id="hs-pro-mistake-reason-careless"
                      type="radio"
                      name="hs-pro-mistake-reason"
                      value="careless"
                      x-model="selectedReason"
                      aria-describedby="hs-pro-mistake-desc-careless"
                      class="h-4 w-4 border-gray-300 text-emerald-600 focus:ring-emerald-600"
                    />
                  </div>

                  <div class="text-sm/6">
                    <label for="hs-pro-mistake-reason-careless" class="font-medium text-gray-900 dark:text-neutral-200 cursor-pointer">
                      Careless Mistake
                    </label>
                    <p id="hs-pro-mistake-desc-careless" class="text-gray-500 dark:text-neutral-400">
                      Knew how to solve the problem, but made a small slip-up, like a sign error or typo.
                    </p>
                  </div>
                </div>
              
                <div class="flex gap-3 items-start">
                  <div class="flex h-6 shrink-0 items-center">
                    <input
                      id="hs-pro-mistake-reason-wrong-strategy"
                      type="radio"
                      name="hs-pro-mistake-reason"
                      value="wrong-strategy"
                      x-model="selectedReason"
                      aria-describedby="hs-pro-mistake-desc-wrong-strategy"
                      class="h-4 w-4 border-gray-300 text-emerald-600 focus:ring-emerald-600"
                    />
                  </div>

                  <div class="text-sm/6">
                    <label for="hs-pro-mistake-reason-wrong-strategy" class="font-medium text-gray-900 dark:text-neutral-200 cursor-pointer">
                      Used Wrong Strategy
                    </label>
                    <p id="hs-pro-mistake-desc-wrong-strategy" class="text-gray-500 dark:text-neutral-400">
                      Knew what the problem was asking, but chose the wrong strategy to solve it.
                    </p>
                  </div>
                </div>
              
                <div class="flex gap-3 items-start">
                  <div class="flex h-6 shrink-0 items-center">
                    <input
                      id="hs-pro-mistake-reason-guessed"
                      type="radio"
                      name="hs-pro-mistake-reason"
                      value="guessed"
                      x-model="selectedReason"
                      aria-describedby="hs-pro-mistake-desc-guessed"
                      class="h-4 w-4 border-gray-300 text-emerald-600 focus:ring-emerald-600"
                    />
                  </div>

                  <div class="text-sm/6">
                    <label for="hs-pro-mistake-reason-guessed" class="font-medium text-gray-900 dark:text-neutral-200 cursor-pointer">
                      Guessed
                    </label>
                    <p id="hs-pro-mistake-desc-guessed" class="text-gray-500 dark:text-neutral-400">
                      Made a random guess without a clear strategy or understanding.
                    </p>
                  </div>
                </div>
              
                <div class="flex gap-3 items-start">
                  <div class="flex h-6 shrink-0 items-center">
                    <input
                      id="hs-pro-mistake-reason-others"
                      type="radio"
                      name="hs-pro-mistake-reason"
                      value="others"
                      x-model="selectedReason"
                      aria-describedby="hs-pro-mistake-desc-others"
                      class="h-4 w-4 border-gray-300 text-emerald-600 focus:ring-emerald-600"
                    />
                  </div>

                  <div class="text-sm/6">
                    <label for="hs-pro-mistake-reason-others" class="font-medium text-gray-900 dark:text-neutral-200 cursor-pointer">
                      Others
                    </label>
                    <p id="hs-pro-mistake-desc-others" class="text-gray-500 dark:text-neutral-400">
                      Category for when none of the other options apply.
                    </p>
                  </div>
                </div>
              
            </div>
          </div>

          <div class="mt-6">
            <label for="reflection-notes" class="block text-sm font-medium text-gray-900 dark:text-neutral-200 mb-2">Additional Notes (Optional)</label>
            <textarea 
              id="reflection-notes" 
              x-model="notes" 
              rows="3" 
              class="block w-full rounded-lg border-0 py-2 px-3 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-emerald-600 text-sm leading-6 dark:bg-neutral-900 dark:ring-neutral-700 dark:text-neutral-200 dark:placeholder:text-neutral-500 dark:focus:ring-emerald-500" 
              placeholder="Add any specific thoughts about this mistake...">
            </textarea>
          </div>
        </div>
      </div>
  
      <div class="flex justify-between gap-x-2 border-t border-stone-200 p-4 dark:border-neutral-700">
        <div class="flex flex-1 items-center justify-end gap-2">
          <button type="button" class="inline-flex items-center justify-center rounded-lg border border-gray-200 bg-white px-3 py-2 text-start align-middle text-sm font-medium text-nowrap whitespace-nowrap text-gray-800 shadow-2xs hover:bg-gray-50 focus:bg-gray-50 focus:outline-hidden disabled:pointer-events-none disabled:opacity-50 dark:border-neutral-700 dark:bg-neutral-800 dark:text-neutral-300 dark:hover:bg-neutral-700 dark:focus:bg-neutral-700" data-hs-overlay="#hs-pro-mistake-reflection">Skip</button>
          <button type="button" @click="saveReflection(selectedReason, notes)" data-hs-overlay="#hs-pro-mistake-reflection" class="inline-flex items-center justify-center gap-x-2 rounded-lg border border-emerald-600 bg-emerald-600 px-3 py-2 text-start align-middle text-sm font-medium text-nowrap whitespace-nowrap text-white shadow-2xs hover:bg-emerald-700 focus:ring-1 focus:ring-emerald-300 focus:outline-hidden disabled:pointer-events-none disabled:opacity-50 dark:focus:ring-emerald-500">Save Reflection</button>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  function questionReflection() {
    return {
      selectedReason: null,
      notes: '',
      reasons: [{"name":"Rushed","value":"rushed","description":"Rushed through the problem."},{"name":"Didn't Understand Question","value":"didnt-understand","description":"Didn't understand what the question was asking you to do."},{"name":"Misread the Question","value":"misread","description":"Generally knew what the problem was asking but misread a key detail in the question or text."},{"name":"Time Pressure","value":"time-pressure","description":"Entered a guess as time was running out."},{"name":"Calculation Error","value":"calculation","description":"Knew how to solve the problem, but made a small mistake in calculation."},{"name":"Lack of Knowledge","value":"lack-knowledge","description":"Didn't know or forgot a key piece of information or formula needed to solve."},{"name":"Careless Mistake","value":"careless","description":"Knew how to solve the problem, but made a small slip-up, like a sign error or typo."},{"name":"Used Wrong Strategy","value":"wrong-strategy","description":"Knew what the problem was asking, but chose the wrong strategy to solve it."},{"name":"Guessed","value":"guessed","description":"Made a random guess without a clear strategy or understanding."},{"name":"Others","value":"others","description":"Category for when none of the other options apply."}],
    }
  }
</script>

  <div x-cloak x-show="filteredQuestions.length == 0 && !isFetching">
    <div x-cloak x-show="filteredQuestions.length == 0">
  <!-- Empty State -->
<div class="p-5 h-[70vh] flex flex-col justify-center items-center text-center">
<svg class="w-48 mx-auto mb-4" width="178" height="90" viewBox="0 0 178 90" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="27" y="50.5" width="124" height="39" rx="7.5" fill="currentColor" class="fill-white"/>
<rect x="27" y="50.5" width="124" height="39" rx="7.5" stroke="currentColor" class="stroke-gray-50"/>
<rect x="34.5" y="58" width="24" height="24" rx="4" fill="currentColor" class="fill-gray-50"/>
<rect x="66.5" y="61" width="60" height="6" rx="3" fill="currentColor" class="fill-gray-50"/>
<rect x="66.5" y="73" width="77" height="6" rx="3" fill="currentColor" class="fill-gray-50"/>
<rect x="19.5" y="28.5" width="139" height="39" rx="7.5" fill="currentColor" class="fill-white"/>
<rect x="19.5" y="28.5" width="139" height="39" rx="7.5" stroke="currentColor" class="stroke-gray-100"/>
<rect x="27" y="36" width="24" height="24" rx="4" fill="currentColor" class="fill-gray-100"/>
<rect x="59" y="39" width="60" height="6" rx="3" fill="currentColor" class="fill-gray-100"/>
<rect x="59" y="51" width="92" height="6" rx="3" fill="currentColor" class="fill-gray-100"/>
<g filter="url(#filter19)">
<rect x="12" y="6" width="154" height="40" rx="8" fill="currentColor" class="fill-white" shape-rendering="crispEdges"/>
<rect x="12.5" y="6.5" width="153" height="39" rx="7.5" stroke="currentColor" class="stroke-gray-100" shape-rendering="crispEdges"/>
<rect x="20" y="14" width="24" height="24" rx="4" fill="currentColor" class="fill-gray-200 "/>
<rect x="52" y="17" width="60" height="6" rx="3" fill="currentColor" class="fill-gray-200"/>
<rect x="52" y="29" width="106" height="6" rx="3" fill="currentColor" class="fill-gray-200"/>
</g>
<defs>
<filter id="filter19" x="0" y="0" width="178" height="64" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset dy="6"/>
<feGaussianBlur stdDeviation="6"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.03 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1187_14810"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1187_14810" result="shape"/>
</filter>
</defs>
</svg>

<div class="max-w-sm mx-auto">
<p class="mt-2 font-medium text-gray-800">
  No questions found
</p>
<p class="mb-5 text-sm text-gray-500">
  Looks like there are no 
  <span class=""   x-text="filter
  ? filter
      .split('_')
      .map(word => word.charAt(0).toUpperCase() + word.slice(1))
      .join(' ')
  : ''"></span> 
  questions in 
  <span class="" x-text="currentSection.name"></span>.
</p>
</div>
</div>
</div>

  </div>
  <div x-cloak x-show="isFetching">
    <!-- Fullscreen Loading Overlay -->
<div class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50">
  <div class="text-center">
    <div role="status">
      <svg aria-hidden="true" class="inline w-10 h-10 text-gray-200 animate-spin fill-emerald-600" viewBox="0 0 100 101" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z" fill="currentColor"/>
        <path d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z" fill="currentFill"/>
      </svg>
      <span class="sr-only">Loading...</span>
    </div>
    <p class="mt-4 text-white text-sm">Fetching questions...</p>
  </div>
</div>

  </div>
</div>

  <div class="hidden md:block w-full md:w-1/5  bg-white border-l border-gray-200 flex flex-wrap">
  <div
  class="p-5 flex flex-wrap justify-center items-center text-center border-b border-gray-200 dark:border-neutral-800">
  <img class="shrink-0 size-16 rounded-full"
    src="https://images.unsplash.com/photo-1624224971170-2f84fed5eb5e?ixlib=rb-4.0.3&amp;ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&amp;auto=format&amp;fit=facearea&amp;facepad=2&amp;w=900&amp;h=900&amp;q=80"
    alt="Avatar">
  <div class="mt-2 w-full">
    <h2 class="text-lg font-medium text-gray-800 dark:text-neutral-200">
      Tommy Lowry
    </h2>
    <p class="text-[13px] text-gray-500 dark:text-neutral-500">
      Tommy@gmail.com
    </p>
  </div>
</div>
  <div class="flex flex-wrap gap-4 text-sm text-gray-500 border-b border-gray-200 p-3">

  <div class="flex items-center gap-1">
    <span class="w-8 h-8 flex items-center justify-center rounded-full bg-emerald-400 text-white text-sm font-semibold" x-text="currentSectionStats.correct"></span>
    Correct
  </div>
  <div class="flex items-center gap-1">
    <span class="w-8 h-8 flex items-center justify-center rounded-full bg-red-400 text-white text-sm font-semibold" x-text="currentSectionStats.incorrect"></span>
    Incorrect
  </div>
  <div class="flex items-center gap-1">
    <span class="w-8 h-8 flex items-center justify-center rounded-full bg-gray-200 text-gray-800 text-sm font-semibold" x-text="currentSectionStats.unanswered"></span>
    Unanswered
  </div>
  <div class="flex items-center gap-1">
    <span class="w-8 h-8 flex items-center justify-center rounded-full bg-yellow-400 text-white text-sm font-semibold" x-text="currentSectionStats.pending_evaluation"></span>
    Pending Evaluation
  </div>
</div>
  <div class="p-3">
  <div class="flex justify-between">
  <p class="text-wrap font-medium text-xs sm:text-sm text-gray-800 dark:text-neutral-200">
    Choose a Question
  </p>
  <div class="hidden md:block">
  <div class="hs-dropdown [--auto-close:inside] [--placement:bottom-right] relative inline-flex">
  <button id="hs-pro-dptfd" type="button" class="hs-tooltip-toggle relative size-9.5 inline-flex justify-center items-center gap-x-2 rounded-full border border-transparent text-gray-500 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none focus:outline-hidden focus:bg-gray-100 dark:text-neutral-400 dark:hover:bg-neutral-700 dark:focus:bg-neutral-700" aria-haspopup="menu" aria-expanded="false" aria-label="Dropdown">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-4 shrink-0">
      <path fill-rule="evenodd" d="M3.792 2.938A49.069 49.069 0 0 1 12 2.25c2.797 0 5.54.236 8.209.688a1.857 1.857 0 0 1 1.541 1.836v1.044a3 3 0 0 1-.879 2.121l-6.182 6.182a1.5 1.5 0 0 0-.439 1.061v2.927a3 3 0 0 1-1.658 2.684l-1.757.878A.75.75 0 0 1 9.75 21v-5.818a1.5 1.5 0 0 0-.44-1.06L3.13 7.938a3 3 0 0 1-.879-2.121V4.774c0-.897.64-1.683 1.542-1.836Z" clip-rule="evenodd" />
    </svg>
    <span class="flex absolute top-0 end-0 z-10 -mt-1.5 -me-1.5">
    
      <span x-cloak x-show="filter !='all'" class="relative min-w-4.5 min-h-4.5 inline-flex justify-center items-center text-[10px] bg-gray-500 text-white rounded-full px-1">
        1
      </span>
    </span>
  </button>
  <!-- End Notifications Button Icon -->

  <!-- Notifications Dropdown -->
  <div class="hs-dropdown-menu hs-dropdown-open:opacity-100 w-56 transition-[opacity,margin] duration opacity-0 hidden z-10 bg-white border border-gray-200  sm:rounded-lg shadow-md sm:shadow-xl dark:bg-neutral-900 dark:border-neutral-700" role="menu" aria-orientation="vertical" aria-labelledby="hs-pro-dnnd">
    <!-- Header -->


    <!-- Tab Content -->
    <div id="hs-pro-filter" role="tabpanel" aria-labelledby="hs-pro-tabs-dnn-item-all">
    <div class="p-4 space-y-5">
      <div>
        <label for="hs-pro-dalpn" class="block mb-2 text-sm font-medium text-gray-800 dark:text-white">
          Filter by response
        </label>

        <div class="relative">
          <select id="fontSelector" x-model="selected_filter" data-hs-select='{
            "placeholder": "Select font",
            "toggleTag": "<button type=\"button\" aria-expanded=\"false\"><div data-icon></div></button>",
            "toggleClasses": "hs-select-disabled:pointer-events-none hs-select-disabled:opacity-50 relative py-2 px-3 pe-7 flex items-center gap-x-2 text-nowrap w-full cursor-pointer bg-white border border-gray-200 rounded-lg text-start text-sm text-gray-800 hover:border-gray-300 focus:outline-hidden focus:border-gray-300 dark:bg-neutral-900 dark:border-neutral-800 dark:text-neutral-200 dark:hover:border-neutral-700 dark:focus:border-neutral-700",
            "dropdownClasses": "end-0 w-full min-w-45 max-h-72 p-1 space-y-0.5 z-50 w-full overflow-hidden overflow-y-auto bg-white rounded-xl shadow-xl [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 dark:[&::-webkit-scrollbar-track]:bg-neutral-700 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500 dark:bg-neutral-900",
            "optionClasses": "hs-selected:bg-gray-100 dark:hs-selected:bg-neutral-800 py-2 px-4 w-full text-sm text-gray-800 cursor-pointer hover:bg-gray-100 rounded-lg focus:outline-hidden focus:bg-gray-100 dark:text-neutral-300 dark:hover:bg-neutral-800 dark:focus:bg-neutral-800",
            "optionTemplate": "<div><div class=\"flex items-center gap-x-2\"><div data-icon></div><div class=\"text-gray-800 dark:text-neutral-200 \" data-title></div><span class=\"hidden hs-selected:block ms-auto\"><svg class=\"shrink-0 size-3.5 text-gray-800 dark:text-neutral-200 \" xmlns=\"http:.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><polyline points=\"20 6 9 17 4 12\"/></svg></span></div></div>"
          }' class="hidden">
          <option value="all">All</option>
          <option value="correct">Correct</option>
          <option value="incorrect">Incorrect</option>
          <option value="unanswered">Unanswered</option>
          <option value="pending_evaluation">Pending Evaluation</option>
          </select>

          <div class="absolute top-1/2 end-2.5 -translate-y-1/2">
            <svg class="shrink-0 size-3.5 text-gray-500 dark:text-neutral-500" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/></svg>
          </div>
          <!-- End Header -->
        </div>
      </div>


      <div class="flex-1 flex justify-end items-center gap-2">
        <button type="button" @click="filter='all'" class="hs-dropdown-close py-2 px-3 text-nowrap inline-flex justify-center items-center text-start whitespace-nowrap bg-white border border-gray-200 text-gray-800 text-sm font-medium rounded-lg shadow-2xs align-middle hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-300 dark:hover:bg-neutral-700 dark:focus:bg-neutral-700">
          Clear All
        </button>

        <button type="button" @click="setFilter(selected_filter)" class="hs-dropdown-close py-2 px-3 text-nowrap inline-flex justify-center items-center gap-x-2 text-start whitespace-nowrap bg-emerald-600 border border-emerald-600 text-white text-sm font-medium rounded-lg shadow-2xs align-middle hover:bg-emerald-700 disabled:opacity-50 disabled:pointer-events-none focus:outline-hidden focus:ring-1 focus:ring-emerald-300 dark:focus:ring-emerald-500">
          Apply
        </button>
      </div>

    </div>
    </div>
  </div>
</div>
</div>
</div>
  <div class="flex flex-wrap flex-grow gap-5 overflow-y-auto max-h-56 md:max-h-[calc(100vh-30rem)] mt-4">
    <template x-for="(q, index) in filteredQuestions" :key="q.q_no">
      <div class="relative">
        <button
          @click="goToQuestion(index)"
          class="w-8 h-8 rounded-full text-sm font-semibold"
          :class="{
            'bg-emerald-400 text-white': getQuestionStatus(q) === 'correct',
            'bg-red-400 text-white': getQuestionStatus(q) === 'incorrect',
            'bg-gray-200 text-gray-800': getQuestionStatus(q) === 'unanswered',
            'bg-yellow-400 text-white': getQuestionStatus(q) === 'pending_evaluation'
          }"
          x-text="q.q_no"
        ></button>
        <div x-show="hasReflection(q)" title="Reflected upon" class="absolute -bottom-1 -right-1 flex items-center justify-center">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" class="h-4 w-4 shrink-0 fill-yellow-300 text-gray-800 dark:fill-amber-400 dark:text-gray-200">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 001.5-.189m-1.5.189a6.01 6.01 0 01-1.5-.189m3.75 7.478a12.06 12.06 0 01-4.5 0m3.75 2.383a14.406 14.406 0 01-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 10-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"></path>
          </svg>
        </div>
      </div>
    </template>
  </div>
</div>

</div>

</div>
<footer class="sticky bottom-0 z-40 bg-white border-t border-gray-200 px-4 sm:px-6 py-3 z-40">  
  <div class="flex flex-1 justify-between items-center gap-2">
    <div class="space-x-2">
      <!-- Alert -->
      <div class="bg-white" role="alert" tabindex="-1" aria-labelledby="hs-pro-dpna-label">
        <div class="flex items-center gap-x-3">
          <div class="grow">
            <h3 id="hs-pro-dpna-label" class="text-sm md:text-base">
              <span class="block sm:hidden">Solutions</span>
              <span class="hidden sm:block">Show all solutions</span>
            </h3>
          </div>
          <div class="flex items-center self-stretch">
            <!-- Switch/Toggle -->
            <label for="hs-pro-dbcpns" class="relative inline-block w-11 h-6 cursor-pointer">
              <input type="checkbox" id="hs-pro-dbcpns" class="peer sr-only" x-model="showAllSolutions">
              <span class="absolute inset-0 bg-gray-200 rounded-full transition-colors duration-200 ease-in-out peer-checked:bg-emerald-600 peer-disabled:opacity-50 peer-disabled:pointer-events-none"></span>
              <span class="absolute top-1/2 start-0.5 -translate-y-1/2 size-5 bg-white rounded-full shadow-sm transition-transform duration-200 ease-in-out peer-checked:translate-x-full"></span>
            </label>
            <!-- End Switch/Toggle -->
          </div>
        </div>
      </div>
      <!-- End Alert -->
    </div>
    <div class="space-x-2">
      <a
        href="/exam_review/mindset_insights/"
        x-cloak
        x-show="hasAnyReflectedQuestions"
        class="py-2 px-3 text-nowrap inline-flex justify-center items-center gap-x-2 text-start whitespace-nowrap bg-white border border-gray-200 text-gray-800 text-sm font-medium rounded-lg shadow-2xs align-middle hover:bg-gray-50 dark:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-300 dark:hover:bg-neutral-700 dark:focus:bg-neutral-700"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="1.5"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="size-4 shrink-0"
        >
          <path d="M12 18V5" />
          <path d="M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4" />
          <path d="M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5" />
          <path d="M17.997 5.125a4 4 0 0 1 2.526 5.77" />
          <path d="M18 18a4 4 0 0 0 2-7.464" />
          <path d="M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517" />
          <path d="M6 18a4 4 0 0 1-2-7.464" />
          <path d="M6.003 5.125a4 4 0 0 0-2.526 5.77" />
        </svg>
        <span class="hidden sm:inline">Mindset Insights Report</span>
      </a>
      <button
        type="button"
        @click="goToQuestion(currentQuestionIndex - 1);"
        :disabled="currentQuestionIndex === 0"
        class="disabled:cursor-not-allowed py-2 px-3 text-nowrap inline-flex justify-center items-center text-start whitespace-nowrap bg-white border border-gray-200 text-gray-800 text-sm font-medium rounded-lg shadow-2xs align-middle hover:bg-gray-50 disabled:opacity-50 dark:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-300 dark:hover:bg-neutral-700 dark:focus:bg-neutral-700"
        data-hs-overlay="#hs-pro-daem"
        aria-expanded="true"
      >
        Previous
      </button>
      <button
        type="button"
        :disabled="currentQuestionIndex >= currentSection.questions.length - 1"
        @click="goToQuestion(currentQuestionIndex + 1);"
        class="disabled:cursor-not-allowed py-2 px-3 text-nowrap inline-flex justify-center items-center gap-x-2 text-start whitespace-nowrap bg-emerald-600 border border-emerald-600 text-white text-sm font-medium rounded-lg shadow-2xs align-middle hover:bg-emerald-700 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:ring-1 focus:ring-emerald-300 dark:focus:ring-emerald-500"
        data-hs-overlay="#hs-pro-daem"
        aria-expanded="true"
      >
        <span>Next</span>
      </button>
    </div>
  </div>
</footer>


</div>



    </div>

     
<script>
function examReviewComponent() {
  return {
    exam: {
      name: "Real CAT 2025 - Take Home Mock Test 01",
      sections: [
        { name: "Quantitative Aptitude", slug: "quantitative_aptitude", questions: [], loaded: false },
        { name: "Verbal Ability", slug: "verbal_ability", questions: [], loaded: false },
        { name: "Logical Reasoning", slug: "logical_reasoning", questions: [], loaded: false }
      ]
    },

    currentSectionIndex: 0,
    currentQuestionIndex: 0,

    showAllSolutions: false,
    filter: "all",
    selected_filter: "all",
    isFetching: false,
    touchStartX: 0,
    touchEndX: 0,
    swipeThreshold: 30,
    isSwapping:false,
    newFolderName:'',
    searchFolder:'',
    showQuestionComment:null,
    showReportQuestionModal:null,
    showReflectionToast: false,
    showPostReflectionGuide: false,
    autoHideInterval: null,
    progressValue: 100,
    isHoveringPostReflectionGuideToast: false,
    folders: [
    { 'name': 'Questions' },
    { 'name': 'Videos' },
    { 'name': 'Posts' },
    { 'name': 'Downloads' }
  ],

    init() {
      this.selectSection(0);
      this.addTouchEvent();
      this.addKeydownEvent();
    },

    get currentSection() {
      return this.exam.sections[this.currentSectionIndex];
    },

    get currentQuestion() {
      const questions = this.filteredQuestions;
      return questions[this.currentQuestionIndex] || {};
    },

    get unreflectedCount() {
      if (!this.currentSection || !this.currentSection.questions) return 0;
      return this.currentSection.questions.filter(q => 
        (q.response_status === 'incorrect' || q.response_status === 'unanswered') && 
        !q.has_reflected
      ).length;
    },

    get hasAnyReflectedQuestions() {
      return this.exam.sections.some(section => 
        section.loaded && section.questions.some(q => q.has_reflected)
      );
    },

    async selectSection(index) {
      this.currentSectionIndex = index;
      this.currentQuestionIndex = 0;

      const section = this.exam.sections[index];
      const previewPath = window.location.pathname.match(/(\/pr-preview\/pr-\d+)?/)[0] || '' 
      if (!section.loaded) {
        this.isFetching = true;

        // Simulate delay for loader visibility
        await new Promise(resolve => setTimeout(resolve, 3000));

        const res = await fetch(`${previewPath}/api/exam/${section.slug}.json`);
        const data = await res.json();

        this.exam.sections[index].questions = data.questions;
        this.exam.sections[index].loaded = true;
        this.isFetching = false;
      }

      this.scrollToTop();
      this.$watch('currentQuestion', () => {
          this.$nextTick(() => this.checkCurrentQuestionForReflection());
      });
    },

    addTouchEvent() {
        document.addEventListener('touchstart', e => {
          this.touchStartX = e.changedTouches[0].screenX;
        });
        document.addEventListener('touchend', e => {
          this.touchEndX = e.changedTouches[0].screenX;
          this.handleSwipe();
        });
    },

    
    handleSwipe() {
      if (this.isSwiping) return;
      this.isSwiping = true;
      const deltaX = this.touchEndX - this.touchStartX;
      if (Math.abs(deltaX) > this.swipeThreshold) {
        if (deltaX > 0) {
          if (this.currentQuestionIndex > 0) {
            this.goToQuestion(this.currentQuestionIndex - 1);
        }
        } else {
        if (this.currentQuestionIndex < this.currentSection.questions.length - 1) {
          this.goToQuestion(this.currentQuestionIndex + 1);
        }
        }
      }
      setTimeout(() => {
        this.isSwiping = false;
      }, 300);
     },

     addKeydownEvent() {
      document.addEventListener('keydown', this.handleKeydown.bind(this));
    },

    handleKeydown(event) {
      if(this.isSwapping) return
      this.isSwapping = true;
      if (event.key === 'ArrowLeft') {
        if (this.currentQuestionIndex > 0) {
          this.goToQuestion(this.currentQuestionIndex - 1);
        }
      } else if (event.key === 'ArrowRight') {
        if (this.currentQuestionIndex < this.currentSection.questions.length - 1) {
          this.goToQuestion(this.currentQuestionIndex + 1);
        }
      }
      setTimeout(() => {
    this.isSwapping = false;
    }, 300);
    },


    goToQuestion(index) {
      this.currentQuestionIndex = index;
      this.showPostReflectionGuide = false;
      this.scrollToTop();
    },

    setFilter(status) {
      this.filter = status;
      this.currentQuestionIndex = 0;
    },

    checkCurrentQuestionForReflection() {
      const status = this.getQuestionStatus(this.currentQuestion);
      this.showReflectionToast = (status === 'incorrect' || status === 'unanswered');
    },
    
    get filteredQuestions() {
      return this.currentSection.questions.filter(q => {
        if (this.filter === 'correct') {
          return q.response_status === 'correct';
        }
        if (this.filter === 'incorrect') {
          return q.response_status === 'incorrect';
        }
        if (this.filter === 'unanswered') {
          return q.response_status === 'unanswered';
        }

        if (this.filter === 'pending_evaluation') {
          return q.response_status === 'pending_evaluation';
        }
        // 'All'
        return true;
      });
    },

    scrollToTop() {
      window.scrollTo(0,0);
    },

    getQuestionStatus(question) {
      return question.response_status || 'unanswered';
    },

    get currentSectionStats() {
      const stats = {
        total: this.currentSection.questions.length,
        correct: 0,
        incorrect: 0,
        unanswered: 0,
        pending_evaluation: 0
      };

      for (const q of this.currentSection.questions) {
        const status = this.getQuestionStatus(q);
        if (stats[status] !== undefined) stats[status]++;
      }

      return stats;
    },

    getGapFillHTML() {
      if (this.currentQuestion.type !== 'gap_fill') return '';

      const text = this.currentQuestion.question;
      const blanks = (text.match(/\[BLANK_\d+\]/g) || []).length;
      const parts = text.split(/\[BLANK_\d+\]/g);

      return parts.map((part, index) => {
        const userAns = this.currentQuestion.user_answer?.[index] || '';
        const correctAns = this.currentQuestion.correct_answer?.[index] || '';
        const isCorrect = userAns.trim().toLowerCase() === correctAns.trim().toLowerCase();

        const answerSpan = index < blanks
          ? `<span class="${isCorrect ? 'border-b-2 border-emerald-500 text-emerald-500' : 'border-b-2 border-red-500 text-red-500'} font-medium px-1">${userAns}</span>`
          : '';

        return `${part}${answerSpan}`;
      }).join('');
    },

    getGapFillCorrectHTML() {
      if (this.currentQuestion.type !== 'gap_fill') return '';

      const text = this.currentQuestion.question;
      const blanks = (text.match(/\[BLANK_\d+\]/g) || []).length;
      const parts = text.split(/\[BLANK_\d+\]/g);

      return parts.map((part, index) => {
        const correctAns = this.currentQuestion.correct_answer?.[index] || '';

        const answerSpan = index < blanks
          ? `<span class="border-b-2 border-gray-500 text-gray-800 font-medium px-1">${correctAns}</span>`
          : '';

        return `${part}${answerSpan}`;
      }).join('');
    },


    filterQuestionsByStatus(status) {
      return this.currentSection.questions.filter(q => this.getQuestionStatus(q) === status);
    },

    getExplanation(question) {
      return question.explanation || null;
    },

    getFeedback(question) {
      return question.feedback || null;
    },

    hasReflection(question) {
      return question.has_reflected === true;
    },

    startPostReflectionAutoHide() {
      const DURATION = 5000;
      const INTERVAL = 50;

      this.progressValue = 100;
      this.isHoveringPostReflectionGuideToast = false;
      clearInterval(this.autoHideInterval);
      
      const step = 100 / (DURATION / INTERVAL);

      this.autoHideInterval = setInterval(() => {
        if (!this.isHoveringPostReflectionGuideToast) {
          this.progressValue -= step;
          if (this.progressValue <= 0) {
            this.progressValue = 0;
            this.showPostReflectionGuide = false;
            clearInterval(this.autoHideInterval);
          }
        }
      }, INTERVAL);
    },

    saveReflection() {
      if (this.currentQuestion) {
        this.currentQuestion.has_reflected = true;
        this.showReflectionToast = false;
        
        this.showPostReflectionGuide = true;
        this.startPostReflectionAutoHide();
      }
    },

  };
}
</script>
<script>
  function scrollTabsData() {
    return {
      canScrollLeft: false,
      canScrollRight: false,

      scrollTabsLeft() {
        this.$refs.tabList.scrollBy({ left: -150, behavior: 'smooth' });
        this.updateScrollState();
      },

      scrollTabsRight() {
        this.$refs.tabList.scrollBy({ left: 150, behavior: 'smooth' });
        this.updateScrollState();
      },

      updateScrollState() {

        const el = this.$refs.tabList;
        console.log(el.scrollLeft + el.clientWidth)
        console.log(el.scrollWidth)
        this.canScrollLeft = el.scrollLeft > 0;
        this.canScrollRight = el.scrollLeft + el.clientWidth < el.scrollWidth;
      }
    };
  }
</script>

<script src="/node_modules/lodash/lodash.min.js"></script>
<script src="/node_modules/dropzone/dist/dropzone-min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@preline/file-upload@3.0.0/index.min.js"></script>

  </body>


</html>
