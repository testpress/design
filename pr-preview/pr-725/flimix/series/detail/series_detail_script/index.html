<script>
  function seriesDetail() {
    return {
      activeSeason: 1,
      series: {
        id: 1,
        title: 'Game of Thrones',
        description: 'Nine noble families fight for control over the lands of Westeros, while an ancient enemy returns after being dormant for millennia.',
        rating: 9.3,
        year: 2011,
        creator: 'David Benioff, D.B. Weiss',
        cast: 'Emilia Clarke, Peter Dinklage, Kit Harington, Lena Headey, Sophie Turner, Maisie Williams, Nikolaj Coster-Waldau',
        genres: ['Adventure', 'Drama', 'Fantasy'],
        bannerImage: 'https://images.unsplash.com/photo-1645808651017-c5e3018553c7?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=1920',
        seasons: [
          {
            number: 1,
            episodes: [
              {
                id: 1,
                number: 1,
                title: 'Winter Is Coming',
                description: 'Ned Stark becomes the Hand of the King and tries to find out who killed the previous Hand, Jon Arryn. Meanwhile, across the Narrow Sea, Viserys Targaryen plans to wed his sister to a nomadic warlord in exchange for an army.',
                thumbnail: 'https://images.unsplash.com/photo-1574269909862-7e1d70bb8078?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=800',
                duration: 62,
                watchStatus: 'watched',
                watchProgress: 100,
                watchedTime: 62
              },
              {
                id: 2,
                number: 2,
                title: 'The Kingsroad',
                description: 'While Bran recovers from his fall, Ned takes only his daughters to King\'s Landing. Jon Snow goes with his uncle Benjen to the Wall. Tyrion joins them.',
                thumbnail: 'https://images.unsplash.com/photo-1574269909862-7e1d70bb8078?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=800',
                duration: 56,
                watchStatus: 'watched',
                watchProgress: 100,
                watchedTime: 56
              },
              {
                id: 3,
                number: 3,
                title: 'Lord Snow',
                description: 'Jon begins his training with the Night\'s Watch; Ned confronts his past and future; Sansa has Princess dreams; Bran has a strange dream.',
                thumbnail: 'https://images.unsplash.com/photo-1574269909862-7e1d70bb8078?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=800',
                duration: 58,
                watchStatus: 'watched',
                watchProgress: 100,
                watchedTime: 58
              },
              {
                id: 4,
                number: 4,
                title: 'Cripples, Bastards, and Broken Things',
                description: 'Eddard investigates Jon Arryn\'s murder. Jon takes measures to protect Samwell Tarly, a new and fearful recruit, while Tyrion is caught spying on Catelyn.',
                thumbnail: 'https://images.unsplash.com/photo-1574269909862-7e1d70bb8078?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=800',
                duration: 56,
                watchStatus: 'watched',
                watchProgress: 100,
                watchedTime: 56
              },
              {
                id: 5,
                number: 5,
                title: 'The Wolf and the Lion',
                description: 'Catelyn has captured Tyrion and plans to bring him to her sister, Lysa, at the Vale, to be tried for his, supposed, crimes against Bran. Robert and the Lannisters demand his release.',
                thumbnail: 'https://images.unsplash.com/photo-1574269909862-7e1d70bb8078?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=800',
                duration: 55,
                watchStatus: null,
                watchProgress: 68,
                watchedTime: 37
              },
              {
                id: 6,
                number: 6,
                title: 'A Golden Crown',
                description: 'While recovering from his battle with Jaime, Eddard is forced to run the kingdom while Robert goes hunting. Tyrion demands a trial by combat for his freedom.',
                thumbnail: 'https://images.unsplash.com/photo-1574269909862-7e1d70bb8078?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=800',
                duration: 53,
                watchStatus: null,
                watchProgress: 0,
                watchedTime: 0
              },
              {
                id: 7,
                number: 7,
                title: 'You Win or You Die',
                description: 'Robert has been injured while hunting and is dying. Jon and the others finally take their vows to the Night\'s Watch. A man, sent by Robert, is captured for trying to assassinate Daenerys.',
                thumbnail: 'https://images.unsplash.com/photo-1574269909862-7e1d70bb8078?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=800',
                duration: 58,
                watchStatus: null,
                watchProgress: 0,
                watchedTime: 0
              },
              {
                id: 8,
                number: 8,
                title: 'The Pointy End',
                description: 'Arya manages to escape, but Sansa is taken hostage by the Lannisters. Ned is also imprisoned. Jon is forced to join the Night\'s Watch in their fight against the wildlings.',
                thumbnail: 'https://images.unsplash.com/photo-1574269909862-7e1d70bb8078?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=800',
                duration: 59,
                watchStatus: null,
                watchProgress: 0,
                watchedTime: 0
              },
              {
                id: 9,
                number: 9,
                title: 'Baelor',
                description: 'Robb goes to war against the Lannisters. Jon finds himself struggling on deciding if his place is with Robb or the Night\'s Watch. Drogo has fallen ill from a fresh battle wound.',
                thumbnail: 'https://images.unsplash.com/photo-1574269909862-7e1d70bb8078?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=800',
                duration: 57,
                watchStatus: null,
                watchProgress: 0,
                watchedTime: 0
              },
              {
                id: 10,
                number: 10,
                title: 'Fire and Blood',
                description: 'With Ned dead, Robb vows to get revenge on the Lannisters. Jon must officially decide if his place is with Robb or the Night\'s Watch. Daenerys says her final goodbye to Drogo.',
                thumbnail: 'https://images.unsplash.com/photo-1574269909862-7e1d70bb8078?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=800',
                duration: 64,
                watchStatus: null,
                watchProgress: 0,
                watchedTime: 0
              }
            ]
          },
          {
            number: 2,
            episodes: [
              {
                id: 11,
                number: 1,
                title: 'The North Remembers',
                description: 'Tyrion arrives at King\'s Landing to take his father\'s place as Hand of the King. Stannis Baratheon plans to take the Iron Throne for his own.',
                thumbnail: 'https://images.unsplash.com/photo-1574269909862-7e1d70bb8078?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=800',
                duration: 54,
                watchStatus: null,
                watchProgress: 0,
                watchedTime: 0
              },
              {
                id: 12,
                number: 2,
                title: 'The Night Lands',
                description: 'Arya makes friends with Gendry, a blacksmith\'s apprentice. On the road north, Yoren, a man of the Night\'s Watch, offers to escort her to Winterfell.',
                thumbnail: 'https://images.unsplash.com/photo-1574269909862-7e1d70bb8078?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=800',
                duration: 54,
                watchStatus: null,
                watchProgress: 0,
                watchedTime: 0
              },
              {
                id: 13,
                number: 3,
                title: 'What Is Dead May Never Die',
                description: 'Theon must decide if his loyalties lie with his own family or with the Starks. Meanwhile, as a token of peace, Tyrion gives Myrcella away in marriage.',
                thumbnail: 'https://images.unsplash.com/photo-1574269909862-7e1d70bb8078?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=800',
                duration: 53,
                watchStatus: null,
                watchProgress: 0,
                watchedTime: 0
              },
              {
                id: 14,
                number: 4,
                title: 'Garden of Bones',
                description: 'Joffrey punishes Sansa for Robb\'s victories, and Tyrion scrambles to temper the king\'s cruelty. Catelyn entreats Stannis and Renly to unite against the Lannisters.',
                thumbnail: 'https://images.unsplash.com/photo-1574269909862-7e1d70bb8078?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=800',
                duration: 52,
                watchStatus: null,
                watchProgress: 0,
                watchedTime: 0
              },
              {
                id: 15,
                number: 5,
                title: 'The Ghost of Harrenhal',
                description: 'Theon completes his master stroke. In King\'s Landing, the Lannisters send Myrcella off to be married. Arya comes face to face with a surprise visitor.',
                thumbnail: 'https://images.unsplash.com/photo-1574269909862-7e1d70bb8078?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=800',
                duration: 55,
                watchStatus: null,
                watchProgress: 0,
                watchedTime: 0
              }
            ]
          },
          {
            number: 3,
            episodes: [
              {
                id: 16,
                number: 1,
                title: 'Valar Dohaeris',
                description: 'Jon is brought before Mance Rayder, the King Beyond the Wall, while the Night\'s Watch survivors retreat south. In King\'s Landing, Tyrion asks for his reward.',
                thumbnail: 'https://images.unsplash.com/photo-1574269909862-7e1d70bb8078?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=800',
                duration: 55,
                watchStatus: null,
                watchProgress: 0,
                watchedTime: 0
              },
              {
                id: 17,
                number: 2,
                title: 'Dark Wings, Dark Words',
                description: 'Bran and company meet Jojen and Meera Reed. Arya, Gendry, and Hot Pie meet the Brotherhood. Jaime travels through the wilderness with Brienne.',
                thumbnail: 'https://images.unsplash.com/photo-1574269909862-7e1d70bb8078?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=800',
                duration: 57,
                watchStatus: null,
                watchProgress: 0,
                watchedTime: 0
              },
              {
                id: 18,
                number: 3,
                title: 'Walk of Punishment',
                description: 'Robb and Catelyn must make amends with Walder Frey. The Night\'s Watch takes stock of their losses. Daenerys exchanges one of her dragons for the Unsullied.',
                thumbnail: 'https://images.unsplash.com/photo-1574269909862-7e1d70bb8078?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=800',
                duration: 54,
                watchStatus: null,
                watchProgress: 0,
                watchedTime: 0
              }
            ]
          },
          {
            number: 4,
            episodes: [
              {
                id: 19,
                number: 1,
                title: 'Two Swords',
                description: 'Tyrion welcomes a surprise guest to King\'s Landing for the royal wedding, but receives a cold reception from Cersei. Arya and the Hound come across an old friend.',
                thumbnail: 'https://images.unsplash.com/photo-1574269909862-7e1d70bb8078?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=800',
                duration: 58,
                watchStatus: null,
                watchProgress: 0,
                watchedTime: 0
              },
              {
                id: 20,
                number: 2,
                title: 'The Lion and the Rose',
                description: 'The royal wedding is underway. Ramsay tries to prove his worth to his father. Stannis and Davos set up a meeting with the Iron Bank.',
                thumbnail: 'https://images.unsplash.com/photo-1574269909862-7e1d70bb8078?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=800',
                duration: 52,
                watchStatus: null,
                watchProgress: 0,
                watchedTime: 0
              }
            ]
          },
          {
            number: 5,
            episodes: [
              {
                id: 21,
                number: 1,
                title: 'The Wars to Come',
                description: 'Cersei and Jaime adjust to a world without Tywin. Varys reveals a conspiracy to Tyrion. Daenerys faces a new threat to her rule. Jon is caught between two kings.',
                thumbnail: 'https://images.unsplash.com/photo-1574269909862-7e1d70bb8078?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=800',
                duration: 53,
                watchStatus: null,
                watchProgress: 0,
                watchedTime: 0
              },
              {
                id: 22,
                number: 2,
                title: 'The House of Black and White',
                description: 'Arya arrives in Braavos. Podrick and Brienne run into trouble on the road. Cersei fears for the safety of her daughter, Myrcella.',
                thumbnail: 'https://images.unsplash.com/photo-1574269909862-7e1d70bb8078?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=800',
                duration: 54,
                watchStatus: null,
                watchProgress: 0,
                watchedTime: 0
              }
            ]
          },
          {
            number: 6,
            episodes: [
              {
                id: 23,
                number: 1,
                title: 'The Red Woman',
                description: 'The fate of Jon Snow is revealed. Daenerys meets a strong man. Cersei sees her daughter again. Arya trains to be No One.',
                thumbnail: 'https://images.unsplash.com/photo-1574269909862-7e1d70bb8078?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=800',
                duration: 50,
                watchStatus: null,
                watchProgress: 0,
                watchedTime: 0
              },
              {
                id: 24,
                number: 2,
                title: 'Home',
                description: 'Bran trains with the Three-Eyed Raven. In King\'s Landing, Jaime advises Tommen. Tyrion demands good news, but has to make his own.',
                thumbnail: 'https://images.unsplash.com/photo-1574269909862-7e1d70bb8078?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=800',
                duration: 54,
                watchStatus: null,
                watchProgress: 0,
                watchedTime: 0
              }
            ]
          },
          {
            number: 7,
            episodes: [
              {
                id: 25,
                number: 1,
                title: 'Dragonstone',
                description: 'Jon organizes the defense of the North. Cersei tries to even the odds. Daenerys comes home. Arya reminds the Freys "The North remembers".',
                thumbnail: 'https://images.unsplash.com/photo-1574269909862-7e1d70bb8078?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=800',
                duration: 59,
                watchStatus: null,
                watchProgress: 0,
                watchedTime: 0
              },
              {
                id: 26,
                number: 2,
                title: 'Stormborn',
                description: 'Daenerys receives an unexpected visitor. Jon faces resistance. Tyrion plans the conquest of Westeros.',
                thumbnail: 'https://images.unsplash.com/photo-1574269909862-7e1d70bb8078?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=800',
                duration: 59,
                watchStatus: null,
                watchProgress: 0,
                watchedTime: 0
              }
            ]
          },
          {
            number: 8,
            episodes: [
              {
                id: 27,
                number: 1,
                title: 'The Last Watch',
                description: 'In the aftermath of the Battle of Winterfell, the survivors prepare for the final battle. The Night King\'s army has been defeated, but the war is not over.',
                thumbnail: 'https://images.unsplash.com/photo-1574269909862-7e1d70bb8078?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=800',
                duration: 80,
                watchStatus: null,
                watchProgress: 0,
                watchedTime: 0
              },
              {
                id: 28,
                number: 2,
                title: 'The Iron Throne',
                description: 'The series finale. The survivors of the Great War face the final choice: who will sit on the Iron Throne?',
                thumbnail: 'https://images.unsplash.com/photo-1574269909862-7e1d70bb8078?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&q=80&w=800',
                duration: 80,
                watchStatus: null,
                watchProgress: 0,
                watchedTime: 0
              }
            ]
          }
        ]
      },

      watchNow() {
        // Navigate to first unwatched episode or first episode
        const firstUnwatched = this.getFirstUnwatchedEpisode();
        if (firstUnwatched) {
          this.playEpisode(firstUnwatched);
        } else {
          this.playEpisode(this.series.seasons[0].episodes[0]);
        }
      },

      playEpisode(episode) {
        // Navigate to episode player
        window.location.href = `/flimix/series/${this.series.id}/episode/${episode.id}/`;
      },

      getFirstUnwatchedEpisode() {
        for (const season of this.series.seasons) {
          for (const episode of season.episodes) {
            if (episode.watchProgress < 100) {
              return episode;
            }
          }
        }
        return null;
      },

      addToList() {
        // Add to watchlist functionality
        alert('Added to watchlist');
      },

      share() {
        // Share functionality
        if (navigator.share) {
          navigator.share({
            title: this.series.title,
            text: this.series.description,
            url: window.location.href
          });
        } else {
          // Fallback: copy to clipboard
          navigator.clipboard.writeText(window.location.href);
          alert('Link copied to clipboard');
        }
      }
    };
  }
</script>