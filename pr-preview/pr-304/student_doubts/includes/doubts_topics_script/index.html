<script>
function doubtsTopicsComponents() {
  return {
    topics: JSON.parse('[{"id":1,"name":"NEET","sub_topic":[{"id":1,"name":"Maths","sub_topic":[{"id":1,"name":"Algebra"},{"id":2,"name":"Geometry"}]},{"id":2,"name":"Physics","sub_topic":[{"id":1,"name":"Mechanics"},{"id":2,"name":"Electrodynamics"}]},{"id":3,"name":"Chemistry","sub_topic":[{"id":1,"name":"Organic Chemistry"},{"id":2,"name":"Inorganic Chemistry"}]},{"id":4,"name":"Biology","sub_topic":[{"id":1,"name":"Botany"},{"id":2,"name":"Zoology"}]}]},{"id":2,"name":"JEE MAIN","sub_topic":[{"id":1,"name":"Mathematics","sub_topic":[{"id":1,"name":"Calculus"},{"id":2,"name":"Algebra"}]},{"id":2,"name":"Physics"},{"id":3,"name":"Thermodynamics"},{"id":4,"name":"Science"}]},{"id":3,"name":"JEE ADVANCED"},{"id":4,"name":"AAIMS 2025"},{"id":5,"name":"IIT 2025"},{"id":6,"name":"I dont Know"}]'),
    selectedTopics:[],

    addToSelectedTopic(topic){
        this.selectedTopics.push(topic);
    },

    removeNextTopics(itemToRemove) {
    const indexToRemove = this.selectedTopics.findIndex(item => item.id === itemToRemove.id);
    if (indexToRemove !== -1) {
        this.selectedTopics.splice(indexToRemove + 1, this.selectedTopics.length - indexToRemove - 1);
    }
  },


    loadPrevoiusTopics(prevoius_topic){
      if(!prevoius_topic){
          this.selectedTopics =[];
          this.topics = JSON.parse('[{"id":1,"name":"NEET","sub_topic":[{"id":1,"name":"Maths","sub_topic":[{"id":1,"name":"Algebra"},{"id":2,"name":"Geometry"}]},{"id":2,"name":"Physics","sub_topic":[{"id":1,"name":"Mechanics"},{"id":2,"name":"Electrodynamics"}]},{"id":3,"name":"Chemistry","sub_topic":[{"id":1,"name":"Organic Chemistry"},{"id":2,"name":"Inorganic Chemistry"}]},{"id":4,"name":"Biology","sub_topic":[{"id":1,"name":"Botany"},{"id":2,"name":"Zoology"}]}]},{"id":2,"name":"JEE MAIN","sub_topic":[{"id":1,"name":"Mathematics","sub_topic":[{"id":1,"name":"Calculus"},{"id":2,"name":"Algebra"}]},{"id":2,"name":"Physics"},{"id":3,"name":"Thermodynamics"},{"id":4,"name":"Science"}]},{"id":3,"name":"JEE ADVANCED"},{"id":4,"name":"AAIMS 2025"},{"id":5,"name":"IIT 2025"},{"id":6,"name":"I dont Know"}]')
      } else {
        this.topics = prevoius_topic.sub_topic
        this.removeNextTopics(prevoius_topic)
      }
    },

    showSubTopics(topic){
      if(topic.sub_topic){
       this.topics = topic.sub_topic
       this.addToSelectedTopic(topic)
      }
    },
  }
}
</script>