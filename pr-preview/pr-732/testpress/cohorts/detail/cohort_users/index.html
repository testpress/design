<div x-data="cohortUsersTable()"
  class="p-5 flex flex-col bg-white border border-gray-200 overflow-hidden rounded-xl shadow-2xs dark:bg-neutral-800 dark:border-neutral-700">
  <!-- Tabs -->
  <nav
    class="relative flex space-x-1 after:absolute after:bottom-0 after:inset-x-0 after:border-b-2 after:border-gray-200 dark:after:border-neutral-700"
    aria-label="Tabs" role="tablist" aria-orientation="horizontal">
    <button type="button" @click="activeTab = 'all'"
      :class="activeTab === 'all' ? 'text-gray-800 after:bg-gray-800 dark:text-neutral-200 dark:after:bg-neutral-400' : 'text-gray-500 dark:text-gray-500'"
      class="px-2.5 py-1.5 mb-2 relative inline-flex justify-center items-center gap-x-2 hover:text-gray-800 text-sm rounded-lg disabled:opacity-50 disabled:pointer-events-none focus:outline-hidden focus:bg-gray-100 after:absolute after:-bottom-2 after:inset-x-0 after:z-10 after:h-0.5 after:pointer-events-none dark:hover:text-neutral-300 dark:hover:bg-neutral-700 dark:focus:bg-neutral-700"
      role="tab">
      All
      <span
        :class="activeTab === 'all' ? 'inline-flex items-center justify-center font-medium text-[10px] py-0.5 px-[5px] bg-gray-800 dark:bg-neutral-500 text-white leading-3 rounded-full min-w-[1.25rem]' : 'rounded-full bg-gray-100 text-gray-600 px-2.5 py-0.5 text-xs font-medium dark:bg-neutral-700 dark:text-neutral-300'"
        class="ml-2" x-text="allCount"></span>
    </button>
    <button type="button" @click="activeTab = 'approved'"
      :class="activeTab === 'approved' ? 'text-gray-800 after:bg-gray-800 dark:text-neutral-200 dark:after:bg-neutral-400' : 'text-gray-500 dark:text-gray-500'"
      class="px-2.5 py-1.5 mb-2 relative inline-flex justify-center items-center gap-x-2 hover:text-gray-800 text-sm rounded-lg disabled:opacity-50 disabled:pointer-events-none focus:outline-hidden focus:bg-gray-100 after:absolute after:-bottom-2 after:inset-x-0 after:z-10 after:h-0.5 after:pointer-events-none dark:hover:text-neutral-300 dark:hover:bg-neutral-700 dark:focus:bg-neutral-700"
      role="tab">
      Approved
      <span
        :class="activeTab === 'approved' ? 'inline-flex items-center justify-center font-medium text-[10px] py-0.5 px-[5px] bg-gray-800 dark:bg-neutral-500 text-white leading-3 rounded-full min-w-[1.25rem]' : 'rounded-full bg-gray-100 text-gray-600 px-2.5 py-0.5 text-xs font-medium dark:bg-neutral-700 dark:text-neutral-300'"
        class="ml-2" x-text="approvedCount"></span>
    </button>
    <button type="button" @click="activeTab = 'pending'"
      :class="activeTab === 'pending' ? 'text-gray-800 after:bg-gray-800 dark:text-neutral-200 dark:after:bg-neutral-400' : 'text-gray-500 dark:text-gray-500'"
      class="px-2.5 py-1.5 mb-2 relative inline-flex justify-center items-center gap-x-2 hover:text-gray-800 text-sm rounded-lg disabled:opacity-50 disabled:pointer-events-none focus:outline-hidden focus:bg-gray-100 after:absolute after:-bottom-2 after:inset-x-0 after:z-10 after:h-0.5 after:pointer-events-none dark:hover:text-neutral-300 dark:hover:bg-neutral-700 dark:focus:bg-neutral-700"
      role="tab">
      Pending
      <span
        :class="activeTab === 'pending' ? 'inline-flex items-center justify-center font-medium text-[10px] py-0.5 px-[5px] bg-gray-800 dark:bg-neutral-500 text-white leading-3 rounded-full min-w-[1.25rem]' : 'rounded-full bg-gray-100 text-gray-600 px-2.5 py-0.5 text-xs font-medium dark:bg-neutral-700 dark:text-neutral-300'"
        class="ml-2" x-text="pendingCount"></span>
    </button>
    <button type="button" @click="activeTab = 'rejected'"
      :class="activeTab === 'rejected' ? 'text-gray-800 after:bg-gray-800 dark:text-neutral-200 dark:after:bg-neutral-400' : 'text-gray-500 dark:text-gray-500'"
      class="px-2.5 py-1.5 mb-2 relative inline-flex justify-center items-center gap-x-2 hover:text-gray-800 text-sm rounded-lg disabled:opacity-50 disabled:pointer-events-none focus:outline-hidden focus:bg-gray-100 after:absolute after:-bottom-2 after:inset-x-0 after:z-10 after:h-0.5 after:pointer-events-none dark:hover:text-neutral-300 dark:hover:bg-neutral-700 dark:focus:bg-neutral-700"
      role="tab">
      Rejected
      <span
        :class="activeTab === 'rejected' ? 'inline-flex items-center justify-center font-medium text-[10px] py-0.5 px-[5px] bg-gray-800 dark:bg-neutral-500 text-white leading-3 rounded-full min-w-[1.25rem]' : 'rounded-full bg-gray-100 text-gray-600 px-2.5 py-0.5 text-xs font-medium dark:bg-neutral-700 dark:text-neutral-300'"
        class="ml-2" x-text="rejectedCount"></span>
    </button>
  </nav>
  <!-- End Tabs -->

  <!-- Search -->
  <div class="py-4 border-b border-gray-200 dark:border-neutral-700">
    <div class="grid md:grid-cols-2 gap-y-2 md:gap-y-0 md:gap-x-5">
      <div>
        <!-- Search Input -->
        <div class="relative">
          <div class="absolute inset-y-0 start-0 flex items-center pointer-events-none z-20 ps-3.5">
            <svg class="shrink-0 size-4 text-gray-500 dark:text-neutral-400" xmlns="http://www.w3.org/2000/svg"
              width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
              stroke-linecap="round" stroke-linejoin="round">
              <circle cx="11" cy="11" r="8"></circle>
              <path d="m21 21-4.3-4.3"></path>
            </svg>
          </div>
          <input type="text" x-model="searchQuery"
            class="py-[7px] ps-10 pe-8 block w-full bg-gray-100 border-transparent rounded-lg text-sm placeholder:text-gray-500 focus:border-emerald-500 focus:ring-emerald-600 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-700 dark:border-transparent dark:text-neutral-400 dark:placeholder:text-neutral-400 dark:focus:ring-neutral-600"
            placeholder="Search by name, email, phone">
        </div>
        <!-- End Search Input -->
      </div>
      <!-- End Col -->

      <div class="flex md:justify-end items-center gap-x-2">
        <!-- Resubmit Selected Button (Only for Rejected Tab) -->
        <template x-if="activeTab === 'rejected' && selectedUsers.length > 0">
          <button type="button" @click="bulkResubmit()"
            class="py-2 px-2.5 inline-flex items-center gap-x-1.5 text-xs font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-sm hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:bg-gray-50 dark:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-300 dark:hover:bg-neutral-700 dark:focus:bg-neutral-700">
            Resubmit Selected
          </button>
        </template>
      </div>
      <!-- End Col -->
    </div>
  </div>
  <!-- End Search -->

  <!-- Table Section -->
  <div
    class="overflow-x-auto overflow-y-visible [&::-webkit-scrollbar]:h-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 dark:[&::-webkit-scrollbar-track]:bg-neutral-700 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500">
    <div class="min-w-full inline-block align-middle">
      <!-- Table -->
      <table class="min-w-full divide-y divide-gray-200 dark:divide-neutral-700">
        <thead>
          <tr class="border-t border-gray-200 dark:border-neutral-700">
            <!-- Checkbox Column (only for rejected tab) -->
            <template x-if="activeTab === 'rejected'">
              <th scope="col" class="w-[50px] px-4 py-2.5">
                <div class="flex items-center">
                  <input type="checkbox" @change="toggleAllUsers()"
                    :checked="filteredUsers.length > 0 && filteredUsers.every(u => selectedUsers.includes(u.id))"
                    class="hs-datatable-select-row shrink-0 border-gray-300 rounded-sm text-green-600 focus:ring-green-600 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-800 dark:border-neutral-600 dark:checked:bg-green-500 dark:checked:border-green-500 dark:focus:ring-offset-neutral-800">
                </div>
              </th>
            </template>

            <!-- User Name Column -->
            <th scope="col"
              class="min-w-[200px] px-5 py-2.5 text-start text-sm font-normal text-gray-500 dark:text-neutral-500">
              User Name
            </th>

            <!-- Email Column -->
            <th scope="col"
              class="min-w-[200px] px-4 py-2.5 text-start text-sm font-normal text-gray-500 dark:text-neutral-500">
              Email
            </th>

            <!-- Aadhar Column -->
            <th scope="col"
              class="min-w-[150px] px-4 py-2.5 text-start text-sm font-normal text-gray-500 dark:text-neutral-500">
              Aadhar
            </th>

            <!-- Status Column (not for approved and pending tabs) -->
            <template x-if="activeTab === 'all' || activeTab === 'rejected'">
              <th scope="col"
                class="min-w-[120px] px-4 py-2.5 text-start text-sm font-normal text-gray-500 dark:text-neutral-500">
                Status
              </th>
            </template>

            <!-- Reason Column (not for pending tab) -->
            <template x-if="activeTab === 'all' || activeTab === 'approved' || activeTab === 'rejected'">
              <th scope="col"
                class="min-w-[250px] px-4 py-2.5 text-start text-sm font-normal text-gray-500 dark:text-neutral-500">
                Reason
              </th>
            </template>

            <!-- Action Column -->
            <th scope="col" class="min-w-[120px] px-4 py-2.5"></th>
          </tr>
        </thead>

        <tbody class="divide-y divide-gray-200 dark:divide-neutral-700">
          <template x-for="user in filteredUsers" :key="user.id">
            <tr>
              <!-- Checkbox (only for rejected tab) -->
              <template x-if="activeTab === 'rejected'">
                <td class="size-px whitespace-nowrap px-4 py-3">
                  <div class="flex items-center">
                    <input type="checkbox" :checked="selectedUsers.includes(user.id)"
                      @change="toggleUserSelection(user.id)"
                      class="hs-datatable-select-row shrink-0 border-gray-300 rounded-sm text-green-600 focus:ring-green-600 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-800 dark:border-neutral-600 dark:checked:bg-green-500 dark:checked:border-green-500 dark:focus:ring-offset-neutral-800">
                  </div>
                </td>
              </template>

              <!-- User Name -->
              <td class="size-px whitespace-nowrap px-5 py-3">
                <div class="w-full flex items-center gap-x-3">
                  <template x-if="user.avatar">
                    <img class="shrink-0 size-[38px] rounded-full" :src="user.avatar" :alt="user.user_name + ' Image'">
                  </template>
                  <template x-if="!user.avatar">
                    <span
                      class="flex shrink-0 justify-center items-center size-[38px] bg-white border border-gray-200 text-gray-700 text-lg font-medium uppercase rounded-full dark:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-300">
                      <span x-text="user.user_name.split(' ').map(n => n[0]).join('').substring(0, 2)"></span>
                    </span>
                  </template>
                  <div class="flex space-x-2 grow">
                    <a class="text-sm truncate max-w-[12rem] font-medium text-gray-800 hover:text-emerald-600 decoration-2 hover:underline focus:outline-none focus:underline focus:text-emerald-600 dark:text-neutral-200 dark:hover:text-emerald-500 dark:focus:text-emerald-500"
                      href="#">
                      <span x-text="user.user_name"></span>
                    </a>
                  </div>
                </div>
              </td>

              <!-- Email -->
              <td class="size-px px-4 py-3">
                <span class="text-sm text-gray-800 dark:text-neutral-200" x-text="user.email"></span>
              </td>

              <!-- Aadhar -->
              <td class="size-px px-4 py-3">
                <span class="text-sm text-gray-800 dark:text-neutral-200" x-text="user.aadhar || '-'"></span>
              </td>

              <!-- Status (not for approved and pending tabs) -->
              <template x-if="activeTab === 'all' || activeTab === 'rejected'">
                <td class="size-px whitespace-nowrap px-4 py-3">
                  <template x-if="user.status === 'approved'">
                    <span
                      class="capitalize py-1.5 px-2 inline-flex items-center gap-x-1.5 text-xs font-medium bg-green-100 text-green-800 rounded-full dark:bg-green-500/10 dark:text-green-500">
                      <svg class="shrink-0 size-3.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                        viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M20 6 9 17l-5-5" />
                      </svg>
                      Approved
                    </span>
                  </template>
                  <template x-if="user.status === 'rejected'">
                    <span
                      class="capitalize py-1.5 px-2 inline-flex items-center gap-x-1.5 text-xs font-medium bg-red-100 text-red-800 rounded-full dark:bg-red-500/10 dark:text-red-500">
                      <svg class="shrink-0 size-3.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                        viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M18 6 6 18" />
                        <path d="m6 6 12 12" />
                      </svg>
                      Rejected
                    </span>
                  </template>
                  <template x-if="user.status === 'pending'">
                    <span
                      class="capitalize py-1.5 px-2 inline-flex items-center gap-x-1.5 text-xs font-medium bg-yellow-100 text-yellow-800 rounded-full dark:bg-yellow-500/10 dark:text-yellow-500">
                      <svg class="shrink-0 size-3.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                        viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10" />
                        <path d="M12 6v6" />
                        <path d="M12 16h.01" />
                      </svg>
                      Pending
                    </span>
                  </template>
                </td>
              </template>

              <!-- Reason (not for pending tab) -->
              <template x-if="activeTab === 'all' || activeTab === 'approved' || activeTab === 'rejected'">
                <td class="size-px px-4 py-3">
                  <template x-if="user.reason">
                    <div x-data="{
                      popoverOpen: false,
                      popoverArrow: true,
                      popoverPosition: 'bottom',
                      popoverTop: 0,
                      popoverLeft: 0,
                      popoverHeight: 120,
                      popoverOffset: 8,
                      hoverTimeout: null,
                      popoverPositionCalculate(){
                        if(this.$refs.popoverButton && this.$refs.popover) {
                          let buttonRect = this.$refs.popoverButton.getBoundingClientRect();
                          let popoverWidth = 300;
                          let popoverHeight = this.popoverHeight;
                          
                          // Calculate horizontal position (centered on button)
                          this.popoverLeft = buttonRect.left + (buttonRect.width / 2) - (popoverWidth / 2);
                          
                          // Ensure popover doesn't go off screen horizontally
                          if(this.popoverLeft < 10) {
                            this.popoverLeft = 10;
                          } else if(this.popoverLeft + popoverWidth > window.innerWidth - 10) {
                            this.popoverLeft = window.innerWidth - popoverWidth - 10;
                          }
                          
                          // Calculate vertical position
                          let spaceBelow = window.innerHeight - buttonRect.bottom;
                          let spaceAbove = buttonRect.top;
                          
                          if(spaceBelow >= (popoverHeight + this.popoverOffset) || spaceBelow > spaceAbove) {
                            this.popoverPosition = 'bottom';
                            this.popoverTop = buttonRect.bottom + this.popoverOffset;
                          } else {
                            this.popoverPosition = 'top';
                            this.popoverTop = buttonRect.top - popoverHeight - this.popoverOffset;
                          }
                        }
                      },
                      openPopover() {
                        this.popoverPositionCalculate()
                        clearTimeout(this.hoverTimeout);
                        if(window.innerWidth >= 640) {
                          this.popoverOpen = true;
                        }
                      },
                      closePopover() {
                        let that = this;
                        this.hoverTimeout = setTimeout(function() {
                          that.popoverOpen = false;
                        }, 100);
                      }
                    }" x-init="
                      that = this;
                      window.addEventListener('resize', function(){
                        that.popoverPositionCalculate();
                      });
                      window.addEventListener('scroll', function(){
                        if(that.popoverOpen) {
                          that.popoverPositionCalculate();
                        }
                      }, true);
                      $watch('popoverOpen', function(value){
                        if(value){ 
                          setTimeout(function() {
                            that.popoverPositionCalculate();
                          }, 10);
                        }
                      });
                    " class="relative inline-block w-full">
                      <div x-ref="popoverButton" @mouseenter="openPopover()" @mouseleave="closePopover()"
                        class="text-sm text-gray-800 dark:text-neutral-200 line-clamp-2 cursor-pointer">
                        <span x-text="user.reason"></span>
                      </div>

                      <div x-ref="popover" x-show="popoverOpen" @mouseenter="openPopover()" @mouseleave="closePopover()"
                        @click.away="popoverOpen=false;" @keydown.escape.window="popoverOpen=false"
                        :style="'position: fixed; top: ' + popoverTop + 'px; left: ' + popoverLeft + 'px;'"
                        class="w-[300px] max-w-lg z-[9999]" x-cloak>
                        <div x-ref="popoverInner" x-show="popoverOpen"
                          class="relative w-full p-4 bg-white border rounded-md shadow-lg border-neutral-200/70 dark:bg-neutral-800 dark:border-neutral-700">
                          <div x-show="popoverArrow && popoverPosition == 'bottom'"
                            class="absolute -top-2.5 inline-block w-5 overflow-hidden left-1/2 -translate-x-1/2">
                            <div
                              class="w-2.5 h-2.5 origin-bottom-left transform rotate-45 bg-white border-t border-l rounded-sm dark:bg-neutral-800 dark:border-neutral-700">
                            </div>
                          </div>
                          <div x-show="popoverArrow && popoverPosition == 'top'"
                            class="absolute -bottom-2.5 inline-block w-5 overflow-hidden left-1/2 -translate-x-1/2">
                            <div
                              class="w-2.5 h-2.5 origin-top-left transform -rotate-45 bg-white border-b border-l rounded-sm dark:bg-neutral-800 dark:border-neutral-700">
                            </div>
                          </div>
                          <div class="space-y-2">
                            <h4 class="text-sm font-medium text-gray-800 dark:text-neutral-200">Reason</h4>
                            <p class="text-sm text-gray-600 dark:text-neutral-400" x-text="user.reason"></p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </template>
                  <template x-if="!user.reason">
                    <span class="block text-sm text-gray-400 dark:text-neutral-500 italic">-</span>
                  </template>
                </td>
              </template>

              <!-- Action -->
              <td class="size-px whitespace-nowrap px-4 py-3">
                <template x-if="user.status === 'rejected'">
                  <button type="button" @click="resubmitUser(user.id)"
                    class="py-2 px-2.5 inline-flex items-center gap-x-1.5 text-xs font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-xs hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none focus:outline-hidden focus:ring-2 focus:ring-gray-500 dark:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-300 dark:hover:bg-neutral-700">
                    Resubmit
                  </button>
                </template>
                <template x-if="user.status !== 'rejected'">
                  <span class="text-sm text-gray-400 dark:text-neutral-500">-</span>
                </template>
              </td>
            </tr>
          </template>
        </tbody>
      </table>
      <!-- End Table -->
    </div>
  </div>
  <!-- End Table Section -->

  <!-- Empty State -->
  <template x-if="filteredUsers.length === 0">
    <div class="p-8 text-center">
      <p class="text-sm text-gray-500 dark:text-neutral-400">No users found</p>
    </div>
  </template>
  <!-- End Empty State -->
</div>

<script>
  function cohortUsersTable() {
    return {
      activeTab: 'all',
      selectedUsers: [],
      searchQuery: '',
      showFilterModal: false,
      users: [
        {
          id: 1,
          user_name: 'John Doe',
          email: 'john.doe@example.com',
          aadhar: '1234-5678-9012',
          status: 'approved',
          reason: null,
          avatar: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=faces'
        },
        {
          id: 2,
          user_name: 'Jane Smith',
          email: 'jane.smith@example.com',
          aadhar: '2345-6789-0123',
          status: 'pending',
          reason: null,
          avatar: 'https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=150&h=150&fit=crop&crop=faces'
        },
        {
          id: 3,
          user_name: 'Bob Johnson',
          email: 'bob.johnson@example.com',
          aadhar: '3456-7890-1234',
          status: 'rejected',
          reason: 'Missing required documents. Please provide valid identification proof and address verification documents.',
          avatar: 'https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&h=150&fit=crop&crop=faces'
        },
        {
          id: 4,
          user_name: 'Alice Williams',
          email: 'alice.williams@example.com',
          aadhar: '4567-8901-2345',
          status: 'approved',
          reason: 'All documents verified successfully.',
          avatar: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=faces'
        },
        {
          id: 5,
          user_name: 'Charlie Brown',
          email: 'charlie.brown@example.com',
          aadhar: '5678-9012-3456',
          status: 'rejected',
          reason: 'Incomplete application form. Several mandatory fields were left blank including emergency contact information and previous educational background details.',
          avatar: null
        },
        {
          id: 6,
          user_name: 'Diana Prince',
          email: 'diana.prince@example.com',
          aadhar: '6789-0123-4567',
          status: 'pending',
          reason: null,
          avatar: 'https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?w=150&h=150&fit=crop&crop=faces'
        }
      ],

      get allCount() {
        return this.users.length;
      },

      get approvedCount() {
        return this.users.filter(u => u.status === 'approved').length;
      },

      get pendingCount() {
        return this.users.filter(u => u.status === 'pending').length;
      },

      get rejectedCount() {
        return this.users.filter(u => u.status === 'rejected').length;
      },

      get filteredUsers() {
        let filtered = this.users;

        // Filter by tab
        if (this.activeTab !== 'all') {
          filtered = filtered.filter(u => u.status === this.activeTab);
        }

        // Filter by search query
        if (this.searchQuery) {
          const query = this.searchQuery.toLowerCase();
          filtered = filtered.filter(u =>
            u.user_name.toLowerCase().includes(query) ||
            u.email.toLowerCase().includes(query) ||
            (u.aadhar && u.aadhar.toLowerCase().includes(query))
          );
        }

        return filtered;
      },

      toggleAllUsers() {
        const allSelected = this.filteredUsers.every(u => this.selectedUsers.includes(u.id));
        if (allSelected) {
          this.selectedUsers = this.selectedUsers.filter(id => !this.filteredUsers.some(u => u.id === id));
        } else {
          this.filteredUsers.forEach(user => {
            if (!this.selectedUsers.includes(user.id)) {
              this.selectedUsers.push(user.id);
            }
          });
        }
      },

      toggleUserSelection(userId) {
        const index = this.selectedUsers.indexOf(userId);
        if (index > -1) {
          this.selectedUsers.splice(index, 1);
        } else {
          this.selectedUsers.push(userId);
        }
      },

      clearSelection() {
        this.selectedUsers = [];
      },

      resubmitUser(userId) {
        // Handle individual resubmit
        console.log('Resubmitting user:', userId);
        // In production, this would make an API call
      },

      bulkResubmit() {
        // Handle bulk resubmit
        console.log('Resubmitting users:', this.selectedUsers);
        // In production, this would make an API call
        this.clearSelection();
      },

      openBulkApproveModal() {
        // Handle bulk approve
        console.log('Bulk approve users:', this.selectedUsers);
        // In production, this would open a modal
      },

      openBulkRejectModal() {
        // Handle bulk reject
        console.log('Bulk reject users:', this.selectedUsers);
        // In production, this would open a modal
      },

      getActiveFiltersCount() {
        let count = 0;
        if (this.searchQuery) count++;
        return count;
      }
    };
  }
</script>