<!-- AI Quiz Content Tab -->
<div id="ai-quiz-content" class="hs-tab-content" role="tabpanel" aria-labelledby="ai-quiz-tab" style="display: none;">
  <div class="h-full flex flex-col">
    <!-- Create Quiz View -->
    <div id="create-quiz-view" class="h-full flex flex-col">
      <div class="flex-1 overflow-y-auto p-4">
        <!-- Quiz Card -->
        <div class="bg-white dark:bg-neutral-900 rounded-xl border border-gray-200 dark:border-neutral-700 p-4" style="display: block;">
          <!-- Content Layout - Left: Text, Right: Actions -->
          <div class="flex flex-row items-center justify-between gap-3">
            <!-- Left Side: Title and Description -->
            <div>
              <h3 class="text-sm font-medium text-gray-800 dark:text-neutral-200 mb-1">Create Quiz</h3>
              <p class="text-xs text-gray-600 dark:text-neutral-400">Create quiz sets with preferred question types, difficulty, and more.</p>
            </div>
            
            <!-- Right Side: Filter Icon and Generate Button -->
            <div class="flex items-center gap-2 flex-shrink-0">
              <!-- Filter Icon Button -->
              <button type="button" class="p-1.5 inline-flex justify-center items-center text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors dark:text-neutral-400 dark:hover:text-neutral-200 dark:hover:bg-neutral-700" title="Customize">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75" />
                </svg>
              </button>
              
              <!-- Generate Button -->
              <button type="button" id="generate-quiz-btn" class="py-1.5 px-3 inline-flex items-center gap-x-2 text-xs font-medium rounded-lg border border-emerald-600 bg-emerald-600 text-white shadow-2xs hover:bg-emerald-700 disabled:opacity-50 disabled:pointer-events-none dark:bg-emerald-500 dark:border-emerald-500 dark:hover:bg-emerald-600 dark:focus:bg-emerald-600">
                Generate
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Quizzes List View (Hidden by default) -->
    <div id="quizzes-list-view" class="h-full flex flex-col" style="display: none;">
      <!-- AI Quizzes List View -->
<div id="ai-quizzes-list" class="h-full flex flex-col">
  <!-- Header with CTA Buttons -->
  <div class="flex items-center justify-between px-5 py-4 border-gray-200 dark:border-neutral-700">
    <div class="min-w-0 flex-1">
      <h3 class="text-sm font-medium text-gray-800 dark:text-neutral-200">Quizzes</h3>
    </div>
    <div class="flex items-center gap-2">
      <!-- Customize Button -->
      <button type="button" class="p-1.5 inline-flex justify-center items-center text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors dark:text-neutral-400 dark:hover:text-neutral-200 dark:hover:bg-neutral-700" title="Customize">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4">
          <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75" />
        </svg>
      </button>
      
      <!-- Generate Button -->
      <button type="button" id="quizzes-generate-btn" class="py-1.5 px-3 inline-flex items-center gap-x-1.5 text-xs font-medium rounded-lg border border-emerald-600 bg-emerald-600 text-white shadow-2xs hover:bg-emerald-700 disabled:opacity-50 disabled:pointer-events-none focus:outline-hidden focus:bg-emerald-700 dark:bg-emerald-500 dark:border-emerald-500 dark:hover:bg-emerald-600 dark:focus:bg-emerald-600">
        Generate
      </button>
    </div>
  </div>

  <!-- Quizzes List -->
  <div class="flex-1 overflow-y-auto p-4">
    <div class="space-y-4">
      
      <!-- Skeleton Loading Card (Hidden by default) -->
      <div id="quiz-skeleton" class="bg-white dark:bg-neutral-900 rounded-xl border border-gray-200 dark:border-neutral-700 p-4 animate-pulse" style="display: none;">
        <div class="flex items-start justify-between mb-3">
          <!-- Title skeleton -->
          <div class="h-4 bg-gray-200 dark:bg-neutral-700 rounded w-3/4"></div>
          <!-- Three dot menu skeleton -->
          <div class="h-6 w-6 bg-gray-200 dark:bg-neutral-700 rounded"></div>
        </div>
        
        <!-- Progress Bar skeleton -->
        <div class="space-y-2">
          <div class="flex justify-between">
            <div class="h-3 bg-gray-200 dark:bg-neutral-700 rounded w-16"></div>
            <div class="h-3 bg-gray-200 dark:bg-neutral-700 rounded w-12"></div>
          </div>
          <div class="w-full bg-gray-200 dark:bg-neutral-700 rounded-full h-1.5">
            <div class="bg-gray-300 dark:bg-neutral-600 h-1.5 rounded-full w-1/3"></div>
          </div>
        </div>
      </div>
      
      <!-- Quiz cards will be dynamically added here by JavaScript -->
      
    </div>
  </div>
</div>
<!-- End AI Quizzes List View -->

    </div>
    
    <!-- Quiz Detail View (Hidden by default) -->
    <div id="quiz-detail-view" class="h-full flex flex-col" style="display: none;">
      <!-- Back Button Header -->
      <div class="flex items-center p-4 border-b border-gray-200 dark:border-neutral-700">
        <button type="button" onclick="showQuizList()" class="p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors dark:text-neutral-400 dark:hover:text-neutral-200 dark:hover:bg-neutral-700">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5">
            <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18" />
          </svg>
        </button>
        <h3 class="ml-3 text-sm font-medium text-gray-800 dark:text-neutral-200">Quiz Detail</h3>
      </div>
      
      <!-- Quiz Content Area -->
      <div class="flex-1 overflow-y-auto p-4" style="display: block !important;">
        <!-- Quiz Card -->
        <div class="bg-white dark:bg-neutral-900 rounded-lg shadow-sm border border-gray-200 dark:border-neutral-700" style="display: block !important;">
          
          <!-- Debug: Quiz content is here -->
          <div class="p-4 bg-yellow-100 border border-yellow-300 rounded mb-4">
            <p class="text-sm text-yellow-800">DEBUG: Quiz content should be visible below</p>
          </div>
          
          <!-- Question 1 -->
          <div class="p-6" id="question-1" style="display: block !important; visibility: visible !important; opacity: 1 !important;">
            <!-- Question -->
            <div class="mb-6">
              <h4 class="text-sm font-medium text-gray-800 dark:text-neutral-200 mb-2">
                1. What was the primary lifestyle of people until 10,000 B.C.E.?
              </h4>
            </div>
            
            <!-- Options -->
            <div class="grid grid-cols-1 gap-3">
              <div class="option-item flex items-start justify-between p-3 rounded-lg border transition-colors cursor-pointer" data-question="0" data-option="Agricultural" data-correct="Nomadic" onclick="selectOption(this)">
                <div class="flex items-start flex-1 min-w-0">
                  <span class="text-sm font-medium text-gray-700 dark:text-neutral-300 mr-3 flex-shrink-0 mt-0.5">A.</span>
                  <div class="text-gray-700 dark:text-neutral-300 break-words leading-relaxed line-clamp-2 overflow-hidden">Agricultural</div>
                </div>
                <div class="checkmark-icon hidden">
                  <svg class="w-5 h-5 text-emerald-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 12 2 2 4-4m6 2a9 9 0 1 1-18 0 9 9 0 0 1 18 0z"></path>
                  </svg>
                </div>
                <div class="wrong-icon hidden">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-red-500">
                    <circle cx="12" cy="12" r="10"></circle>
                    <path d="m15 9-6 6"></path>
                    <path d="m9 9 6 6"></path>
                  </svg>
                </div>
              </div>
              
              <div class="option-item flex items-start justify-between p-3 rounded-lg border transition-colors cursor-pointer" data-question="0" data-option="Nomadic" data-correct="Nomadic" onclick="selectOption(this)">
                <div class="flex items-start flex-1 min-w-0">
                  <span class="text-sm font-medium text-gray-700 dark:text-neutral-300 mr-3 flex-shrink-0 mt-0.5">B.</span>
                  <div class="text-gray-700 dark:text-neutral-300 break-words leading-relaxed line-clamp-2 overflow-hidden">Nomadic</div>
                </div>
                <div class="checkmark-icon hidden">
                  <svg class="w-5 h-5 text-emerald-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 12 2 2 4-4m6 2a9 9 0 1 1-18 0 9 9 0 0 1 18 0z"></path>
                  </svg>
                </div>
                <div class="wrong-icon hidden">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-red-500">
                    <circle cx="12" cy="12" r="10"></circle>
                    <path d="m15 9-6 6"></path>
                    <path d="m9 9 6 6"></path>
                  </svg>
                </div>
              </div>
              
              <div class="option-item flex items-start justify-between p-3 rounded-lg border transition-colors cursor-pointer" data-question="0" data-option="Urban" data-correct="Nomadic" onclick="selectOption(this)">
                <div class="flex items-start flex-1 min-w-0">
                  <span class="text-sm font-medium text-gray-700 dark:text-neutral-300 mr-3 flex-shrink-0 mt-0.5">C.</span>
                  <div class="text-gray-700 dark:text-neutral-300 break-words leading-relaxed line-clamp-2 overflow-hidden">Urban</div>
                </div>
                <div class="checkmark-icon hidden">
                  <svg class="w-5 h-5 text-emerald-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 12 2 2 4-4m6 2a9 9 0 1 1-18 0 9 9 0 0 1 18 0z"></path>
                  </svg>
                </div>
                <div class="wrong-icon hidden">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-red-500">
                    <circle cx="12" cy="12" r="10"></circle>
                    <path d="m15 9-6 6"></path>
                    <path d="m9 9 6 6"></path>
                  </svg>
                </div>
              </div>
              
              <div class="option-item flex items-start justify-between p-3 rounded-lg border transition-colors cursor-pointer" data-question="0" data-option="Industrial" data-correct="Nomadic" onclick="selectOption(this)">
                <div class="flex items-start flex-1 min-w-0">
                  <span class="text-sm font-medium text-gray-700 dark:text-neutral-300 mr-3 flex-shrink-0 mt-0.5">D.</span>
                  <div class="text-gray-700 dark:text-neutral-300 break-words leading-relaxed line-clamp-2 overflow-hidden">Industrial</div>
                </div>
                <div class="checkmark-icon hidden">
                  <svg class="w-5 h-5 text-emerald-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 12 2 2 4-4m6 2a9 9 0 1 1-18 0 9 9 0 0 1 18 0z"></path>
                  </svg>
                </div>
                <div class="wrong-icon hidden">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-5 h-5 text-red-500">
                    <circle cx="12" cy="12" r="10"></circle>
                    <path d="m15 9-6 6"></path>
                    <path d="m9 9 6 6"></path>
                  </svg>
                </div>
              </div>
            </div>
            
            <!-- Hint Section -->
            <div class="mt-4">
              <button type="button" class="hint-btn text-xs text-gray-600 dark:text-neutral-400 hover:text-gray-700 dark:hover:text-neutral-300 flex items-center" onclick="toggleHint('0')">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-3 h-3 mr-1">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"></path>
                </svg>
                <span class="hint-text">See Hint</span>
              </button>
              
              <div class="hint-container hidden mt-3">
                <div class="text-xs text-gray-600 dark:text-neutral-400 bg-gray-50 dark:bg-neutral-800 px-3 py-2 rounded-md border border-gray-200 dark:border-neutral-600">
                  <span>Think about how early humans survived before agriculture.</span>
                </div>
              </div>
            </div>
            
            <!-- Explanation Section -->
            <div class="explanation-container hidden mt-4">
              <div class="explanation-card bg-gray-50 dark:bg-neutral-800 border border-gray-200 dark:border-neutral-600 rounded-lg p-4">
                <div class="flex items-center mb-3">
                  <svg class="w-4 h-4 mr-2 text-gray-600 dark:text-neutral-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                  </svg>
                  <h5 class="text-sm font-medium text-gray-800 dark:text-neutral-200">Explanation</h5>
                </div>
                <p class="text-sm text-gray-700 dark:text-neutral-300 mb-3">Until 10,000 B.C.E., people lived a nomadic lifestyle, wandering in groups in search of food and shelter.</p>
              </div>
            </div>
          </div>
          
          <!-- Navigation Controls -->
          <div class="flex items-center justify-between px-6 pb-4">
            <button type="button" class="nav-btn prev-btn flex items-center justify-center w-8 h-8 text-gray-500 dark:text-neutral-400 hover:text-gray-700 dark:hover:text-neutral-300 transition-colors disabled:opacity-40 disabled:cursor-not-allowed" onclick="navigateQuestion('prev')" disabled>
              <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
              </svg>
            </button>
            
            <div class="text-sm font-medium text-gray-600 dark:text-neutral-400">
              <span class="current-question">1</span> / <span class="total-questions">2</span>
            </div>
            
            <button type="button" class="nav-btn next-btn flex items-center justify-center w-8 h-8 text-gray-500 dark:text-neutral-400 hover:text-gray-700 dark:hover:text-neutral-300 transition-colors disabled:opacity-40 disabled:cursor-not-allowed" onclick="navigateQuestion('next')">
              <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
              </svg>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Make quiz data available to JavaScript -->
  <script>
    // Expose quiz data to global scope for JavaScript access
    window.aiPdfQuizzes = [{"id":1,"title":"Probability Concepts And Distributions","completed":0,"total":15,"status":"not_started"},{"id":2,"title":"Foundational Mathematics For Machine Learning","completed":3,"total":20,"status":"in_progress"},{"id":3,"title":"Linear Models And SVMs","completed":8,"total":12,"status":"in_progress"},{"id":4,"title":"Neural Networks Fundamentals","completed":0,"total":18,"status":"not_started"},{"id":5,"title":"Deep Learning Architectures","completed":12,"total":16,"status":"in_progress"}];
  </script>
  
  <!-- JavaScript for view switching -->
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const generateBtn = document.getElementById('generate-quiz-btn');
      const createQuizView = document.getElementById('create-quiz-view');
      const quizzesListView = document.getElementById('quizzes-list-view');
      const quizSkeleton = document.getElementById('quiz-skeleton');
      
      const quizData = window.aiPdfQuizzes || [];
      let currentQuizIndex = 0;
      
      if (generateBtn) {
        generateBtn.addEventListener('click', function() {
          // Check if we have more quizzes to show
          if (currentQuizIndex >= quizData.length) {
            return; // Don't proceed if no more quizzes
          }
          
          // Hide create quiz view
          createQuizView.style.display = 'none';
          // Show quizzes list view
          quizzesListView.style.display = 'block';
          
          // Show skeleton loading at the top
          if (quizSkeleton) {
            quizSkeleton.style.display = 'block';
            // Move skeleton to the top of the list
            const quizzesContainer = document.querySelector('#quizzes-list-view .space-y-4');
            if (quizzesContainer.firstChild !== quizSkeleton) {
              quizzesContainer.insertBefore(quizSkeleton, quizzesContainer.firstChild);
            }
          }
          
          // Fill skeleton with quiz data after 500ms
          setTimeout(() => {
            if (currentQuizIndex < quizData.length) {
              fillSkeletonWithQuiz(quizData[currentQuizIndex]);
              currentQuizIndex++;
            }
          }, 500);
        });
      }
      
      // Also handle the Generate button in the Quizzes header
      const quizzesGenerateBtn = document.getElementById('quizzes-generate-btn');
      if (quizzesGenerateBtn) {
        quizzesGenerateBtn.addEventListener('click', function() {
          // Check if we have more quizzes to show
          if (currentQuizIndex >= quizData.length) {
            return; // Don't proceed if no more quizzes
          }
          
          // Show skeleton loading at the top
          if (quizSkeleton) {
            quizSkeleton.style.display = 'block';
            // Move skeleton to the top of the list
            const quizzesContainer = document.querySelector('#quizzes-list-view .space-y-4');
            if (quizzesContainer.firstChild !== quizSkeleton) {
              quizzesContainer.insertBefore(quizSkeleton, quizzesContainer.firstChild);
            }
          }
          
          // Fill skeleton with next quiz data after 500ms
          setTimeout(() => {
            if (currentQuizIndex < quizData.length) {
              fillSkeletonWithQuiz(quizData[currentQuizIndex]);
              currentQuizIndex++;
            }
          }, 500);
        });
      }
      
      function fillSkeletonWithQuiz(quiz) {
        // Create quiz card with actual data
        const quizCard = createQuizCard(quiz);
        
        // Replace skeleton with the new quiz card
        if (quizSkeleton) {
          quizSkeleton.outerHTML = quizCard;
        }
        
        // Reinitialize Preline dropdowns
        if (window.HSStaticMethods) {
          window.HSStaticMethods.autoInit();
        }
        
        // Check if we've shown all quizzes and disable generate buttons
        if (currentQuizIndex >= quizData.length) {
          disableGenerateButtons();
        }
      }
      
      function disableGenerateButtons() {
        // Disable the Create Quiz generate button
        if (generateBtn) {
          generateBtn.disabled = true;
          generateBtn.classList.add('opacity-50', 'cursor-not-allowed');
          generateBtn.classList.remove('hover:bg-emerald-700', 'dark:hover:bg-emerald-600');
        }
        
        // Disable the Quizzes header generate button
        const quizzesGenerateBtn = document.getElementById('quizzes-generate-btn');
        if (quizzesGenerateBtn) {
          quizzesGenerateBtn.disabled = true;
          quizzesGenerateBtn.classList.add('opacity-50', 'cursor-not-allowed');
          quizzesGenerateBtn.classList.remove('hover:bg-emerald-700', 'dark:hover:bg-emerald-600');
        }
      }
      
      function createQuizCard(quiz) {
        const percentage = Math.round((quiz.completed / quiz.total) * 100);
        
                  return `
            <div class="bg-white dark:bg-neutral-900 rounded-xl border border-gray-200 dark:border-neutral-700 p-4 hover:shadow-md transition-shadow cursor-pointer" onclick="showQuizDetail(${quiz.id})">
              <div class="flex items-start justify-between mb-3">
                <h3 class="text-sm font-medium text-gray-800 dark:text-neutral-200 pr-2 min-w-0 flex-1">${quiz.title}</h3>
                <!-- Three Dot Menu -->
                <div class="hs-dropdown [--auto-close:inside] [--placement:bottom-right] relative inline-flex" onclick="event.stopPropagation()">
                  <button type="button" class="p-1.5 inline-flex justify-center items-center text-gray-500 hover:text-gray-700 rounded-lg hover:bg-gray-100 dark:text-neutral-400 dark:hover:text-neutral-200 dark:hover:bg-neutral-700" aria-haspopup="menu" aria-expanded="false" aria-label="Dropdown">
                    <svg class="shrink-0 size-3.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="5" r="1"></circle><circle cx="12" cy="19" r="1"></circle></svg>
                  </button>

                <div class="hs-dropdown-menu hs-dropdown-open:opacity-100 w-auto transition-[opacity,margin] duration opacity-0 hidden z-10 bg-white rounded-xl shadow-[0_10px_40px_10px_rgba(0,0,0,0.08)] dark:shadow-[0_10px_40px_10px_rgba(0,0,0,0.2)] dark:bg-neutral-900" role="menu" aria-orientation="vertical">
                  <div class="p-1">   
                    <button type="button" class="w-full flex items-center gap-x-3 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:bg-gray-100 dark:text-neutral-300 dark:hover:bg-neutral-800 dark:focus:bg-neutral-800">
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-3.5"><path d="M19.5 12c0-1.232-.046-2.453-.138-3.662a4.006 4.006 0 0 0-3.7-3.7 48.678 48.678 0 0 0-7.324 0 4.006 4.006 0 0 0-3.7 3.7c-.017.22-.032.441-.046.662M19.5 12l3-3m-3 3-3-3m-12 3c0 1.232.046 2.453.138 3.662a4.006 4.006 0 0 0 3.7 3.7c.017-.22.032-.441.046-.662M4.5 12l3 3m-3-3-3 3"/></svg>          
                      Restart
                    </button>
                    
                    <button type="button" class="w-full flex items-center gap-x-3 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:bg-gray-100 dark:text-neutral-300 dark:hover:bg-neutral-800 dark:focus:bg-neutral-800">
                      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-3.5"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/><line x1="10" x2="10" y1="11" y2="17"/><line x1="14" x2="14" y1="11" y2="17"/></svg>           
                      Delete
                    </button>
                  </div>
                </div>
              </div>
            </div>
          
            <!-- Progress Bar -->
            <div class="space-y-2">
              <div class="flex justify-between text-xs text-gray-600 dark:text-neutral-400">
                <span>${quiz.completed}/${quiz.total}</span>
                <span class="font-medium">${percentage}%</span>
              </div>
              <div class="w-full bg-gray-200 dark:bg-neutral-700 rounded-full h-1.5">
                <div class="bg-emerald-600 h-1.5 rounded-full transition-all duration-300" style="width: ${percentage}%"></div>
              </div>
            </div>
          </div>
        `;
      }
    });
    
    // Simple function to show quiz detail
    window.showQuizDetail = function(quizId) {
      console.log('Showing quiz detail for quiz:', quizId);
      
      // Hide quiz list, show quiz detail
      const quizListView = document.getElementById('quizzes-list-view');
      const quizDetailView = document.getElementById('quiz-detail-view');
      
      if (quizListView) quizListView.style.display = 'none';
      if (quizDetailView) {
        quizDetailView.style.display = 'block';
        console.log('Quiz detail view displayed');
        
        // Ensure all quiz content is visible
        const questionContent = quizDetailView.querySelector('#question-1');
        if (questionContent) {
          questionContent.style.display = 'block';
          questionContent.style.visibility = 'visible';
          questionContent.style.opacity = '1';
          console.log('Question content made visible');
        }
      }
    };
    
    // Function to go back to quiz list
    window.showQuizList = function() {
      // Hide quiz detail, show quiz list
      document.getElementById('quiz-detail-view').style.display = 'none';
      document.getElementById('quizzes-list-view').style.display = 'block';
    };
    
    // Quiz functionality functions
    function selectOption(element) {
      const questionIndex = element.getAttribute('data-question');
      const selectedOption = element.getAttribute('data-option');
      const correctOption = element.getAttribute('data-correct');
      
      // Reset all options in this question to default state
      const questionOptions = document.querySelectorAll(`[data-question="${questionIndex}"]`);
      questionOptions.forEach(option => {
        option.classList.remove('border-emerald-500', 'bg-emerald-50', 'dark:bg-emerald-900/20', 'border-red-500', 'bg-red-50', 'dark:bg-red-900/20');
        option.classList.add('border-gray-200', 'dark:border-neutral-600');
        // Hide all checkmarks and wrong icons
        const checkmark = option.querySelector('.checkmark-icon');
        const wrongIcon = option.querySelector('.wrong-icon');
        if (checkmark) checkmark.classList.add('hidden');
        if (wrongIcon) wrongIcon.classList.add('hidden');
      });
      
      // Apply styling based on selection
      if (selectedOption === correctOption) {
        // Correct answer selected
        element.classList.remove('border-gray-200', 'dark:border-neutral-600');
        element.classList.add('border-emerald-500', 'bg-emerald-50', 'dark:bg-emerald-900/20');
        // Show checkmark
        const checkmark = element.querySelector('.checkmark-icon');
        if (checkmark) checkmark.classList.remove('hidden');
        
        // Show explanation
        const explanationContainer = element.closest('.p-6').querySelector('.explanation-container');
        if (explanationContainer) {
          explanationContainer.classList.remove('hidden');
        }
      } else {
        // Incorrect answer selected
        element.classList.remove('border-gray-200', 'dark:border-neutral-600');
        element.classList.add('border-red-500', 'bg-red-50', 'dark:bg-red-900/20');
        
        // Show wrong icon
        const wrongIcon = element.querySelector('.wrong-icon');
        if (wrongIcon) wrongIcon.classList.remove('hidden');
        
        // Show correct answer
        const correctElement = document.querySelector(`[data-question="${questionIndex}"][data-option="${correctOption}"]`);
        if (correctElement) {
          correctElement.classList.remove('border-gray-200', 'dark:border-neutral-600');
          correctElement.classList.add('border-emerald-500', 'bg-emerald-50', 'dark:bg-emerald-900/20');
          const checkmark = correctElement.querySelector('.checkmark-icon');
          if (checkmark) checkmark.classList.remove('hidden');
        }
        
        // Show explanation
        const explanationContainer = element.closest('.p-6').querySelector('.explanation-container');
        if (explanationContainer) {
          explanationContainer.classList.remove('hidden');
        }
      }
    }
    
    function toggleHint(questionIndex) {
      const questionContainer = document.querySelector(`[data-question="${questionIndex}"]`).closest('.p-6');
      const hintContainer = questionContainer.querySelector('.hint-container');
      const hintBtn = questionContainer.querySelector('.hint-btn');
      const hintText = questionContainer.querySelector('.hint-text');
      
      if (hintContainer.classList.contains('hidden')) {
        // Show hint
        hintContainer.classList.remove('hidden');
        hintText.textContent = 'Hide Hint';
      } else {
        // Hide hint
        hintContainer.classList.add('hidden');
        hintText.textContent = 'See Hint';
      }
    }
    
    function navigateQuestion(direction) {
      // Simple navigation - for now just show/hide hint
      if (direction === 'next') {
        // Could add more questions here later
        console.log('Next question');
      } else if (direction === 'prev') {
        // Could add previous question logic here
        console.log('Previous question');
      }
    }
  </script>
</div>
<!-- End AI Quiz Content Tab -->
