<div class="flex flex-col space-y-4 relative">
  <div class="flex justify-between items-center">
    <div class="text-xl md:text-2xl font-semibold text-gray-900">Courses</div>
  </div>
  <div x-data="{ selectedCategories: [], showAll: false, categories: getAllCategories() }" class="border-b border-gray-200">
    <div class="flex overflow-x-auto hide-scrollbar pb-1">
      <nav class="-mb-px flex space-x-2" aria-label="Category filters">

        <button 
          @click="selectedCategories.length === categories.length ? selectedCategories = [] : selectedCategories = categories.map(category => category.name)" 
          :class="selectedCategories.length === categories.length ? 'bg-blue-100 text-blue-600 border-blue-600' : 'bg-white text-gray-600 border-gray-300 hover:bg-blue-100'"
          class="snap-start inline-flex items-center gap-x-2 py-2 px-3 text-sm whitespace-nowrap border hover:text-blue-500 rounded-lg">
          All
        </button>

        
          <button 
            @click="selectedCategories.includes('Free Courses') ? selectedCategories = selectedCategories.filter(c => c !== 'Free Courses') : selectedCategories.push('Free Courses')" 
            :class="selectedCategories.includes('Free Courses') ? 'bg-blue-100 text-blue-600 border-blue-600' : 'bg-white text-gray-600 border-gray-300 hover:bg-blue-100'"
            class="snap-start inline-flex items-center gap-x-2 py-2 px-3 text-sm whitespace-nowrap border hover:text-blue-500 rounded-lg">
            Free Courses
          </button>
        
          <button 
            @click="selectedCategories.includes('NEET 2025') ? selectedCategories = selectedCategories.filter(c => c !== 'NEET 2025') : selectedCategories.push('NEET 2025')" 
            :class="selectedCategories.includes('NEET 2025') ? 'bg-blue-100 text-blue-600 border-blue-600' : 'bg-white text-gray-600 border-gray-300 hover:bg-blue-100'"
            class="snap-start inline-flex items-center gap-x-2 py-2 px-3 text-sm whitespace-nowrap border hover:text-blue-500 rounded-lg">
            NEET 2025
          </button>
        
          <button 
            @click="selectedCategories.includes('UPSC Intensive Program') ? selectedCategories = selectedCategories.filter(c => c !== 'UPSC Intensive Program') : selectedCategories.push('UPSC Intensive Program')" 
            :class="selectedCategories.includes('UPSC Intensive Program') ? 'bg-blue-100 text-blue-600 border-blue-600' : 'bg-white text-gray-600 border-gray-300 hover:bg-blue-100'"
            class="snap-start inline-flex items-center gap-x-2 py-2 px-3 text-sm whitespace-nowrap border hover:text-blue-500 rounded-lg">
            UPSC Intensive Program
          </button>
        
          <button 
            @click="selectedCategories.includes('Mains 2023 Courses') ? selectedCategories = selectedCategories.filter(c => c !== 'Mains 2023 Courses') : selectedCategories.push('Mains 2023 Courses')" 
            :class="selectedCategories.includes('Mains 2023 Courses') ? 'bg-blue-100 text-blue-600 border-blue-600' : 'bg-white text-gray-600 border-gray-300 hover:bg-blue-100'"
            class="snap-start inline-flex items-center gap-x-2 py-2 px-3 text-sm whitespace-nowrap border hover:text-blue-500 rounded-lg">
            Mains 2023 Courses
          </button>
        
          <button 
            @click="selectedCategories.includes('Mains 2024 Courses') ? selectedCategories = selectedCategories.filter(c => c !== 'Mains 2024 Courses') : selectedCategories.push('Mains 2024 Courses')" 
            :class="selectedCategories.includes('Mains 2024 Courses') ? 'bg-blue-100 text-blue-600 border-blue-600' : 'bg-white text-gray-600 border-gray-300 hover:bg-blue-100'"
            class="snap-start inline-flex items-center gap-x-2 py-2 px-3 text-sm whitespace-nowrap border hover:text-blue-500 rounded-lg">
            Mains 2024 Courses
          </button>
        
          <button 
            @click="selectedCategories.includes('Mains 2025 Courses') ? selectedCategories = selectedCategories.filter(c => c !== 'Mains 2025 Courses') : selectedCategories.push('Mains 2025 Courses')" 
            :class="selectedCategories.includes('Mains 2025 Courses') ? 'bg-blue-100 text-blue-600 border-blue-600' : 'bg-white text-gray-600 border-gray-300 hover:bg-blue-100'"
            class="snap-start inline-flex items-center gap-x-2 py-2 px-3 text-sm whitespace-nowrap border hover:text-blue-500 rounded-lg">
            Mains 2025 Courses
          </button>
        
        <button 
          @click="showAll = !showAll" 
          :class="showAll ? 'bg-blue-100 text-blue-600 border-blue-600' : 'bg-white text-gray-600 border-gray-300 hover:bg-blue-100'"
          class="snap-start inline-flex items-center gap-x-2 py-2 px-3 text-sm whitespace-nowrap border hover:text-blue-500 rounded-lg">
          View All
        </button>
      </nav>
    </div>
    
    <div x-show="showAll" x-transition:enter="transition ease-out duration-300 transform" x-transition:enter-start="opacity-0 translate-y-2" x-transition:enter-end="opacity-100 translate-y-0" x-transition:leave="transition ease-in duration-200 transform" x-transition:leave-start="opacity-100 translate-y-0" x-transition:leave-end="opacity-0 translate-y-2" class="mt-2 bg-white shadow-lg rounded-lg p-4 absolute z-10 right-0 top-full mt-1">
      <div class="grid grid-cols-2 gap-2">
        
          <button 
            @click="selectedCategories.includes('Free Courses') ? selectedCategories = selectedCategories.filter(c => c !== 'Free Courses') : selectedCategories.push('Free Courses')" 
            :class="selectedCategories.includes('Free Courses') ? 'bg-blue-100 text-blue-600 border-blue-600' : 'bg-white text-gray-600 border-gray-300 hover:bg-blue-100'"
            class="snap-start inline-flex items-center gap-x-2 py-2 px-3 text-sm text-left overflow-hidden whitespace-normal border hover:text-blue-500 rounded-lg">
            Free Courses
          </button>
        
          <button 
            @click="selectedCategories.includes('NEET 2025') ? selectedCategories = selectedCategories.filter(c => c !== 'NEET 2025') : selectedCategories.push('NEET 2025')" 
            :class="selectedCategories.includes('NEET 2025') ? 'bg-blue-100 text-blue-600 border-blue-600' : 'bg-white text-gray-600 border-gray-300 hover:bg-blue-100'"
            class="snap-start inline-flex items-center gap-x-2 py-2 px-3 text-sm text-left overflow-hidden whitespace-normal border hover:text-blue-500 rounded-lg">
            NEET 2025
          </button>
        
          <button 
            @click="selectedCategories.includes('UPSC Intensive Program') ? selectedCategories = selectedCategories.filter(c => c !== 'UPSC Intensive Program') : selectedCategories.push('UPSC Intensive Program')" 
            :class="selectedCategories.includes('UPSC Intensive Program') ? 'bg-blue-100 text-blue-600 border-blue-600' : 'bg-white text-gray-600 border-gray-300 hover:bg-blue-100'"
            class="snap-start inline-flex items-center gap-x-2 py-2 px-3 text-sm text-left overflow-hidden whitespace-normal border hover:text-blue-500 rounded-lg">
            UPSC Intensive Program
          </button>
        
          <button 
            @click="selectedCategories.includes('Mains 2023 Courses') ? selectedCategories = selectedCategories.filter(c => c !== 'Mains 2023 Courses') : selectedCategories.push('Mains 2023 Courses')" 
            :class="selectedCategories.includes('Mains 2023 Courses') ? 'bg-blue-100 text-blue-600 border-blue-600' : 'bg-white text-gray-600 border-gray-300 hover:bg-blue-100'"
            class="snap-start inline-flex items-center gap-x-2 py-2 px-3 text-sm text-left overflow-hidden whitespace-normal border hover:text-blue-500 rounded-lg">
            Mains 2023 Courses
          </button>
        
          <button 
            @click="selectedCategories.includes('Mains 2024 Courses') ? selectedCategories = selectedCategories.filter(c => c !== 'Mains 2024 Courses') : selectedCategories.push('Mains 2024 Courses')" 
            :class="selectedCategories.includes('Mains 2024 Courses') ? 'bg-blue-100 text-blue-600 border-blue-600' : 'bg-white text-gray-600 border-gray-300 hover:bg-blue-100'"
            class="snap-start inline-flex items-center gap-x-2 py-2 px-3 text-sm text-left overflow-hidden whitespace-normal border hover:text-blue-500 rounded-lg">
            Mains 2024 Courses
          </button>
        
          <button 
            @click="selectedCategories.includes('Mains 2025 Courses') ? selectedCategories = selectedCategories.filter(c => c !== 'Mains 2025 Courses') : selectedCategories.push('Mains 2025 Courses')" 
            :class="selectedCategories.includes('Mains 2025 Courses') ? 'bg-blue-100 text-blue-600 border-blue-600' : 'bg-white text-gray-600 border-gray-300 hover:bg-blue-100'"
            class="snap-start inline-flex items-center gap-x-2 py-2 px-3 text-sm text-left overflow-hidden whitespace-normal border hover:text-blue-500 rounded-lg">
            Mains 2025 Courses
          </button>
        
          <button 
            @click="selectedCategories.includes('Prelims 2023 Courses') ? selectedCategories = selectedCategories.filter(c => c !== 'Prelims 2023 Courses') : selectedCategories.push('Prelims 2023 Courses')" 
            :class="selectedCategories.includes('Prelims 2023 Courses') ? 'bg-blue-100 text-blue-600 border-blue-600' : 'bg-white text-gray-600 border-gray-300 hover:bg-blue-100'"
            class="snap-start inline-flex items-center gap-x-2 py-2 px-3 text-sm text-left overflow-hidden whitespace-normal border hover:text-blue-500 rounded-lg">
            Prelims 2023 Courses
          </button>
        
          <button 
            @click="selectedCategories.includes('Prelims 2024 Courses') ? selectedCategories = selectedCategories.filter(c => c !== 'Prelims 2024 Courses') : selectedCategories.push('Prelims 2024 Courses')" 
            :class="selectedCategories.includes('Prelims 2024 Courses') ? 'bg-blue-100 text-blue-600 border-blue-600' : 'bg-white text-gray-600 border-gray-300 hover:bg-blue-100'"
            class="snap-start inline-flex items-center gap-x-2 py-2 px-3 text-sm text-left overflow-hidden whitespace-normal border hover:text-blue-500 rounded-lg">
            Prelims 2024 Courses
          </button>
        
      </div>
      <button 
        @click="showAll = false" 
        class="mt-2 py-2 px-4 bg-blue-600 text-white rounded-full font-medium text-sm focus:outline-none transition duration-150 ease-in-out">
        Save & continue
      </button>
    </div>
    
  </div>
</div>

<style>
  .hide-scrollbar::-webkit-scrollbar {
      display: none;
  }
  .hide-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
  }
</style>

<script>
  function getAllCategories() {
    return [
      {
        "id":1,
        "name":"Free Courses"
      },
      {
        "id":2,
        "name":"NEET 2025"
      },
      {
        "id":3,
        "name":"UPSC Intensive Program"
      },
      {
        "id":4,
        "name":"Mains 2023 Courses"
      },
      {
        "id": 5,
        "name": "Mains 2024 Courses"
      },
      {
        "id": 6,
        "name": "Mains 2025 Courses"
      },
      {
        "id": 7,
        "name": "Prelims 2023 Courses"
      },
      {
        "id": 8,
        "name": "Prelims 2024 Courses"
      }
    ]
  }
</script>