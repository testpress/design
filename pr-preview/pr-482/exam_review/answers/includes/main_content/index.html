  <div class="w-full md:w-4/5 flex flex-col h-full min-h-0">
    <div class="w-full">
  <div class="flex flex-wrap justify-between basis-full items-center w-full">
    <div class="grid grid-cols-1 sm:hidden border-b border-gray-200 w-full px-4 sm:px-6">
      <!-- Use an "onChange" listener to redirect the user to the selected tab URL. -->
      <div x-data="{openSectionDropdown:false}" @click.outside="openSectionDropdown = false" class="relative w-full">
        <!-- Trigger Button -->
        <button
          @click="openSectionDropdown = !openSectionDropdown"
          class="w-full text-left py-2 bg-white text-gray-800 flex items-center justify-between"
        >
          <span x-text="currentSection.name"></span>
          <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
          </svg>
        </button>
      
        <!-- Dropdown List -->
        <div
          x-show="openSectionDropdown"
          x-transition
          class="absolute mt-2 z-50 w-full max-h-60 overflow-y-auto rounded-xl bg-white shadow-xl space-y-0.5 p-1 border border-gray-200"
        >
        <template x-for="(section, index) in exam.sections" :key="section.name">
          <div
            @click="selectSection(index), openSectionDropdown = false"
            class="px-4 py-2 text-sm rounded-lg cursor-pointer text-gray-800 hover:bg-gray-100"
            x-text="section.name"
          ></div>
        </template>
        </div>
      </div>
      
    </div>
    <div class="hidden sm:block w-full ">
      <div x-data="scrollTabsData()" x-init="requestAnimationFrame(() => updateScrollState()),  $refs.tabList.addEventListener('wheel', (e) => {
        if (e.shiftKey) {
          e.preventDefault();
          $refs.tabList.scrollBy({
            left: e.deltaY, // or -e.deltaY depending on direction
            behavior: 'smooth'
          });
        }
      });"
      class="relative flex items-center  border-b border-gray-200"
    >
      <!-- Left Arrow -->
      <button
        type="button" x-cloak x-show="canScrollLeft"
        class="absolute left-0 z-10 h-full px-2 bg-gradient-to-r from-white"
        @click="scrollTabsLeft"
      >
        <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path d="M15 19l-7-7 7-7" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
      </button>
    
      <!-- Scrollable Tab List -->
      <nav
        @scroll="updateScrollState()"
        x-ref="tabList"
        class="scroll-smooth scrollbar-hide mx-6 flex overflow-hidden"
        aria-label="Tabs"
      >
        <template x-for="(section, index) in exam.sections" :key="index">
          <button
            @click="selectSection(index);"
            class="whitespace-nowrap border-b-2 py-2 text-sm mr-4"
            :class="{
              'border-emerald-500 text-emerald-600': currentSectionIndex === index,
              'border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700': currentSectionIndex !== index
            }"
            x-text="section.name"
          ></button>
        </template>
      </nav>
    
      <!-- Right Arrow -->
      <button
        type="button" x-cloak x-show="canScrollRight"
        class="absolute right-0 z-10 h-full px-2 bg-gradient-to-l from-white"
        @click="scrollTabsRight"
      >
        <svg class="w-4 h-4 text-gray-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path d="M9 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
      </button>
    </div>
    </div>
  </div>
</div>


    <template  x-if="filteredQuestions.length > 0">
      <div class="flex flex-wrap w-full h-full">
    <div :class="currentQuestion.passage ? 'w-full md:w-1/2' : 'w-full'" x-cloak x-show="currentQuestion.passage">
      <div class="bg-white p-4 sm:px-6 ">
      <div>
  <p x-text="currentQuestion.passage"></p>
</div>
      </div>
      </div> 
    <div :class="currentQuestion.passage ? 'w-full md:w-1/2 border-l border-gray-200' : 'w-full '">
    <div class="border-b border-gray-200">
      <div class="flex flex-wrap justify-between basis-full items-center w-full py-2 sm:px-6 px-4">
  <div class="flex">
  <p class="text-wrap font-medium  text-gray-800 dark:text-neutral-200">
    <span class="hidden sm:inline">Question No. </span>
    <span class="inline sm:hidden">Q No. </span>
    <span x-text="currentQuestion.q_no"></span>
    <span class="ml-2 inline items-center rounded-full bg-emerald-100 px-1.5 py-0.5 text-xs font-medium text-emerald-700" x-text="'+ ' + (parseFloat(currentQuestion.total || 0).toFixed(2))"></span>
    <span x-show="currentQuestion.negative !== undefined" class="inline items-center rounded-full bg-red-100 px-1.5 py-0.5 text-xs font-medium text-red-700" x-text="'- '+ currentQuestion.negative"></span>
  </p>

</div>
<div class="relative inline-block text-left" x-data="{showdropdown:false}">
  <div>
    <button @click="showdropdown=!showdropdown" @click.away="showdropdown=false" @keydown.window.escape="showdropdown=false" type="button" class="size-7 inline-flex justify-center items-center gap-x-2 rounded-lg border border-stone-200 bg-white text-stone-800 shadow-2xs hover:bg-stone-50 disabled:opacity-50 disabled:pointer-events-none focus:outline-hidden focus:bg-stone-50 dark:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-300 dark:hover:bg-neutral-700 dark:focus:bg-neutral-700">
      <svg class="shrink-0 size-3.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="5" r="1"></circle><circle cx="12" cy="19" r="1"></circle></svg>
    </button>
  </div>
  <div
  x-cloak
  x-show="showdropdown"
  x-transition:enter="transition ease-out duration-100"
  x-transition:enter-start="transform opacity-0 scale-95"
  x-transition:enter-end="transform opacity-100 scale-100"
  x-transition:leave="transition ease-in duration-75"
  x-transition:leave-start="transform opacity-100 scale-100"
  x-transition:leave-end="transform opacity-0 scale-95"
   class="absolute right-0 z-10 mt-2 w-36 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black/5 focus:outline-none" role="menu" aria-orientation="vertical" aria-labelledby="menu-button" tabindex="-1">
    <div class="p-1">
      <button aria-haspopup="dialog" aria-expanded="false" aria-controls="create-movie" data-hs-overlay="#create-movie" type="button" class="w-full flex items-center gap-x-3 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:bg-gray-100 dark:text-neutral-300 dark:hover:bg-neutral-800 dark:focus:bg-neutral-800">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-3.5"><path d="m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z"/></svg>
          Bookmark
        </button>
        <button aria-haspopup="dialog" aria-expanded="false" aria-controls="add-to-series" data-hs-overlay="#add-to-series" type="button" class="w-full flex items-center gap-x-3 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:bg-gray-100 dark:text-neutral-300 dark:hover:bg-neutral-800 dark:focus:bg-neutral-800">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-3.5"><path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"/><path d="M8 12h.01"/><path d="M12 12h.01"/><path d="M16 12h.01"/></svg>
          Ask a doubt
        </button>
        <button aria-haspopup="dialog" aria-expanded="false" aria-controls="add-to-series" data-hs-overlay="#add-to-series" type="button" class="w-full flex items-center gap-x-3 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:bg-gray-100 dark:text-neutral-300 dark:hover:bg-neutral-800 dark:focus:bg-neutral-800">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-3.5"><path d="M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4"/><path d="M2 6h4"/><path d="M2 10h4"/><path d="M2 14h4"/><path d="M2 18h4"/><path d="M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z"/></svg>
          Comment
        </button>
        <button aria-haspopup="dialog" aria-expanded="false" aria-controls="add-to-series" data-hs-overlay="#add-to-series" type="button" class="w-full flex items-center gap-x-3 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:bg-gray-100 dark:text-neutral-300 dark:hover:bg-neutral-800 dark:focus:bg-neutral-800">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-3.5"><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"/><line x1="4" x2="4" y1="22" y2="15"/></svg>
          Report
        </button>
     </div>
  </div>
</div>

</div>

    </div>
    <div class="p-4 sm:px-6">
      <div x-cloak x-show="currentQuestion.type=='mcq'">
        <div>
  <p x-text="currentQuestion.question"></p>
</div>
<div class="mt-4 space-y-4">
  <fieldset aria-label="Options">
    <template x-for="(option, index) in currentQuestion.options" :key="index">
      <div class="flex items-center mb-4">
        <div
          class="flex shrink-0 justify-center items-center size-7 border border-gray-200 text-sm rounded-full uppercase"
          :class="{
              'bg-emerald-400 text-white': currentQuestion && (currentQuestion.selectedIndex || []).includes(index) && (currentQuestion.correctIndex || []).includes(index),
              'bg-red-400 text-white': currentQuestion && (currentQuestion.selectedIndex || []).includes(index) && !(currentQuestion.correctIndex || []).includes(index),
              'bg-white text-gray-900 border-gray-300': currentQuestion && !(currentQuestion.selectedIndex || []).includes(index)
            }" x-text="String.fromCharCode(97 + index)">
        </div>
        <span class="ml-3" x-text="option"></span>
      </div>
    </template>
  </fieldset>
</div>
<div class="border-t border-gray-200">
  <div class="flex flex-wrap items-center gap-4 lg:gap-x-12 mt-4 mb-4">
    <div class="inline-flex items-center gap-x-1.5 ">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-5 text-gray-800 dark:text-neutral-200"><circle cx="12" cy="12" r="10"/><path d="m9 12 2 2 4-4"/></svg>
      <span class="text-base" x-text="(parseFloat(currentQuestion.awarded || 0).toFixed(2))">8,150</span><span class="text-gray-500">Marks Awarded</span> 
    </div>
    <div class="inline-flex items-center gap-x-1.5 ">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-5 text-gray-800 dark:text-neutral-200"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
      <span class="" x-text="currentQuestion.time_taken"></span><span class="text-gray-500">Time Taken</span> 
    </div>
    <div class="inline-flex items-center gap-x-1.5 ">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-5 text-gray-800 dark:text-neutral-200"><path d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"/><circle cx="7.5" cy="7.5" r=".5" fill="currentColor"/></svg>
      <span class="" x-text="currentQuestion.subject"></span>
    </div>
    <div class="inline-flex items-center gap-x-1.5"
    x-cloak
    x-show="typeof currentQuestion.trivia !== 'undefined' && currentQuestion.trivia !== null">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-5 text-gray-800 dark:text-neutral-200"><path d="M3 3v16a2 2 0 0 0 2 2h16"/><path d="M7 16h8"/><path d="M7 11h12"/><path d="M7 6h3"/></svg>
      <span class="" x-text="currentQuestion.trivia + '%'"></span><span class="text-gray-500">answered this correctly</span> 
    </div>
  </div>
</div>

<div class="border-t border-gray-200">
  <div class="mt-4 mb-4">
    <div>
      <button x-cloak x-show="!currentQuestion.show_solution && !showAllSolutions"
        @click="currentQuestion.show_solution=true"
        class="inline-flex items-center gap-x-1 font-medium  text-start text-emerald-600 underline underline-offset-4 hover:text-emerald-700 focus:outline-hidden dark:text-emerald-500 dark:hover:text-emerald-600"
        >
        View Solution
      </button>
    </div>
    <div class="gap-x-1.5" x-cloak x-show="currentQuestion.show_solution || showAllSolutions">

      <div class="text-gray-800">
        <span class="text-gray-500"
          x-text="(currentQuestion?.correctIndex?.length || 0) > 1 ? 'The correct answers are' : 'The correct answer is'">
        </span>

        <span class="text-base text-gray-800"
          x-html="(currentQuestion?.correctIndex || []).map(i => `(${String.fromCharCode(65 + i)}) ${(currentQuestion?.options?.[i] || '')}`).join(', ')">
        </span>
        </span>
      </div>
      <div class="mt-3" x-cloak x-show="currentQuestion.explanation">
        <span class="text-gray-500 font-medium">Explanation</span>
        <p class="text-gray-800 mt-1" x-text="currentQuestion.explanation"></p>
      </div>
    </div>
  </div>
</div>
      </div>
      <div x-cloak x-show="currentQuestion.type=='essay'">
        <div>
  <p x-text="currentQuestion.question"></p>
</div>
<div class="mt-4 mb-4 space-y-4">
  <div class="">
    <span class="text-gray-500 font-medium">Your Answer</span>
    <p class="text-gray-800 mt-1" x-text="currentQuestion.user_answer"></p>
  </div>
</div>
<div class="border-t border-gray-200">
  <div class="flex flex-wrap items-center gap-4 lg:gap-x-12 mt-4 mb-4">
    <div class="inline-flex items-center gap-x-1.5 ">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-5 text-gray-800 dark:text-neutral-200"><circle cx="12" cy="12" r="10"/><path d="m9 12 2 2 4-4"/></svg>
      <span class="text-base" x-text="(parseFloat(currentQuestion.awarded || 0).toFixed(2))">8,150</span><span class="text-gray-500">Marks Awarded</span> 
    </div>
    <div class="inline-flex items-center gap-x-1.5 ">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-5 text-gray-800 dark:text-neutral-200"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
      <span class="" x-text="currentQuestion.time_taken"></span><span class="text-gray-500">Time Taken</span> 
    </div>
    <div class="inline-flex items-center gap-x-1.5 ">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-5 text-gray-800 dark:text-neutral-200"><path d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"/><circle cx="7.5" cy="7.5" r=".5" fill="currentColor"/></svg>
      <span class="" x-text="currentQuestion.subject"></span>
    </div>
    <div class="inline-flex items-center gap-x-1.5"
    x-cloak
    x-show="typeof currentQuestion.trivia !== 'undefined' && currentQuestion.trivia !== null">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-5 text-gray-800 dark:text-neutral-200"><path d="M3 3v16a2 2 0 0 0 2 2h16"/><path d="M7 16h8"/><path d="M7 11h12"/><path d="M7 6h3"/></svg>
      <span class="" x-text="currentQuestion.trivia + '%'"></span><span class="text-gray-500">answered this correctly</span> 
    </div>
  </div>
</div>

  <div class="border-t border-gray-200" x-cloak x-show="currentQuestion.explanation">
    <div class="mt-4 mb-4">
    <div>
      <button x-cloak 
      x-show="!currentQuestion.show_solution && !showAllSolutions"
       @click="currentQuestion.show_solution=true" class="inline-flex items-center gap-x-1 font-medium  text-start text-emerald-600 underline underline-offset-4 hover:text-emerald-700 focus:outline-hidden dark:text-emerald-500 dark:hover:text-emerald-600" href="../../pro/payment/transactions.html">
        View Solution
      </button>
    </div>
    <div class="gap-x-1.5" x-cloak x-show="currentQuestion.show_solution || showAllSolutions">
    <div class="mt-3" x-cloak x-show="currentQuestion.explanation">
      <span class="text-gray-500 font-medium">Explanation</span>
      <p class="text-gray-800 mt-1" x-text="currentQuestion.explanation"></p>
    </div>
    </div>
    </div>
  </div>
<div class="border-t border-gray-200" 
     x-cloak 
     x-show="currentQuestion && 
              (currentQuestion.response_status === 'pending_evaluation' || 
              (currentQuestion.feedback && currentQuestion.feedback.text))">

  <div class=" mt-4 mb-4" x-cloak x-show="currentQuestion.response_status != 'pending_evaluation'">
    <span class="text-gray-800 font-medium">Feedback</span>
<div class="flex space-x-3 mt-4">
  <div class="flex-shrink-0">
    <img class="h-10 w-10 rounded-full" src="https://static.testpress.in/static/img/default_medium_image.png" alt="">
  </div>
  <div>
    <div class="text-sm flex space-x-2 items-center">
      <a href="#" class="font-medium text-gray-900" x-text="currentQuestion?.feedback?.user || ''"></a>
      <p class="mt-0.5 text-sm text-gray-500">10 minutes ago</p>
    </div>
    <div class="mt-1 text-sm text-gray-700">
      <p x-text="currentQuestion?.feedback?.text || ''">I've been struggling with this topic for a while now, but your lecture really helped me connect the dots. Your step-by-step approach made it so much easier to follow along. Thank you!</p>
    </div>

    
  </div>
</div>
</div>
<div class=" mt-4 mb-4" x-cloak x-show="currentQuestion.response_status == 'pending_evaluation'">
  <a class="inline-flex items-center gap-x-1.5  text-gray-500 focus:outline-hidden focus:underline dark:text-blue-500 dark:hover:text-blue-400" href="#" target="_parent">
    <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg>
   Submitted for grading. Awaiting feedback comment
  </a>
</div>
</div>
      </div>
      <div x-cloak x-show="currentQuestion.type=='gap_fill'">
        <div class="mb-4">
  <p class="leading-8" x-html="getGapFillHTML()"></p>
</div>
<div class="border-t border-gray-200">
  <div class="flex flex-wrap items-center gap-4 lg:gap-x-12 mt-4 mb-4">
    <div class="inline-flex items-center gap-x-1.5 ">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-5 text-gray-800 dark:text-neutral-200"><circle cx="12" cy="12" r="10"/><path d="m9 12 2 2 4-4"/></svg>
      <span class="text-base" x-text="(parseFloat(currentQuestion.awarded || 0).toFixed(2))">8,150</span><span class="text-gray-500">Marks Awarded</span> 
    </div>
    <div class="inline-flex items-center gap-x-1.5 ">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-5 text-gray-800 dark:text-neutral-200"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
      <span class="" x-text="currentQuestion.time_taken"></span><span class="text-gray-500">Time Taken</span> 
    </div>
    <div class="inline-flex items-center gap-x-1.5 ">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-5 text-gray-800 dark:text-neutral-200"><path d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"/><circle cx="7.5" cy="7.5" r=".5" fill="currentColor"/></svg>
      <span class="" x-text="currentQuestion.subject"></span>
    </div>
    <div class="inline-flex items-center gap-x-1.5"
    x-cloak
    x-show="typeof currentQuestion.trivia !== 'undefined' && currentQuestion.trivia !== null">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-5 text-gray-800 dark:text-neutral-200"><path d="M3 3v16a2 2 0 0 0 2 2h16"/><path d="M7 16h8"/><path d="M7 11h12"/><path d="M7 6h3"/></svg>
      <span class="" x-text="currentQuestion.trivia + '%'"></span><span class="text-gray-500">answered this correctly</span> 
    </div>
  </div>
</div>

<div class="border-t border-gray-200">
  <div class="mt-4 mb-4">
    <div>
      <button x-cloak x-show="!currentQuestion.show_solution && !showAllSolutions"
        @click="currentQuestion.show_solution=true"
        class="inline-flex items-center gap-x-1 font-medium  text-start text-emerald-600 underline underline-offset-4 hover:text-emerald-700 focus:outline-hidden dark:text-emerald-500 dark:hover:text-emerald-600"
        href="../../pro/payment/transactions.html">
        View Solution
      </button>
    </div>
    <div class="gap-x-1.5" x-cloak x-show="currentQuestion.show_solution || showAllSolutions">

      <div x-cloak class="text-gray-800">
        <span class="text-gray-500"
          x-text="(currentQuestion?.correctIndex?.length || 0) > 1 ? 'The correct answers are' : 'The correct answer is'">
        </span>
        <p class="leading-8 mt-1" x-html="getGapFillCorrectHTML()"></p>
      </div>
      <div class="mt-3" x-cloak x-show="currentQuestion.explanation">
        <span class="text-gray-500 font-medium">Explanation</span>
        <p class="text-gray-800 mt-1" x-text="currentQuestion.explanation"></p>
      </div>
    </div>
  </div>
</div>

      </div>
      <div x-cloak x-show="currentQuestion.type=='match'">
        <div>
  <p x-text="currentQuestion.question"></p>
</div>

<div class="mt-4 mb-4 text-sm max-w-2xl">
  <template x-for="(question, qidx) in currentQuestion.questions" :key="qidx">
    <div class="grid grid-cols-12 gap-x-4 items-center mb-4">
      <!-- Left: Question label with circled letter -->
      <div class="col-span-5 flex items-center gap-2">
        <div
          class="flex shrink-0 justify-center items-center size-7 border border-gray-200 text-sm rounded-full uppercase"
          :class="{
          'bg-emerald-400 text-white border-emerald-400': currentQuestion.user_answer[qidx] === currentQuestion.answers[qidx],
          'bg-red-400 text-white border-red-400': currentQuestion.user_answer[qidx] && currentQuestion.user_answer[qidx] !== currentQuestion.answers[qidx],
          'bg-gray-100 text-gray-800 border-gray-300': !currentQuestion.user_answer[qidx]
        }" x-text="String.fromCharCode(65 + qidx)">
        </div>
        <span x-text="question" class="text-gray-800"></span>
      </div>

      <!-- Middle: Arrow icon -->
      <div class="col-span-1 flex justify-center">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
          class="lucide lucide-move-right">
          <path d="M18 8L22 12L18 16" />
          <path d="M2 12H22" />
        </svg>
      </div>

      <!-- Right: User-selected answer -->
      <div class="col-span-6 text-gray-700">
        <span x-text="currentQuestion.user_answer[qidx] || '-'"></span>
      </div>
    </div>
  </template>
</div>
<div class="border-t border-gray-200">
  <div class="flex flex-wrap items-center gap-4 lg:gap-x-12 mt-4 mb-4">
    <div class="inline-flex items-center gap-x-1.5 ">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-5 text-gray-800 dark:text-neutral-200"><circle cx="12" cy="12" r="10"/><path d="m9 12 2 2 4-4"/></svg>
      <span class="text-base" x-text="(parseFloat(currentQuestion.awarded || 0).toFixed(2))">8,150</span><span class="text-gray-500">Marks Awarded</span> 
    </div>
    <div class="inline-flex items-center gap-x-1.5 ">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-5 text-gray-800 dark:text-neutral-200"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
      <span class="" x-text="currentQuestion.time_taken"></span><span class="text-gray-500">Time Taken</span> 
    </div>
    <div class="inline-flex items-center gap-x-1.5 ">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-5 text-gray-800 dark:text-neutral-200"><path d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"/><circle cx="7.5" cy="7.5" r=".5" fill="currentColor"/></svg>
      <span class="" x-text="currentQuestion.subject"></span>
    </div>
    <div class="inline-flex items-center gap-x-1.5"
    x-cloak
    x-show="typeof currentQuestion.trivia !== 'undefined' && currentQuestion.trivia !== null">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-5 text-gray-800 dark:text-neutral-200"><path d="M3 3v16a2 2 0 0 0 2 2h16"/><path d="M7 16h8"/><path d="M7 11h12"/><path d="M7 6h3"/></svg>
      <span class="" x-text="currentQuestion.trivia + '%'"></span><span class="text-gray-500">answered this correctly</span> 
    </div>
  </div>
</div>

<div class="border-t border-gray-200">
  <div class="mt-4 mb-4">
    <div>
      <button x-cloak x-show="!currentQuestion.show_solution && !showAllSolutions"
        @click="currentQuestion.show_solution=true"
        class="inline-flex items-center gap-x-1 font-medium  text-start text-emerald-600 underline underline-offset-4 hover:text-emerald-700 focus:outline-hidden dark:text-emerald-500 dark:hover:text-emerald-600"
        href="../../pro/payment/transactions.html">
        View Solution
      </button>
    </div>
    <div class="gap-x-1.5" x-cloak x-show="currentQuestion.show_solution || showAllSolutions">
      <div class="max-w-2xl">
        <template x-for="(question, qidx) in currentQuestion.questions" :key="qidx">
          <div class="grid grid-cols-12 gap-x-4 items-center mb-4">
            <!-- Left: Question label with circled letter -->
            <div class="col-span-5 flex items-center gap-2">
              <div
                class="flex shrink-0 justify-center items-center size-7 border border-gray-200 text-sm rounded-full uppercase"
                x-text="String.fromCharCode(65 + qidx)">
              </div>
              <span x-text="question" class="text-gray-800"></span>
            </div>

            <!-- Middle: Arrow icon -->
            <div class="col-span-1 flex justify-center">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                class="lucide lucide-move-right">
                <path d="M18 8L22 12L18 16" />
                <path d="M2 12H22" />
              </svg>
            </div>

            <!-- Right: User-selected answer -->
            <div class="col-span-6 text-gray-700">
              <span x-text="currentQuestion.answers[qidx] || '-'"></span>
            </div>
          </div>
        </template>
      </div>
      <div class="mt-3" x-cloak x-show="currentQuestion.explanation">
        <span class="text-gray-500 font-medium">Explanation</span>
        <p class="text-gray-800 mt-1" x-text="currentQuestion.explanation"></p>
      </div>
    </div>
  </div>
</div>
      </div>
      <div x-cloak x-show="currentQuestion.type=='file'">
        <div>
  <p x-text="currentQuestion.question"></p>
</div>
<div class="mt-4 mb-4 text-sm">
  <dd class="max-w-2xl">
    <ul role="list" class="divide-y divide-gray-100 rounded-md border border-gray-200">
      <li class="flex items-center justify-between py-4 pl-4 pr-5 text-sm/6">
        <div class="flex w-0 flex-1 items-center">
          <svg class="size-5 shrink-0 text-gray-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" data-slot="icon">
            <path fill-rule="evenodd" d="M15.621 4.379a3 3 0 0 0-4.242 0l-7 7a3 3 0 0 0 4.241 4.243h.001l.497-.5a.75.75 0 0 1 1.064 1.057l-.498.501-.002.002a4.5 4.5 0 0 1-6.364-6.364l7-7a4.5 4.5 0 0 1 6.368 6.36l-3.455 3.553A2.625 2.625 0 1 1 9.52 9.52l3.45-3.451a.75.75 0 1 1 1.061 1.06l-3.45 3.451a1.125 1.125 0 0 0 1.587 1.595l3.454-3.553a3 3 0 0 0 0-4.242Z" clip-rule="evenodd"></path>
          </svg>
          <div class="ml-4 flex min-w-0 flex-1 gap-2">
            <span class="truncate font-medium" x-text="currentQuestion.user_answer"></span>
          </div>
        </div>
        <div class="ml-4 shrink-0">
          <a href="#" class="font-medium text-emerald-600 hover:text-emerald-500">Preview</a>
        </div>
      </li>
    </ul>
  </dd>
</div>
<div class="border-t border-gray-200">
  <div class="flex flex-wrap items-center gap-4 lg:gap-x-12 mt-4 mb-4">
    <div class="inline-flex items-center gap-x-1.5 ">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-5 text-gray-800 dark:text-neutral-200"><circle cx="12" cy="12" r="10"/><path d="m9 12 2 2 4-4"/></svg>
      <span class="text-base" x-text="(parseFloat(currentQuestion.awarded || 0).toFixed(2))">8,150</span><span class="text-gray-500">Marks Awarded</span> 
    </div>
    <div class="inline-flex items-center gap-x-1.5 ">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-5 text-gray-800 dark:text-neutral-200"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
      <span class="" x-text="currentQuestion.time_taken"></span><span class="text-gray-500">Time Taken</span> 
    </div>
    <div class="inline-flex items-center gap-x-1.5 ">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-5 text-gray-800 dark:text-neutral-200"><path d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"/><circle cx="7.5" cy="7.5" r=".5" fill="currentColor"/></svg>
      <span class="" x-text="currentQuestion.subject"></span>
    </div>
    <div class="inline-flex items-center gap-x-1.5"
    x-cloak
    x-show="typeof currentQuestion.trivia !== 'undefined' && currentQuestion.trivia !== null">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-5 text-gray-800 dark:text-neutral-200"><path d="M3 3v16a2 2 0 0 0 2 2h16"/><path d="M7 16h8"/><path d="M7 11h12"/><path d="M7 6h3"/></svg>
      <span class="" x-text="currentQuestion.trivia + '%'"></span><span class="text-gray-500">answered this correctly</span> 
    </div>
  </div>
</div>

<div class="border-t border-gray-200" 
     x-cloak 
     x-show="currentQuestion && 
              (currentQuestion.response_status === 'pending_evaluation' || 
              (currentQuestion.feedback && currentQuestion.feedback.text))">

  <div class=" mt-4 mb-4" x-cloak x-show="currentQuestion.response_status != 'pending_evaluation'">
    <span class="text-gray-800 font-medium">Feedback</span>
<div class="flex space-x-3 mt-4">
  <div class="flex-shrink-0">
    <img class="h-10 w-10 rounded-full" src="https://static.testpress.in/static/img/default_medium_image.png" alt="">
  </div>
  <div>
    <div class="text-sm flex space-x-2 items-center">
      <a href="#" class="font-medium text-gray-900" x-text="currentQuestion?.feedback?.user || ''"></a>
      <p class="mt-0.5 text-sm text-gray-500">10 minutes ago</p>
    </div>
    <div class="mt-1 text-sm text-gray-700">
      <p x-text="currentQuestion?.feedback?.text || ''">I've been struggling with this topic for a while now, but your lecture really helped me connect the dots. Your step-by-step approach made it so much easier to follow along. Thank you!</p>
    </div>

    
  </div>
</div>
</div>
<div class=" mt-4 mb-4" x-cloak x-show="currentQuestion.response_status == 'pending_evaluation'">
  <a class="inline-flex items-center gap-x-1.5  text-gray-500 focus:outline-hidden focus:underline dark:text-blue-500 dark:hover:text-blue-400" href="#" target="_parent">
    <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg>
   Submitted for grading. Awaiting feedback comment
  </a>
</div>
</div>
      </div>
    </div>
    </div>
  </div>
  </template>
  <div x-cloak x-show="filteredQuestions.length == 0 && !isFetching">
    <div x-cloak x-show="filteredQuestions.length == 0">
  <!-- Empty State -->
<div class="p-5 h-[70vh] flex flex-col justify-center items-center text-center">
<svg class="w-48 mx-auto mb-4" width="178" height="90" viewBox="0 0 178 90" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect x="27" y="50.5" width="124" height="39" rx="7.5" fill="currentColor" class="fill-white"/>
<rect x="27" y="50.5" width="124" height="39" rx="7.5" stroke="currentColor" class="stroke-gray-50"/>
<rect x="34.5" y="58" width="24" height="24" rx="4" fill="currentColor" class="fill-gray-50"/>
<rect x="66.5" y="61" width="60" height="6" rx="3" fill="currentColor" class="fill-gray-50"/>
<rect x="66.5" y="73" width="77" height="6" rx="3" fill="currentColor" class="fill-gray-50"/>
<rect x="19.5" y="28.5" width="139" height="39" rx="7.5" fill="currentColor" class="fill-white"/>
<rect x="19.5" y="28.5" width="139" height="39" rx="7.5" stroke="currentColor" class="stroke-gray-100"/>
<rect x="27" y="36" width="24" height="24" rx="4" fill="currentColor" class="fill-gray-100"/>
<rect x="59" y="39" width="60" height="6" rx="3" fill="currentColor" class="fill-gray-100"/>
<rect x="59" y="51" width="92" height="6" rx="3" fill="currentColor" class="fill-gray-100"/>
<g filter="url(#filter19)">
<rect x="12" y="6" width="154" height="40" rx="8" fill="currentColor" class="fill-white" shape-rendering="crispEdges"/>
<rect x="12.5" y="6.5" width="153" height="39" rx="7.5" stroke="currentColor" class="stroke-gray-100" shape-rendering="crispEdges"/>
<rect x="20" y="14" width="24" height="24" rx="4" fill="currentColor" class="fill-gray-200 "/>
<rect x="52" y="17" width="60" height="6" rx="3" fill="currentColor" class="fill-gray-200"/>
<rect x="52" y="29" width="106" height="6" rx="3" fill="currentColor" class="fill-gray-200"/>
</g>
<defs>
<filter id="filter19" x="0" y="0" width="178" height="64" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
<feFlood flood-opacity="0" result="BackgroundImageFix"/>
<feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
<feOffset dy="6"/>
<feGaussianBlur stdDeviation="6"/>
<feComposite in2="hardAlpha" operator="out"/>
<feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.03 0"/>
<feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1187_14810"/>
<feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1187_14810" result="shape"/>
</filter>
</defs>
</svg>

<div class="max-w-sm mx-auto">
<p class="mt-2 font-medium text-gray-800">
  No questions found
</p>
<p class="mb-5 text-sm text-gray-500">
  Looks like there are no 
  <span class=""   x-text="filter
  ? filter
      .split('_')
      .map(word => word.charAt(0).toUpperCase() + word.slice(1))
      .join(' ')
  : ''"></span> 
  questions in 
  <span class="" x-text="currentSection.name"></span>.
</p>
</div>
</div>
</div>

  </div>
  <div x-cloak x-show="isFetching">
    <!-- Fullscreen Loading Overlay -->
<div class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50">
  <div class="text-center">
    <div role="status">
      <svg aria-hidden="true" class="inline w-10 h-10 text-gray-200 animate-spin fill-emerald-600" viewBox="0 0 100 101" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z" fill="currentColor"/>
        <path d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z" fill="currentFill"/>
      </svg>
      <span class="sr-only">Loading...</span>
    </div>
    <p class="mt-4 text-white text-sm">Fetching questions...</p>
  </div>
</div>

  </div>
</div>
