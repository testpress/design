<script>
function markingGuideCriteriaManager() {
    return {
        criteria: [
            { title: '', maximum_marks: '', description_for_students: '', marking_guide_for_evaluator: '' }
        ],

        addCriterion() {
            this.criteria.push({ title: '', maximum_marks: '', description_for_students: '', marking_guide_for_evaluator: '' });
        },

        handleLastCellEnterKey(index) {
            if (index === this.criteria.length - 1) {
                this.criteria.push({ title: '', maximum_marks: '', description_for_students: '', marking_guide_for_evaluator: '' });
                this.$nextTick(() => document.getElementById('title-' + (index + 1))?.focus());
            }
        },
        
        removeCriterion(index) {
          console.log("removeCriterion called");
            if (this.criteria.length > 1) {
                this.criteria.splice(index, 1);
            } else {
                alert("At least one row is required.");
            }
        }
    };
}
</script>