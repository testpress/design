<main class="lg:col-span-8">
  <div class="">
    <h1 class="sr-only">Recent questions</h1>
    <ul role="list" class="space-y-4" x-cloak x-show="filteredQuestions.length > 0 && view_preference=='one' ">
      <div class="flex flex-col bg-white border border-gray-200 overflow-hidden rounded-xl shadow-2xs dark:bg-neutral-800 dark:border-neutral-700">
        <!-- Header -->
        <div class="py-3 px-5 flex justify-between items-center gap-x-5 border-b border-gray-200 dark:border-neutral-700">
          <div class="flex space-x-1 sm:space-x-2">
            <h2 class="inline-block font-semibold text-gray-800 dark:text-neutral-200">
              <span class="hidden sm:inline" x-text="currentQuestion ? 'Question No. ' + currentQuestion.q_no : ''"></span>
              <span class="inline sm:hidden" x-text="currentQuestion ? 'Q' + currentQuestion.q_no : ''"></span>
            </h2>
          </h2>
          <p class="text-gray-200">|</p>
          <span
          :class="currentQuestion.response_status ? {
            'bg-green-100 text-green-700': currentQuestion.response_status === 'correct',
            'bg-red-100 text-red-700': currentQuestion.response_status === 'incorrect',
            'bg-gray-100 text-gray-700': currentQuestion.response_status === 'unanswered',
            'bg-yellow-100 text-yellow-700'  : currentQuestion.response_status === 'pending_evaluation'
          } : ''"
          class="inline-flex items-center rounded-full px-1.5 py-0.5 text-xs font-medium"
          x-text="currentQuestion && currentQuestion.response_status
          ? currentQuestion.response_status
              .split('_')
              .map(word => word.charAt(0).toUpperCase() + word.slice(1))
              .join(' ')
          : ''"
        ></span>
        
        
            <p class="text-gray-200">|</p>
            <div class="inline-flex items-center">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4 text-gray-500">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
              </svg>
              <span class="text-gray-500 ml-1 text-xs" x-text="'You: '+ currentQuestion.time_taken"></span>
              <span class="text-gray-500 ml-2 text-xs">Avg: 02:00</span>
            </div>
        </div>
        <div class="flex justify-end items-center gap-x-2">
          <div class="hs-dropdown [--auto-close:inside] [--placement:bottom-right] relative inline-flex">
            <button id="hs-pro-errtmd9" type="button" class="size-7 inline-flex justify-center items-center gap-x-2 rounded-lg border border-stone-200 bg-white text-stone-800 shadow-2xs hover:bg-stone-50 disabled:opacity-50 disabled:pointer-events-none focus:outline-hidden focus:bg-stone-50 dark:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-300 dark:hover:bg-neutral-700 dark:focus:bg-neutral-700" aria-haspopup="menu" aria-expanded="false" aria-label="Dropdown">
              <svg class="shrink-0 size-3.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="5" r="1"></circle><circle cx="12" cy="19" r="1"></circle></svg>
            </button>
    
            <div class="hs-dropdown-menu border border-gray-200 hs-dropdown-open:opacity-100 w-auto transition-[opacity,margin] duration opacity-0 hidden z-10 bg-white rounded-xl shadow-xl dark:bg-neutral-900" role="menu" aria-orientation="vertical" aria-labelledby="hs-pro-errtmd9">
              <div class="p-1">
                <button aria-haspopup="dialog" aria-expanded="false" aria-controls="create-movie" data-hs-overlay="#create-movie" type="button" class="w-full flex items-center gap-x-3 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:bg-gray-100 dark:text-neutral-300 dark:hover:bg-neutral-800 dark:focus:bg-neutral-800">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-3.5"><path d="m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z"/></svg>
                    Bookmark
                  </button>
                  <button aria-haspopup="dialog" aria-expanded="false" aria-controls="add-to-series" data-hs-overlay="#add-to-series" type="button" class="w-full flex items-center gap-x-3 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:bg-gray-100 dark:text-neutral-300 dark:hover:bg-neutral-800 dark:focus:bg-neutral-800">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-3.5"><path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"/><path d="M8 12h.01"/><path d="M12 12h.01"/><path d="M16 12h.01"/></svg>
                    Ask a doubt
                  </button>
                  <button aria-haspopup="dialog" aria-expanded="false" aria-controls="add-to-series" data-hs-overlay="#add-to-series" type="button" class="w-full flex items-center gap-x-3 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:bg-gray-100 dark:text-neutral-300 dark:hover:bg-neutral-800 dark:focus:bg-neutral-800">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-3.5"><path d="M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4"/><path d="M2 6h4"/><path d="M2 10h4"/><path d="M2 14h4"/><path d="M2 18h4"/><path d="M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z"/></svg>
                    Comment
                  </button>
                  <button aria-haspopup="dialog" aria-expanded="false" aria-controls="add-to-series" data-hs-overlay="#add-to-series" type="button" class="w-full flex items-center gap-x-3 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:bg-gray-100 dark:text-neutral-300 dark:hover:bg-neutral-800 dark:focus:bg-neutral-800">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-3.5"><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"/><line x1="4" x2="4" y1="22" y2="15"/></svg>
                    Report
                  </button>
              </div>
            </div>
          <div></div></div>
        </div>
        </div>
        <!-- End Header -->

        <!-- Body -->
        <div id="hs-product-details-pricing-card-body" class="p-5 space-y-4">
          <!-- Input -->
          <article aria-labelledby="question-title-81614">
            <div x-cloak x-show="currentQuestion.type != 'gap_fill'">
              <h2 id="question-title-81614" class="text-base font-medium text-gray-900"  x-text="`${currentQuestion.question}`"></h2>
            </div>
            <div x-cloak x-show="currentQuestion.type == 'gap_fill'">
              <h2 id="question-title-81614" class="text-base font-medium text-gray-900"  x-html="renderGapFill(currentQuestion)"><h2>
            </div>
            <div class="mt-2 space-y-4 text-sm text-gray-700">
              <template x-if="currentQuestion && Array.isArray(currentQuestion.options) && currentQuestion.type === 'mcq'">
              <template x-for="(option, index) in currentQuestion.options" :key="index">
                <div class="flex items-center">
                  <div
                    class="flex-shrink-0 w-6 h-6 rounded-full border flex items-center justify-center text-sm"
                    :class="{
                      'bg-green-400 text-white': currentQuestion.selectedIndex === index && index === currentQuestion.correctIndex,
                      'bg-red-400 text-white': currentQuestion.selectedIndex === index && index !== currentQuestion.correctIndex,
                      'bg-white text-gray-900 border-gray-300': currentQuestion.selectedIndex !== index
                    }"
                    x-text="String.fromCharCode(97 + index)">
                  </div>
                  <span class="ml-3" x-text="option"></span>
                </div>
              </template>
              </template>
              <template x-if="currentQuestion && Array.isArray(currentQuestion.options) && currentQuestion.type === 'match'">
                <div class="grid grid-cols-4 gap-4">
                  <template x-for="(option, index) in currentQuestion.options" :key="index">
                    <div class="contents">
                      <div class="flex items-center col-span-1">
                        <div
                          class="flex-shrink-0 w-6 h-6 rounded-full border flex items-center justify-center text-sm"
                          :class="{
                            'bg-green-400 text-white': currentQuestion.user_answer[index] === currentQuestion.answer[index],
                            'bg-red-400 text-white': currentQuestion.user_answer[index] && currentQuestion.user_answer[index] !== currentQuestion.answer[index],
                            'bg-white text-gray-900 border-gray-300': !currentQuestion.user_answer[index]
                          }"
                          x-text="String.fromCharCode(97 + index)">
                        </div>
                        <span class="ml-3" x-text="option"></span>
                      </div>
                      <div class="flex items-center gap-4 col-span-3">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                          <path d="M18 8L22 12L18 16"/>
                          <path d="M2 12H22"/>
                        </svg>
                        <span class="text-sm text-gray-800" x-show="currentQuestion.user_answer[index]" x-text="currentQuestion.user_answer[index]"></span>
                      </div>
                    </div>
                  </template>
                </div>
                
                
              </template>
              
            </div>
            <div class="col-span-2 sm:col-span-4 mt-4" x-cloak x-show="currentQuestion.type == 'essay' ">
              <dt class="text-sm font-medium text-gray-500">Your Answer</dt>
              <dd class="mt-1 max-w-prose space-y-5 text-sm text-gray-900">
             <span x-text="currentQuestion.user_answer"></span>
            </dd>
          </div>
            <div class="mt-6">
              <dl class="grid grid-cols-2 gap-x-4 gap-y-8 sm:grid-cols-4">
                <div class="sm:col-span-1">
                    <dt class="text-sm font-medium text-gray-500">Total Marks</dt>
                    <dd class="mt-1 text-sm text-gray-900" x-text="currentQuestion.total"></dd>
                  </div>
                  <div class="sm:col-span-1" x-cloak x-show="currentQuestion.type !='essay'">
                    <dt class="text-sm font-medium text-gray-500">Negative Marks</dt>
                    <dd class="mt-1 text-sm text-gray-900" x-text="currentQuestion.negative"></dd>
                  </div>
                <div class="sm:col-span-1" x-cloak x-show="currentQuestion.type=='essay'">
                  <dt class="text-sm font-medium text-gray-500">Marks Obtained</dt>
                  <dd class="mt-1 text-sm text-gray-900" x-text="currentQuestion.awarded"></dd>
                </div>
                <div class="sm:col-span-1">
                    <dt class="text-sm font-medium text-gray-500">Subject</dt>
                    <dd class="mt-1 text-sm text-gray-900" x-text="currentQuestion.subject"></dd>
                  </div>
                <div class="sm:col-span-1">
                  <dt class="text-sm font-medium text-gray-500">Difficulty Level</dt>
                  <dd class="mt-1 text-sm text-gray-900">Easy</dd>
                </div>
              </dl>
            </div>
            <div class="mt-6 space-y-4" x-cloak x-show="currentQuestion.show_answer">
              <div x-cloak x-show="currentQuestion.type != 'essay'">
              <div class="flex  flex-wrap gap-x-4 justify-between">
                <p class="text-sm font-medium text-gray-500">Correct Answer is
                  <span
                  class="text-sm text-gray-900"
                  x-text="currentQuestion && Array.isArray(currentQuestion.options) && currentQuestion.correctIndex != null
                    ? currentQuestion.options[currentQuestion.correctIndex]
                    : ''">
                </span>
                </p>
                <P class='text-sm text-gray-500' x-text="`${currentQuestion.trivia}%`+ ' of students got this correct'"></P>
               </div>
               <div class="mt-1">
               <span x-cloak x-show="currentQuestion.type == 'gap_fill'"
               class="text-sm text-gray-900 mt-2"
               x-html="renderCorrectAnswers(currentQuestion)">
             </span>
            </div>
               <template x-if="currentQuestion && Array.isArray(currentQuestion.options) && currentQuestion.type === 'match'">
                <div class="mt-2 grid grid-cols-4 gap-4 text-sm text-gray-700">
                  <template x-for="(option, index) in currentQuestion.options" :key="index">
                    <div class="contents">
                      <div class="flex items-center col-span-1">
                        <div
                          class="flex-shrink-0 w-6 h-6 rounded-full border flex items-center justify-center text-sm bg-white text-gray-900 border-gray-300"
                          x-text="String.fromCharCode(97 + index)">
                        </div>
                        <span class="ml-3" x-text="option"></span>
                      </div>
                      <div class="flex items-center gap-4 col-span-3">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                          <path d="M18 8L22 12L18 16"/>
                          <path d="M2 12H22"/>
                        </svg>
                        <span class="text-sm text-gray-800" x-show="currentQuestion.answer[index]" x-text="currentQuestion.answer[index]"></span>
                      </div>
                    </div>
                  </template>
                </div>
              </template>
            </div>
            <div class="col-span-2 sm:col-span-4">
              <dt class="text-sm font-medium text-gray-500">Explanation</dt>
              <dd class="mt-1 max-w-prose space-y-5 text-sm text-gray-900">
             <span x-text="currentQuestion.explanation"></span>
            </dd>
          </div>
          <div class="col-span-2 sm:col-span-4" x-cloak x-show="currentQuestion.type == 'essay' && currentQuestion.response_status !='pending_evaluation' ">
          <dt class="text-sm font-medium text-gray-500">Feedbacks</dt>
          <div class="flex space-x-3 mt-2">
            <div class="flex-shrink-0">
              <img class="h-10 w-10 rounded-full" src="https://static.testpress.in/static/img/default_medium_image.png" alt="">
            </div>
            <div>
              <div class="text-sm flex space-x-2 items-center" x-data="{showcommentdropdown:null}">
                <a href="#" class="font-medium text-gray-900">Tim cook</a>
                <p class="mt-0.5 text-sm text-gray-500">10 minutes ago</p>
              </div>
              <div class="mt-1 text-sm text-gray-700">
                <p x-text="currentQuestion.feedback?.response || 'NA'"></p>
              </div>
              <div class="flex mt-2 truncate text-sm">
              <div></div></div>
              
            </div>
          </div>
          </div>
            </div>
            <div x-show="!currentQuestion.show_answer" x-cloak class="mt-6">
              <button
                @click="currentQuestion.show_answer = true"
                class="text-sm font-medium text-gray-500 underline"
                type="button"
              >
                View Solution
              </button>            
          </div>
          </article>
          <!-- End Links List -->
        </div>
        <!-- End Body -->
      </div>
    </ul>
    <ul role="list" x-cloak x-show="filteredQuestions.length > 0 && view_preference=='all' ">
      <template x-for="(question, index) in filteredQuestions" :key="index">
      <li :id="`q_${currentSection.id}_${index}`" class="bg-white rounded-lg mb-4">
        <div class="py-3 px-5 flex justify-between items-center gap-x-5 border-b border-gray-200 dark:border-neutral-700">
          <div class="flex space-x-1 sm:space-x-2">
            <h2 class="inline-block font-semibold text-gray-800 dark:text-neutral-200">
              <span class="hidden sm:inline" x-text="'Question No. ' + question.q_no"></span>
              <span class="inline sm:hidden" x-text="'Q' + question.q_no"></span>
            </h2>
          </h2>
          <p class="text-gray-200">|</p>
          <span
          :class="{
            'bg-green-100 text-green-700': question.response_status === 'correct',
            'bg-red-100   text-red-700'  : question.response_status === 'incorrect',
            'bg-gray-100 text-gray-700'  : question.response_status === 'unanswered',
            'bg-yellow-100 text-yellow-700'  : question.response_status === 'pending_evaluation'
          }"
          class="inline-flex items-center rounded-full px-1.5 py-0.5 text-xs font-medium"
          x-text="question && question.response_status
          ? question.response_status
              .split('_')
              .map(word => word.charAt(0).toUpperCase() + word.slice(1))
              .join(' ')
          : ''"
        ></span>
        
            <p class="text-gray-200">|</p>
            <div class="inline-flex items-center">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4 text-gray-500">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z" />
              </svg>
              <span class="text-gray-500 ml-1 text-xs" x-text="'You: '+ question.time_taken"></span>
              <span class="text-gray-500 ml-2 text-xs">Avg: 02:00</span>
            </div>
        </div>
        <div class="flex justify-end items-center gap-x-2">
          <div class="hs-dropdown [--auto-close:inside] [--placement:bottom-right] relative inline-flex">
            <button id="hs-pro-errtmd9" type="button" class="size-7 inline-flex justify-center items-center gap-x-2 rounded-lg border border-stone-200 bg-white text-stone-800 shadow-2xs hover:bg-stone-50 disabled:opacity-50 disabled:pointer-events-none focus:outline-hidden focus:bg-stone-50 dark:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-300 dark:hover:bg-neutral-700 dark:focus:bg-neutral-700" aria-haspopup="menu" aria-expanded="false" aria-label="Dropdown">
              <svg class="shrink-0 size-3.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="5" r="1"></circle><circle cx="12" cy="19" r="1"></circle></svg>
            </button>
    
            <div class="hs-dropdown-menu border border-gray-200 hs-dropdown-open:opacity-100 w-auto transition-[opacity,margin] duration opacity-0 hidden z-10 bg-white rounded-xl shadow-xl dark:bg-neutral-900" role="menu" aria-orientation="vertical" aria-labelledby="hs-pro-errtmd9">
              <div class="p-1">
                <button aria-haspopup="dialog" aria-expanded="false" aria-controls="create-movie" data-hs-overlay="#create-movie" type="button" class="w-full flex items-center gap-x-3 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:bg-gray-100 dark:text-neutral-300 dark:hover:bg-neutral-800 dark:focus:bg-neutral-800">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-3.5"><path d="m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z"/></svg>
                    Bookmark
                  </button>
                  <button aria-haspopup="dialog" aria-expanded="false" aria-controls="add-to-series" data-hs-overlay="#add-to-series" type="button" class="w-full flex items-center gap-x-3 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:bg-gray-100 dark:text-neutral-300 dark:hover:bg-neutral-800 dark:focus:bg-neutral-800">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-3.5"><path d="M7.9 20A9 9 0 1 0 4 16.1L2 22Z"/><path d="M8 12h.01"/><path d="M12 12h.01"/><path d="M16 12h.01"/></svg>
                    Ask a doubt
                  </button>
                  <button aria-haspopup="dialog" aria-expanded="false" aria-controls="add-to-series" data-hs-overlay="#add-to-series" type="button" class="w-full flex items-center gap-x-3 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:bg-gray-100 dark:text-neutral-300 dark:hover:bg-neutral-800 dark:focus:bg-neutral-800">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-3.5"><path d="M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4"/><path d="M2 6h4"/><path d="M2 10h4"/><path d="M2 14h4"/><path d="M2 18h4"/><path d="M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z"/></svg>
                    Comment
                  </button>
                  <button aria-haspopup="dialog" aria-expanded="false" aria-controls="add-to-series" data-hs-overlay="#add-to-series" type="button" class="w-full flex items-center gap-x-3 py-2 px-3 rounded-lg text-sm text-gray-800 hover:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none focus:outline-none focus:bg-gray-100 dark:text-neutral-300 dark:hover:bg-neutral-800 dark:focus:bg-neutral-800">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 size-3.5"><path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"/><line x1="4" x2="4" y1="22" y2="15"/></svg>
                    Report
                  </button>
              </div>
            </div>
          <div></div></div>
        </div>
        </div>
        <article aria-labelledby="question-title-81614" class="p-5">
          <div x-cloak x-show="question.type != 'gap_fill'">
            <h2 id="question-title-81614" class="text-base font-medium text-gray-900"  x-text="`${question.question}`"></h2>
          </div>
          <div x-cloak x-show="question.type == 'gap_fill'">
            <h2 id="question-title-81614" class="text-base font-medium text-gray-900"  x-html="renderGapFill(question)"><h2>
          </div>
          <div class="mt-2 space-y-4 text-sm text-gray-700">
            <template x-if="question.type === 'mcq'">
            <template x-for="(option, index) in question.options" :key="index">
              <div class="flex items-center">
                <div
                  class="flex-shrink-0 w-6 h-6 rounded-full border flex items-center justify-center text-sm"
                  :class="{
                    'bg-green-400 text-white': question.selectedIndex === index && index === question.correctIndex,
                    'bg-red-400 text-white': question.selectedIndex === index && index !== question.correctIndex,
                    'bg-white text-gray-900 border-gray-300': question.selectedIndex !== index
                  }"
                  x-text="String.fromCharCode(97 + index)">
                </div>
                <span class="ml-3" x-text="option"></span>
              </div>
            </template>
            </template>
            <template x-if="question.type === 'match'">
              <div class="grid grid-cols-4 gap-4">
                <template x-for="(option, index) in question.options" :key="index">
                  <div class="contents">
                    <div class="flex items-center col-span-1">
                      <div
                        class="flex-shrink-0 w-6 h-6 rounded-full border flex items-center justify-center text-sm"
                        :class="{
                          'bg-green-400 text-white': question.user_answer[index] === question.answer[index],
                          'bg-red-400 text-white': question.user_answer[index] && question.user_answer[index] !== question.answer[index],
                          'bg-white text-gray-900 border-gray-300': !question.user_answer[index]
                        }"
                        x-text="String.fromCharCode(97 + index)">
                      </div>
                      <span class="ml-3" x-text="option"></span>
                    </div>
                    <div class="flex items-center gap-4 col-span-3">
                      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M18 8L22 12L18 16"/>
                        <path d="M2 12H22"/>
                      </svg>
                      <span class="text-sm text-gray-800" x-show="question.user_answer[index]" x-text="question.user_answer[index]"></span>
                    </div>
                  </div>
                </template>
              </div>
              
              
            </template>
            
          </div>
          <div class="col-span-2 sm:col-span-4 mt-4" x-cloak x-show="question.type == 'essay' ">
            <dt class="text-sm font-medium text-gray-500">Your Answer</dt>
            <dd class="mt-1 max-w-prose space-y-5 text-sm text-gray-900">
           <span x-text="question.user_answer"></span>
          </dd>
        </div>
          <div class="mt-6">
            <dl class="grid grid-cols-2 gap-x-4 gap-y-8 sm:grid-cols-4">
              <div class="sm:col-span-1">
                  <dt class="text-sm font-medium text-gray-500">Total Marks</dt>
                  <dd class="mt-1 text-sm text-gray-900" x-text="question.total"></dd>
                </div>
              <div class="sm:col-span-1" x-cloak x-show="question.type !='essay'">
                  <dt class="text-sm font-medium text-gray-500">Negative Marks</dt>
                  <dd class="mt-1 text-sm text-gray-900" x-text="question.negative"></dd>
                </div>
              <div class="sm:col-span-1" x-cloak x-show="question.type=='essay'">
                <dt class="text-sm font-medium text-gray-500">Marks Obtained</dt>
                <dd class="mt-1 text-sm text-gray-900" x-text="question.awarded"></dd>
              </div>
              <div class="sm:col-span-1">
                  <dt class="text-sm font-medium text-gray-500">Subject</dt>
                  <dd class="mt-1 text-sm text-gray-900" x-text="question.subject"></dd>
                </div>
              <div class="sm:col-span-1">
                <dt class="text-sm font-medium text-gray-500">Difficulty Level</dt>
                <dd class="mt-1 text-sm text-gray-900">Easy</dd>
              </div>
            </dl>
          </div>
          <div class="mt-6 space-y-4" x-cloak x-show="question.show_answer">
            <div x-cloak x-show="question.type != 'essay'">
            <div class="flex  flex-wrap gap-x-4 justify-between">
              <p class="text-sm font-medium text-gray-500">Correct Answer is
                <span class="text-sm text-gray-900"x-text="question.options[question.correctIndex]"></span>
              </p>
              <P class='text-sm text-gray-500' x-text="`${question.trivia}%`+ ' of students got this correct'"></P>
             </div>
             <div class="mt-1">
             <span x-cloak x-show="question.type == 'gap_fill'"
             class="text-sm text-gray-900"
             x-html="renderCorrectAnswers(question)">
            </div>
             <template x-if="question.type === 'match'">
              <div class="mt-2 grid grid-cols-4 gap-4 text-sm text-gray-700">
                <template x-for="(option, index) in question.options" :key="index">
                  <div class="contents">
                    <div class="flex items-center col-span-1">
                      <div
                        class="flex-shrink-0 w-6 h-6 rounded-full border flex items-center justify-center text-sm bg-white text-gray-900 border-gray-300"
                        x-text="String.fromCharCode(97 + index)">
                      </div>
                      <span class="ml-3" x-text="option"></span>
                    </div>
                    <div class="flex items-center gap-4 col-span-3">
                      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M18 8L22 12L18 16"/>
                        <path d="M2 12H22"/>
                      </svg>
                      <span class="text-sm text-gray-800" x-show="question.answer[index]" x-text="question.answer[index]"></span>
                    </div>
                  </div>
                </template>
              </div>
            </template>
          </div>
          <div class="col-span-2 sm:col-span-4">
            <dt class="text-sm font-medium text-gray-500">Explanation</dt>
            <dd class="mt-1 max-w-prose space-y-5 text-sm text-gray-900">
           <span x-text="question.explanation"></span>
          </dd>
        </div>
        <div class="col-span-2 sm:col-span-4" x-cloak x-show="question.type == 'essay'  && currentQuestion.response_status !='pending_evaluation' ">
        <dt class="text-sm font-medium text-gray-500">Feedbacks</dt>
        <div class="flex space-x-3 mt-2">
          <div class="flex-shrink-0">
            <img class="h-10 w-10 rounded-full" src="https://static.testpress.in/static/img/default_medium_image.png" alt="">
          </div>
          <div>
            <div class="text-sm flex space-x-2 items-center" x-data="{showcommentdropdown:null}">
              <a href="#" class="font-medium text-gray-900">Tim cook</a>
              <p class="mt-0.5 text-sm text-gray-500">10 minutes ago</p>
            </div>
            <div class="mt-1 text-sm text-gray-700">
              <p x-text="question.feedback?.response || 'NA'"></p>
            </div>
            <div class="flex mt-2 truncate text-sm">
            <div></div></div>
            
          </div>
        </div>
        </div>
          </div>
          <div x-show="!question.show_answer" x-cloak class="mt-6">
            <button
              @click="question.show_answer = true"
              class="text-sm font-medium text-gray-500 underline"
              type="button"
            >
              View Solution
            </button>            
        </div>
        </article>
      </li>
    </template>
    </ul>
    <div class="p-5 space-y-4 bg-white  sm:rounded-lg"  x-cloak x-show="filteredQuestions.length == 0">
      <!-- Empty State -->
<div class="p-5 min-h-96 flex flex-col justify-center items-center text-center">
  <svg class="w-48 mx-auto mb-4" width="178" height="90" viewBox="0 0 178 90" fill="none" xmlns="http://www.w3.org/2000/svg">
    <rect x="27" y="50.5" width="124" height="39" rx="7.5" fill="currentColor" class="fill-white"/>
    <rect x="27" y="50.5" width="124" height="39" rx="7.5" stroke="currentColor" class="stroke-gray-50"/>
    <rect x="34.5" y="58" width="24" height="24" rx="4" fill="currentColor" class="fill-gray-50"/>
    <rect x="66.5" y="61" width="60" height="6" rx="3" fill="currentColor" class="fill-gray-50"/>
    <rect x="66.5" y="73" width="77" height="6" rx="3" fill="currentColor" class="fill-gray-50"/>
    <rect x="19.5" y="28.5" width="139" height="39" rx="7.5" fill="currentColor" class="fill-white"/>
    <rect x="19.5" y="28.5" width="139" height="39" rx="7.5" stroke="currentColor" class="stroke-gray-100"/>
    <rect x="27" y="36" width="24" height="24" rx="4" fill="currentColor" class="fill-gray-100"/>
    <rect x="59" y="39" width="60" height="6" rx="3" fill="currentColor" class="fill-gray-100"/>
    <rect x="59" y="51" width="92" height="6" rx="3" fill="currentColor" class="fill-gray-100"/>
    <g filter="url(#filter19)">
    <rect x="12" y="6" width="154" height="40" rx="8" fill="currentColor" class="fill-white" shape-rendering="crispEdges"/>
    <rect x="12.5" y="6.5" width="153" height="39" rx="7.5" stroke="currentColor" class="stroke-gray-100" shape-rendering="crispEdges"/>
    <rect x="20" y="14" width="24" height="24" rx="4" fill="currentColor" class="fill-gray-200 "/>
    <rect x="52" y="17" width="60" height="6" rx="3" fill="currentColor" class="fill-gray-200"/>
    <rect x="52" y="29" width="106" height="6" rx="3" fill="currentColor" class="fill-gray-200"/>
    </g>
    <defs>
    <filter id="filter19" x="0" y="0" width="178" height="64" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
    <feFlood flood-opacity="0" result="BackgroundImageFix"/>
    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
    <feOffset dy="6"/>
    <feGaussianBlur stdDeviation="6"/>
    <feComposite in2="hardAlpha" operator="out"/>
    <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.03 0"/>
    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1187_14810"/>
    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_1187_14810" result="shape"/>
    </filter>
    </defs>
  </svg>

  <div class="max-w-sm mx-auto">
    <p class="mt-2 font-medium text-gray-800">
      No questions found
    </p>
    <p class="mb-5 text-sm text-gray-500">
      Looks like there are no 
      <span class=""   x-text="filter
      ? filter
          .split('_')
          .map(word => word.charAt(0).toUpperCase() + word.slice(1))
          .join(' ')
      : ''"></span> 
      questions in 
      <span class="" x-text="currentSection.name"></span>.
    </p>
  </div>
</div>
<!-- End Empty State -->
    </div>
    
    <nav class="flex items-center justify-between border-t border-gray-200 p-5" x-cloak x-show="filteredQuestions.length > 0 && view_preference=='one' ">
      <div class="-mt-px flex w-0 flex-1">
        <button
          @click="previousQuestion"
          :disabled="!hasPrevious()"
          class="inline-flex items-center border-t-2 border-transparent text-sm font-medium text-gray-500 hover:text-gray-700 disabled:text-gray-300"
        >
          <svg class="mr-3 size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
            <path fill-rule="evenodd" d="M18 10a.75.75 0 0 1-.75.75H4.66l2.1 1.95a.75.75 0 1 1-1.02 1.1l-3.5-3.25a.75.75 0 0 1 0-1.1l3.5-3.25a.75.75 0 1 1 1.02 1.1l-2.1 1.95h12.59A.75.75 0 0 1 18 10Z" clip-rule="evenodd" />
          </svg>
          Previous
        </button>
      </div>
      
      <div class="-mt-px flex w-0 flex-1 justify-end">
        <button
          @click="nextQuestion"
          :disabled="!hasNext()"
          class="inline-flex items-center border-t-2 border-transparent text-sm font-medium text-gray-500 hover:text-gray-700 disabled:text-gray-300"
        >
          Next
          <svg class="ml-3 size-5" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
            <path fill-rule="evenodd" d="M2 10a.75.75 0 0 1 .75-.75h12.59l-2.1-1.95a.75.75 0 1 1 1.02-1.1l3.5 3.25a.75.75 0 0 1 0 1.1l-3.5 3.25a.75.75 0 1 1-1.02-1.1l2.1-1.95H2.75A.75.75 0 0 1 2 10Z" clip-rule="evenodd" />
          </svg>
        </button>
      </div>
      
    </nav>
  </div>
</main>
