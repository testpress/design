<div id="hs-pro-mistake-reflection" class="hs-overlay pointer-events-none fixed start-0 top-0 z-[99] hidden size-full overflow-x-hidden overflow-y-auto [--close-when-click-inside:true]" role="dialog" tabindex="-1" aria-labelledby="hs-pro-mistake-reflection-label" x-data="questionReflection()">
  <div class="hs-overlay-open:mt-7 hs-overlay-open:opacity-100 hs-overlay-open:duration-500 m-3 mt-0 flex h-[calc(100%-56px)] min-h-[calc(100%-56px)] items-center opacity-0 transition-all ease-out sm:mx-auto sm:w-full sm:max-w-xl">
    <div class="pointer-events-auto flex w-full flex-col rounded-xl bg-white shadow-xl dark:bg-neutral-800">
      <div class="flex items-center justify-between border-b border-stone-200 px-4 py-2.5 dark:border-neutral-700">
        <h3 id="hs-pro-mistake-reflection-label" class="font-medium text-stone-800 dark:text-neutral-200">Reasons for Mistakes</h3>
        <button type="button" class="flex size-8 shrink-0 items-center justify-center gap-x-2 rounded-full border border-transparent bg-stone-100 text-stone-800 hover:bg-stone-200 focus:bg-stone-200 focus:outline-hidden disabled:pointer-events-none disabled:opacity-50 dark:bg-neutral-700 dark:text-neutral-400 dark:hover:bg-neutral-600 dark:focus:bg-neutral-600" aria-label="Close" data-hs-overlay="#hs-pro-mistake-reflection">
          <span class="sr-only">Close</span>
          <svg class="size-4 shrink-0" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M18 6 6 18" />
            <path d="m6 6 12 12" />
          </svg>
        </button>
      </div>

      <div id="hs-modal-mistake-reflection-body" class="max-h-[75dvh] space-y-6 overflow-y-auto p-4 [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-thumb]:bg-stone-300 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-500 [&::-webkit-scrollbar-track]:bg-stone-100 dark:[&::-webkit-scrollbar-track]:bg-neutral-700">
        <div>
          <h4 class="text-sm font-medium text-gray-900 dark:text-neutral-200 mb-3">Why do you think you got this question wrong?</h4>
          <div class="mt-3">
            <div class="grid grid-cols-1 space-y-6">
              
                <div class="flex gap-3 items-start">
                  <div class="flex h-6 shrink-0 items-center">
                    <input
                      id="hs-pro-mistake-reason-rushed"
                      type="radio"
                      name="hs-pro-mistake-reason"
                      value="rushed"
                      x-model="selectedReason"
                      aria-describedby="hs-pro-mistake-desc-rushed"
                      class="h-4 w-4 border-gray-300 text-emerald-600 focus:ring-emerald-600"
                    />
                  </div>

                  <div class="text-sm/6">
                    <label for="hs-pro-mistake-reason-rushed" class="font-medium text-gray-900 dark:text-neutral-200 cursor-pointer">
                      Rushed
                    </label>
                    <p id="hs-pro-mistake-desc-rushed" class="text-gray-500 dark:text-neutral-400">
                      Rushed through the problem.
                    </p>
                  </div>
                </div>
              
                <div class="flex gap-3 items-start">
                  <div class="flex h-6 shrink-0 items-center">
                    <input
                      id="hs-pro-mistake-reason-didnt-understand"
                      type="radio"
                      name="hs-pro-mistake-reason"
                      value="didnt-understand"
                      x-model="selectedReason"
                      aria-describedby="hs-pro-mistake-desc-didnt-understand"
                      class="h-4 w-4 border-gray-300 text-emerald-600 focus:ring-emerald-600"
                    />
                  </div>

                  <div class="text-sm/6">
                    <label for="hs-pro-mistake-reason-didnt-understand" class="font-medium text-gray-900 dark:text-neutral-200 cursor-pointer">
                      Didn&#39;t Understand Question
                    </label>
                    <p id="hs-pro-mistake-desc-didnt-understand" class="text-gray-500 dark:text-neutral-400">
                      Didn&#39;t understand what the question was asking you to do.
                    </p>
                  </div>
                </div>
              
                <div class="flex gap-3 items-start">
                  <div class="flex h-6 shrink-0 items-center">
                    <input
                      id="hs-pro-mistake-reason-misread"
                      type="radio"
                      name="hs-pro-mistake-reason"
                      value="misread"
                      x-model="selectedReason"
                      aria-describedby="hs-pro-mistake-desc-misread"
                      class="h-4 w-4 border-gray-300 text-emerald-600 focus:ring-emerald-600"
                    />
                  </div>

                  <div class="text-sm/6">
                    <label for="hs-pro-mistake-reason-misread" class="font-medium text-gray-900 dark:text-neutral-200 cursor-pointer">
                      Misread the Question
                    </label>
                    <p id="hs-pro-mistake-desc-misread" class="text-gray-500 dark:text-neutral-400">
                      Generally knew what the problem was asking but misread a key detail in the question or text.
                    </p>
                  </div>
                </div>
              
                <div class="flex gap-3 items-start">
                  <div class="flex h-6 shrink-0 items-center">
                    <input
                      id="hs-pro-mistake-reason-time-pressure"
                      type="radio"
                      name="hs-pro-mistake-reason"
                      value="time-pressure"
                      x-model="selectedReason"
                      aria-describedby="hs-pro-mistake-desc-time-pressure"
                      class="h-4 w-4 border-gray-300 text-emerald-600 focus:ring-emerald-600"
                    />
                  </div>

                  <div class="text-sm/6">
                    <label for="hs-pro-mistake-reason-time-pressure" class="font-medium text-gray-900 dark:text-neutral-200 cursor-pointer">
                      Time Pressure
                    </label>
                    <p id="hs-pro-mistake-desc-time-pressure" class="text-gray-500 dark:text-neutral-400">
                      Entered a guess as time was running out.
                    </p>
                  </div>
                </div>
              
                <div class="flex gap-3 items-start">
                  <div class="flex h-6 shrink-0 items-center">
                    <input
                      id="hs-pro-mistake-reason-calculation"
                      type="radio"
                      name="hs-pro-mistake-reason"
                      value="calculation"
                      x-model="selectedReason"
                      aria-describedby="hs-pro-mistake-desc-calculation"
                      class="h-4 w-4 border-gray-300 text-emerald-600 focus:ring-emerald-600"
                    />
                  </div>

                  <div class="text-sm/6">
                    <label for="hs-pro-mistake-reason-calculation" class="font-medium text-gray-900 dark:text-neutral-200 cursor-pointer">
                      Calculation Error
                    </label>
                    <p id="hs-pro-mistake-desc-calculation" class="text-gray-500 dark:text-neutral-400">
                      Knew how to solve the problem, but made a small mistake in calculation.
                    </p>
                  </div>
                </div>
              
                <div class="flex gap-3 items-start">
                  <div class="flex h-6 shrink-0 items-center">
                    <input
                      id="hs-pro-mistake-reason-lack-knowledge"
                      type="radio"
                      name="hs-pro-mistake-reason"
                      value="lack-knowledge"
                      x-model="selectedReason"
                      aria-describedby="hs-pro-mistake-desc-lack-knowledge"
                      class="h-4 w-4 border-gray-300 text-emerald-600 focus:ring-emerald-600"
                    />
                  </div>

                  <div class="text-sm/6">
                    <label for="hs-pro-mistake-reason-lack-knowledge" class="font-medium text-gray-900 dark:text-neutral-200 cursor-pointer">
                      Lack of Knowledge
                    </label>
                    <p id="hs-pro-mistake-desc-lack-knowledge" class="text-gray-500 dark:text-neutral-400">
                      Didn&#39;t know or forgot a key piece of information or formula needed to solve.
                    </p>
                  </div>
                </div>
              
                <div class="flex gap-3 items-start">
                  <div class="flex h-6 shrink-0 items-center">
                    <input
                      id="hs-pro-mistake-reason-careless"
                      type="radio"
                      name="hs-pro-mistake-reason"
                      value="careless"
                      x-model="selectedReason"
                      aria-describedby="hs-pro-mistake-desc-careless"
                      class="h-4 w-4 border-gray-300 text-emerald-600 focus:ring-emerald-600"
                    />
                  </div>

                  <div class="text-sm/6">
                    <label for="hs-pro-mistake-reason-careless" class="font-medium text-gray-900 dark:text-neutral-200 cursor-pointer">
                      Careless Mistake
                    </label>
                    <p id="hs-pro-mistake-desc-careless" class="text-gray-500 dark:text-neutral-400">
                      Knew how to solve the problem, but made a small slip-up, like a sign error or typo.
                    </p>
                  </div>
                </div>
              
                <div class="flex gap-3 items-start">
                  <div class="flex h-6 shrink-0 items-center">
                    <input
                      id="hs-pro-mistake-reason-wrong-strategy"
                      type="radio"
                      name="hs-pro-mistake-reason"
                      value="wrong-strategy"
                      x-model="selectedReason"
                      aria-describedby="hs-pro-mistake-desc-wrong-strategy"
                      class="h-4 w-4 border-gray-300 text-emerald-600 focus:ring-emerald-600"
                    />
                  </div>

                  <div class="text-sm/6">
                    <label for="hs-pro-mistake-reason-wrong-strategy" class="font-medium text-gray-900 dark:text-neutral-200 cursor-pointer">
                      Used Wrong Strategy
                    </label>
                    <p id="hs-pro-mistake-desc-wrong-strategy" class="text-gray-500 dark:text-neutral-400">
                      Knew what the problem was asking, but chose the wrong strategy to solve it.
                    </p>
                  </div>
                </div>
              
                <div class="flex gap-3 items-start">
                  <div class="flex h-6 shrink-0 items-center">
                    <input
                      id="hs-pro-mistake-reason-guessed"
                      type="radio"
                      name="hs-pro-mistake-reason"
                      value="guessed"
                      x-model="selectedReason"
                      aria-describedby="hs-pro-mistake-desc-guessed"
                      class="h-4 w-4 border-gray-300 text-emerald-600 focus:ring-emerald-600"
                    />
                  </div>

                  <div class="text-sm/6">
                    <label for="hs-pro-mistake-reason-guessed" class="font-medium text-gray-900 dark:text-neutral-200 cursor-pointer">
                      Guessed
                    </label>
                    <p id="hs-pro-mistake-desc-guessed" class="text-gray-500 dark:text-neutral-400">
                      Made a random guess without a clear strategy or understanding.
                    </p>
                  </div>
                </div>
              
                <div class="flex gap-3 items-start">
                  <div class="flex h-6 shrink-0 items-center">
                    <input
                      id="hs-pro-mistake-reason-others"
                      type="radio"
                      name="hs-pro-mistake-reason"
                      value="others"
                      x-model="selectedReason"
                      aria-describedby="hs-pro-mistake-desc-others"
                      class="h-4 w-4 border-gray-300 text-emerald-600 focus:ring-emerald-600"
                    />
                  </div>

                  <div class="text-sm/6">
                    <label for="hs-pro-mistake-reason-others" class="font-medium text-gray-900 dark:text-neutral-200 cursor-pointer">
                      Others
                    </label>
                    <p id="hs-pro-mistake-desc-others" class="text-gray-500 dark:text-neutral-400">
                      Category for when none of the other options apply.
                    </p>
                  </div>
                </div>
              
            </div>
          </div>

          <div class="mt-6">
            <label for="reflection-notes" class="block text-sm font-medium text-gray-900 dark:text-neutral-200 mb-2">Additional Notes (Optional)</label>
            <textarea 
              id="reflection-notes" 
              x-model="notes" 
              rows="3" 
              class="block w-full rounded-lg border-0 py-2 px-3 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-emerald-600 text-sm leading-6 dark:bg-neutral-900 dark:ring-neutral-700 dark:text-neutral-200 dark:placeholder:text-neutral-500 dark:focus:ring-emerald-500" 
              placeholder="Add any specific thoughts about this mistake...">
            </textarea>
          </div>
        </div>
      </div>
  
      <div class="flex justify-between gap-x-2 border-t border-stone-200 p-4 dark:border-neutral-700">
        <div class="flex flex-1 items-center justify-end gap-2">
          <button type="button" class="inline-flex items-center justify-center rounded-lg border border-gray-200 bg-white px-3 py-2 text-start align-middle text-sm font-medium text-nowrap whitespace-nowrap text-gray-800 shadow-2xs hover:bg-gray-50 focus:bg-gray-50 focus:outline-hidden disabled:pointer-events-none disabled:opacity-50 dark:border-neutral-700 dark:bg-neutral-800 dark:text-neutral-300 dark:hover:bg-neutral-700 dark:focus:bg-neutral-700" data-hs-overlay="#hs-pro-mistake-reflection">Skip</button>
          <button type="button" @click="saveReflection(selectedReason, notes)" data-hs-overlay="#hs-pro-mistake-reflection" class="inline-flex items-center justify-center gap-x-2 rounded-lg border border-emerald-600 bg-emerald-600 px-3 py-2 text-start align-middle text-sm font-medium text-nowrap whitespace-nowrap text-white shadow-2xs hover:bg-emerald-700 focus:ring-1 focus:ring-emerald-300 focus:outline-hidden disabled:pointer-events-none disabled:opacity-50 dark:focus:ring-emerald-500">Save Reflection</button>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  function questionReflection() {
    return {
      selectedReason: null,
      notes: '',
      reasons: [{"name":"Rushed","value":"rushed","description":"Rushed through the problem."},{"name":"Didn't Understand Question","value":"didnt-understand","description":"Didn't understand what the question was asking you to do."},{"name":"Misread the Question","value":"misread","description":"Generally knew what the problem was asking but misread a key detail in the question or text."},{"name":"Time Pressure","value":"time-pressure","description":"Entered a guess as time was running out."},{"name":"Calculation Error","value":"calculation","description":"Knew how to solve the problem, but made a small mistake in calculation."},{"name":"Lack of Knowledge","value":"lack-knowledge","description":"Didn't know or forgot a key piece of information or formula needed to solve."},{"name":"Careless Mistake","value":"careless","description":"Knew how to solve the problem, but made a small slip-up, like a sign error or typo."},{"name":"Used Wrong Strategy","value":"wrong-strategy","description":"Knew what the problem was asking, but chose the wrong strategy to solve it."},{"name":"Guessed","value":"guessed","description":"Made a random guess without a clear strategy or understanding."},{"name":"Others","value":"others","description":"Category for when none of the other options apply."}],
    }
  }
</script>
