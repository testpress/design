<div
  x-cloak
  x-show="showReflectionToast"
  x-transition:enter="transition ease-out duration-200"
  x-transition:enter-start="opacity-0 translate-y-2"
  x-transition:enter-end="opacity-100 translate-y-0"
  x-transition:leave="transition ease-in duration-150"
  x-transition:leave-start="opacity-100 translate-y-0"
  x-transition:leave-end="opacity-0 translate-y-2"
  class="absolute top-full right-0 z-10 mt-2 w-64"
>
  <div class="absolute -top-2 right-6 size-4 overflow-hidden">
    <div class="size-4 -translate-y-1/2 rotate-45 transform bg-white dark:bg-neutral-800"></div>
  </div>
  <div class="p-3 bg-white dark:bg-neutral-800 rounded-md shadow-xl ring-1 ring-black ring-opacity-5 dark:ring-white/10">
    <div class="flex items-start gap-3">
      <div class="flex-grow">
        <h3 class="font-semibold text-gray-900 dark:text-neutral-200 text-sm">Why did you get this wrong?</h3>
        <p class="text-xs text-gray-500 dark:text-neutral-400 mt-1">
          Take a moment to reflect on this question. This will help you understand your mistake patterns.
        </p>
        <div class="mt-3 flex gap-x-2">
          <button
            type="button"
            @click='HSOverlay.open("#hs-pro-mistake-reflection"); showReflectionToast = false'
            class="inline-flex items-center justify-center gap-x-1 rounded-md border border-transparent bg-emerald-600 px-2.5 py-1.5 text-xs font-semibold text-white shadow-sm hover:bg-emerald-700 disabled:opacity-50"
          >
            Reflect Now
          </button>
          <button
            type="button"
            @click="showReflectionToast = false"
            class="inline-flex items-center justify-center gap-x-1 rounded-md border border-gray-300 dark:border-neutral-700 bg-white dark:bg-neutral-800 px-2.5 py-1.5 text-xs font-semibold text-gray-700 dark:text-neutral-300 shadow-sm hover:bg-gray-50 dark:hover:bg-neutral-700 disabled:opacity-50"
          >
            Dismiss
          </button>
        </div>
      </div>
      <div class="flex-shrink-0">
        <button
          type="button"
          @click="showReflectionToast = false"
          class="inline-flex items-center justify-center rounded-full text-gray-400 hover:text-gray-500 dark:text-neutral-400 dark:hover:text-neutral-300"
        >
          <svg class="size-3.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
        </button>
      </div>
    </div>
  </div>
</div>