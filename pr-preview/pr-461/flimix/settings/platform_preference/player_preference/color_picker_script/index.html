<script>
  document.addEventListener('DOMContentLoaded', (event) => {

    const pickers = [
      {
        element: '#primary_color_picker',
        input: '#primary_color_input',
        defaultColor: '#03a4eb'
      },
      {
        element: '#icons_color_picker',
        input: '#icons_color_input',
        defaultColor: '#ffffff'
      },
      {
        element: '#accent_color_picker',
        input: '#accent_color_input',
        defaultColor: '#ff5733'
      },
      {
        element: '#background_color_picker',
        input: '#background_color_input',
        defaultColor: '#000000'
      }
    ];

    pickers.forEach(pickerConfig => {

      const colorPickerElement = document.querySelector(pickerConfig.element);
      const colorInputElement = document.querySelector(pickerConfig.input);
      const pickr = Pickr.create({
        el: colorPickerElement,
        theme: 'classic', // or 'monolith', or 'nano'
        default: pickerConfig.defaultColor,
        lockOpacity: true,
        comparison: false,
        inline: false,
        swatches: [
          'rgba(244, 67, 54, 1)',
          'rgba(233, 30, 99, 1)',
          'rgba(156, 39, 176, 1)',
          'rgba(103, 58, 183, 1)',
          'rgba(63, 81, 181, 1)',
          'rgba(33, 150, 243, 1)',
          'rgba(3, 169, 244, 1)',
          'rgba(0, 188, 212, 1)',
          'rgba(0, 150, 136, 1)',
          'rgba(76, 175, 80, 1)',
          'rgba(139, 195, 74, 1)',
          'rgba(205, 220, 57, 1)',
          'rgba(255, 235, 59, 1)',
          'rgba(255, 193, 7, 1)'
        ],
        components: {
          preview: true,
          opacity: false,
          hue: true,
          interaction: {
            hex: false,
            rgba: false,
            hsla: false,
            hsva: false,
            cmyk: false,
            input: true,
            clear: false,
            save: false
          }
        }
      });

      pickr.on('change', (color, source, instance) => {
        const hexaColor = color.toHEXA().toString();
        console.log('rgbacolor', hexaColor);
        //document.getElementById('primary_color_picker').style.background = rgbaColor;
        // Store the color value in a hidden input or any other place you need
        colorInputElement.value = hexaColor;
      });

    });
  });
</script>