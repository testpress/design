
<script>
  document.addEventListener("alpine:init", () => {
    Alpine.data("search", () => ({
      query: '',
      searching:false,
      showSearchResults:false,
      noResults: false,
      scrolledbottom: false,
      currentPage : 1,
      hasNextPage : false,

    getSearchResults(query) {
      this.showSearchResults= true;
      this.searching = true;
      if (query.length === 0) {
        this.clearSearchResults();
        return;
      }
      if (query === "no results") {
        setTimeout(() => {
          this.searching = false;
        }, 1000);
        this.noResults = true;
        this.searching = false;
        return;
      }
      setTimeout(() => {
          this.searching = false;
        }, 1000);
    },
    clearSearchResults() {
      this.$refs.search.innerHTML = '';
      this.showSearchResults = false;
      this.currentPage = 1;
      this.hasNextPage = true;
    },
    }));
  });
</script>
