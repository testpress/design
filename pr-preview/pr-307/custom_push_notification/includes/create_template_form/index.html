<form>
  <div class="space-y-12">
    <div class="grid grid-cols-1 gap-x-8 gap-y-10 border-b border-gray-900/10 pb-12 md:grid-cols-3">
      <div>
        <h2 class="text-base font-semibold leading-7 text-gray-900">Notify Students</h2>
        <p class="mt-1 text-sm leading-6 text-gray-600">Upon submittion of the form push notification will be sent to students based on the provided Recepient Type.</p>
      </div>

      <div class="max-w-2xl space-y-10 md:col-span-2">
        <fieldset class="border-b border-gray-900/10 pb-10">
          
          <div class="sm:ml-3 space-y-6">
            <div class="col-span-full sm:ml-4">
              <label for="id_push_notification_title" class="block text-sm font-medium leading-6 text-gray-900">Template Title</label>
              <div class="mt-2">
                <div class="flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-green-600">
                  <input type="text" class="block flex-1 border-0 bg-transparent py-1.5 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6" placeholder="Add a title for this template">
                </div>
              </div>
            </div>  
            <div class="col-span-full sm:ml-4">
              <label for="id_push_notification_title" class="block text-sm font-medium leading-6 text-gray-900">Recepient Type</label>
                <div class="">
                  <ul class="flex flex-wrap gap-2 pr-[5rem] md:pr-[8rem] mt-2">
                    <template x-for="item in notification_criteria.selectedItems">
                      <span class="inline-flex items-center py-0.5 pl-2 pr-0.5 rounded-full text-xs font-medium bg-green-100 text-green-700 mb-2">
                        <span x-text="item.name"></span>
                        <button @click="notification_criteria.removeItem(item)"
                                type="button"
                                class="flex-shrink-0 ml-0.5 h-4 w-4 rounded-full inline-flex items-center justify-center text-green-400 hover:bg-green-200 hover:text-green-500 focus:outline-none focus:bg-green-500 focus:text-white">
                          <span class="sr-only">Remove small option</span>
                          <svg class="h-2 w-2" stroke="currentColor" fill="none" viewBox="0 0 8 8">
                            <path stroke-linecap="round" stroke-width="1.5" d="M1 1l6 6m0-6L1 7" />
                          </svg>
                        </button>
                      </span>
                    </template>
                  </ul>
                  <!-- Input Form -->
                  <div class="flex items-center gap-x-3">
                    <!-- Select -->
                    <div class="space-y-2 relative w-full">
                      <!-- Input Form -->
                      <div>
                        <div @click.away="notification_criteria.showSuggestions=false">
                            <div @click="notification_criteria.showSuggestions=true" class="flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-green-600">
                            <input placeholder="Select one or more criteria to send notification" type="text" class="block flex-1 border-0 bg-transparent py-1.5 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6">
                          </div>
                          <div class="mt-1 text-sm text-green-500"></div>
                          <ul x-show="notification_criteria.showSuggestions"
                              class="absolute mt-2 z-50 w-full max-h-72 p-1 space-y-0.5 bg-white rounded-lg overflow-hidden overflow-y-auto shadow-[0_10px_40px_10px_rgba(0,0,0,0.08)] dark:bg-neutral-900 top-full opened"
                              tabindex="-1"
                              role="listbox"
                              aria-labelledby="listbox-label"
                              aria-activedescendant="listbox-option-3">
                            <template x-for="item in notification_criteria.items" hidden="">
                              <li @click="notification_criteria.onItemSelect(item)"
                                  class="rounded cursor-pointer hover:bg-gray-100 text-gray-900 cursor-default select-none relative py-2 pl-3 pr-9"
                                  id="listbox-option-0"
                                  role="option"
                                  @click="notification_criteria.onItemSelect(item)">
                                  <div class="flex items-center">
                                    <div>
                                      <div class="text-sm font-semibold text-gray-800 dark:text-neutral-200" x-text="item.name"></div>
                                      <div class="text-xs text-gray-500 dark:text-neutral-500" x-text="item.description"></div></div><div class="ms-auto"><span class="hidden hs-selected:block"><svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z"></path></svg></span></div></div>
                              </li>
                            </template>
                          </ul>
                        </div>
                      </div>
                      <!-- End Input Form -->
                    </div>
                  </div>
                </div>
              </div>
  
            <div class="col-span-full sm:ml-4" x-cloak x-show="isCriteriaSelected(1)">
              <div class="space-y-6">
                <div class="col-span-full">
                  <label for="id_push_notification_title" class="block text-sm font-medium leading-6 text-gray-900">Select Users</label>
                  <div class="mt-2">
                    <div class="">
                      <ul class="flex flex-wrap gap-2 pr-[5rem] md:pr-[8rem] mt-2">
                        <template x-for="item in users.selectedItems">
                          <span class="inline-flex items-center py-0.5 pl-2 pr-0.5 rounded-full text-xs font-medium bg-green-100 text-green-700 mb-2">
                            <span x-text="item.name"></span>
                            <button @click="users.removeItem(item)"
                                    type="button"
                                    class="flex-shrink-0 ml-0.5 h-4 w-4 rounded-full inline-flex items-center justify-center text-green-400 hover:bg-green-200 hover:text-green-500 focus:outline-none focus:bg-green-500 focus:text-white">
                              <span class="sr-only">Remove small option</span>
                              <svg class="h-2 w-2" stroke="currentColor" fill="none" viewBox="0 0 8 8">
                                <path stroke-linecap="round" stroke-width="1.5" d="M1 1l6 6m0-6L1 7" />
                              </svg>
                            </button>
                          </span>
                        </template>
                      </ul>
                      <!-- Input Form -->
                      <div class="flex items-center gap-x-3">
                        <!-- Select -->
                        <div class="space-y-2 relative w-full">
                          <!-- Input Form -->
                          <div>
                            <div @click.away="users.showSuggestions=false">
                              <div @click="users.showSuggestions=true" class="flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-green-600">
                                <input type="text" class="block flex-1 border-0 bg-transparent py-1.5 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6">
                              </div>
                              <div class="mt-1 text-sm text-green-500"></div>
                              <ul x-show="users.showSuggestions"
                                  class="absolute mt-2 z-50 w-full max-h-72 p-1 space-y-0.5 bg-white rounded-lg overflow-hidden overflow-y-auto shadow-[0_10px_40px_10px_rgba(0,0,0,0.08)] dark:bg-neutral-900 top-full opened"
                                  tabindex="-1"
                                  role="listbox"
                                  aria-labelledby="listbox-label"
                                  aria-activedescendant="listbox-option-3">
                                <template x-for="item in users.items" hidden="">
                                  <li @click="users.onItemSelect(item)"
                                      class="rounded cursor-pointer hover:bg-gray-100 text-gray-900 cursor-default select-none relative py-2 pl-3 pr-9"
                                      id="listbox-option-0"
                                      role="option"
                                      @click="users.onItemSelect(item)">
                                      <div class="flex items-center">
                                        <div>
                                          <div class="text-sm font-semibold text-gray-800 dark:text-neutral-200" x-text="item.name"></div>
                                          <div class="text-xs text-gray-500 dark:text-neutral-500" x-text="item.description"></div></div><div class="ms-auto"><span class="hidden hs-selected:block"><svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z"></path></svg></span></div></div>
                                  </li>
                                </template>
                              </ul>
                            </div>
                          </div>
                          <!-- End Input Form -->
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
      
  
              </div>
          </div>

          <div class="col-span-full sm:ml-4" x-cloak x-show="isCriteriaSelected(4)">
            <label for="id_push_notification_title" class="block text-sm font-medium leading-6 text-gray-900">Select Batches</label>
            <div class="mt-2">
              <div class="">
                <ul class="flex flex-wrap gap-2 pr-[5rem] md:pr-[8rem] mt-2">
                  <template x-for="item in batches.selectedItems">
                    <span class="inline-flex items-center py-0.5 pl-2 pr-0.5 rounded-full text-xs font-medium bg-green-100 text-green-700 mb-2">
                      <span x-text="item.name"></span>
                      <button @click="batches.removeItem(item)"
                              type="button"
                              class="flex-shrink-0 ml-0.5 h-4 w-4 rounded-full inline-flex items-center justify-center text-green-400 hover:bg-green-200 hover:text-green-500 focus:outline-none focus:bg-green-500 focus:text-white">
                        <span class="sr-only">Remove small option</span>
                        <svg class="h-2 w-2" stroke="currentColor" fill="none" viewBox="0 0 8 8">
                          <path stroke-linecap="round" stroke-width="1.5" d="M1 1l6 6m0-6L1 7" />
                        </svg>
                      </button>
                    </span>
                  </template>
                </ul>
                <!-- Input Form -->
                <div class="flex items-center gap-x-3">
                  <!-- Select -->
                  <div class="space-y-2 relative w-full">
                    <!-- Input Form -->
                    <div>
                      <div @click.away="batches.showSuggestions=false">
                        <div @click="batches.showSuggestions=true" class="flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-green-600">
                          <input type="text" class="block flex-1 border-0 bg-transparent py-1.5 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6">
                        </div>
                        <div class="mt-1 text-sm text-green-500"></div>
                        <ul x-show="batches.showSuggestions"
                            class="absolute mt-2 z-50 w-full max-h-72 p-1 space-y-0.5 bg-white rounded-lg overflow-hidden overflow-y-auto shadow-[0_10px_40px_10px_rgba(0,0,0,0.08)] dark:bg-neutral-900 top-full opened"
                            tabindex="-1"
                            role="listbox"
                            aria-labelledby="listbox-label"
                            aria-activedescendant="listbox-option-3">
                          <template x-for="item in batches.items" hidden="">
                            <li @click="batches.onItemSelect(item)"
                                class="rounded cursor-pointer hover:bg-gray-100 text-gray-900 cursor-default select-none relative py-2 pl-3 pr-9"
                                id="listbox-option-0"
                                role="option"
                                @click="batches.onItemSelect(item)">
                                <div class="flex items-center">
                                  <div>
                                    <div class="text-sm font-semibold text-gray-800 dark:text-neutral-200" x-text="item.name"></div>
                                    <div class="text-xs text-gray-500 dark:text-neutral-500" x-text="item.description"></div></div><div class="ms-auto"><span class="hidden hs-selected:block"><svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z"></path></svg></span></div></div>
                            </li>
                          </template>
                        </ul>
                      </div>
                    </div>
                    <!-- End Input Form -->
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-span-full sm:ml-4" x-cloak x-show="isCriteriaSelected(2)">
            <label for="id_push_notification_title" class="block text-sm font-medium leading-6 text-gray-900">Select Products</label>
            <div class="mt-2">
              <div class="">
                <ul class="flex flex-wrap gap-2 pr-[5rem] md:pr-[8rem] mt-2">
                  <template x-for="item in products.selectedItems">
                    <span class="inline-flex items-center py-0.5 pl-2 pr-0.5 rounded-full text-xs font-medium bg-green-100 text-green-700 mb-2">
                      <span x-text="item.name"></span>
                      <button @click="products.removeItem(item)"
                              type="button"
                              class="flex-shrink-0 ml-0.5 h-4 w-4 rounded-full inline-flex items-center justify-center text-green-400 hover:bg-green-200 hover:text-green-500 focus:outline-none focus:bg-green-500 focus:text-white">
                        <span class="sr-only">Remove small option</span>
                        <svg class="h-2 w-2" stroke="currentColor" fill="none" viewBox="0 0 8 8">
                          <path stroke-linecap="round" stroke-width="1.5" d="M1 1l6 6m0-6L1 7" />
                        </svg>
                      </button>
                    </span>
                  </template>
                </ul>
                <!-- Input Form -->
                <div class="flex items-center gap-x-3">
                  <!-- Select -->
                  <div class="space-y-2 relative w-full">
                    <!-- Input Form -->
                    <div>
                      <div @click.away="products.showSuggestions=false">
                        <div @click="products.showSuggestions=true" class="flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-green-600">
                          <input type="text" class="block flex-1 border-0 bg-transparent py-1.5 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6">
                        </div>
                        <div class="mt-1 text-sm text-green-500"></div>
                        <ul x-show="products.showSuggestions"
                            class="absolute mt-2 z-50 w-full max-h-72 p-1 space-y-0.5 bg-white rounded-lg overflow-hidden overflow-y-auto shadow-[0_10px_40px_10px_rgba(0,0,0,0.08)] dark:bg-neutral-900 top-full opened"
                            tabindex="-1"
                            role="listbox"
                            aria-labelledby="listbox-label"
                            aria-activedescendant="listbox-option-3">
                          <template x-for="item in products.items" hidden="">
                            <li @click="products.onItemSelect(item)"
                                class="rounded cursor-pointer hover:bg-gray-100 text-gray-900 cursor-default select-none relative py-2 pl-3 pr-9"
                                id="listbox-option-0"
                                role="option"
                                @click="products.onItemSelect(item)">
                                <div class="flex items-center">
                                  <div>
                                    <div class="text-sm font-semibold text-gray-800 dark:text-neutral-200" x-text="item.name"></div>
                                    <div class="text-xs text-gray-500 dark:text-neutral-500" x-text="item.description"></div></div><div class="ms-auto"><span class="hidden hs-selected:block"><svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z"></path></svg></span></div></div>
                            </li>
                          </template>
                        </ul>
                      </div>
                    </div>
                    <!-- End Input Form -->
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-span-full sm:ml-4" x-cloak x-show="isCriteriaSelected(3)">
            <label for="id_push_notification_title" class="block text-sm font-medium leading-6 text-gray-900">Select Courses</label>
            <div class="mt-2">
              <div class="">
                <ul class="flex flex-wrap gap-2 pr-[5rem] md:pr-[8rem] mt-2">
                  <template x-for="item in courses.selectedItems">
                    <span class="inline-flex items-center py-0.5 pl-2 pr-0.5 rounded-full text-xs font-medium bg-green-100 text-green-700 mb-2">
                      <span x-text="item.name"></span>
                      <button @click="courses.removeItem(item)"
                              type="button"
                              class="flex-shrink-0 ml-0.5 h-4 w-4 rounded-full inline-flex items-center justify-center text-green-400 hover:bg-green-200 hover:text-green-500 focus:outline-none focus:bg-green-500 focus:text-white">
                        <span class="sr-only">Remove small option</span>
                        <svg class="h-2 w-2" stroke="currentColor" fill="none" viewBox="0 0 8 8">
                          <path stroke-linecap="round" stroke-width="1.5" d="M1 1l6 6m0-6L1 7" />
                        </svg>
                      </button>
                    </span>
                  </template>
                </ul>
                <!-- Input Form -->
                <div class="flex items-center gap-x-3">
                  <!-- Select -->
                  <div class="space-y-2 relative w-full">
                    <!-- Input Form -->
                    <div>
                      <div @click.away="courses.showSuggestions=false">
                        <div @click="courses.showSuggestions=true" class="flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-green-600">
                          <input type="text" class="block flex-1 border-0 bg-transparent py-1.5 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6">
                        </div>
                        <div class="mt-1 text-sm text-green-500"></div>
                        <ul x-show="courses.showSuggestions"
                            class="absolute mt-2 z-50 w-full max-h-72 p-1 space-y-0.5 bg-white rounded-lg overflow-hidden overflow-y-auto shadow-[0_10px_40px_10px_rgba(0,0,0,0.08)] dark:bg-neutral-900 top-full opened"
                            tabindex="-1"
                            role="listbox"
                            aria-labelledby="listbox-label"
                            aria-activedescendant="listbox-option-3">
                          <template x-for="item in courses.items" hidden="">
                            <li @click="courses.onItemSelect(item)"
                                class="rounded cursor-pointer hover:bg-gray-100 text-gray-900 cursor-default select-none relative py-2 pl-3 pr-9"
                                id="listbox-option-0"
                                role="option"
                                @click="courses.onItemSelect(item)">
                                <div class="flex items-center">
                                  <div>
                                    <div class="text-sm font-semibold text-gray-800 dark:text-neutral-200" x-text="item.name"></div>
                                    <div class="text-xs text-gray-500 dark:text-neutral-500" x-text="item.description"></div></div><div class="ms-auto"><span class="hidden hs-selected:block"><svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z"></path></svg></span></div></div>
                            </li>
                          </template>
                        </ul>
                      </div>
                    </div>
                    <!-- End Input Form -->
                  </div>
                </div>
              </div>
            </div>
          </div>
        </fieldset>

        <fieldset>
          <div class="sm:ml-3 space-y-6">
            <div class="col-span-full sm:ml-4">
              <label for="send_app_notification" class="text-sm font-medium leading-6 text-gray-900">Notification Content</label>
              <p class="mt-1 text-sm leading-6 text-gray-600">Notifications will be sent to users from selected criteria with the below content</p>
            </div>
            <div class="col-span-full sm:ml-4">
              <label for="id_push_notification_title" class="block text-sm font-medium leading-6 text-gray-900">Title</label>
              <div class="mt-2">
                <div class="flex rounded-md shadow-sm ring-1 ring-inset ring-gray-300 focus-within:ring-2 focus-within:ring-inset focus-within:ring-green-600">
                  <input type="text" class="block flex-1 border-0 bg-transparent py-1.5 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm sm:leading-6">
                </div>
              </div>
            </div>
  
            <div class="col-span-full sm:ml-4">
              <label for="about" class="block text-sm font-medium leading-6 text-gray-900">Summary</label>
              <div class="mt-2">                    
                <textarea class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-green-600 sm:text-sm sm:leading-6" rows="3"></textarea>
              </div>
              <p class="mt-3 text-sm leading-6 text-gray-600">Push notification can use the following placeholders: <span class="font-medium">organization_name</span></p>
            </div>
          </div>
        </fieldset>
      </div>
    </div>
  </div>

  <div class="mt-6 flex items-center justify-end gap-x-6">
    <a href="/custom_push_notification/" class="hover:cursor-pointer text-sm font-semibold leading-6 text-gray-900">Save template</a>
    <a href="/custom_push_notification/" class="hover:cursor-pointer rounded-md bg-green-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-green-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-green-600">Save and send notification</a>
  </div>
</form>