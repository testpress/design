<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Chat Interface</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="/css/learnlens-frontend.css">
    <script src="/node_modules/preline/dist/preline.js"></script>
</head>
<body>
    <div class="bg-gray-100 dark:bg-neutral-900 border border-gray-200 overflow-hidden shadow-sm dark:border-neutral-700">
    <div id="content" class="flex flex-col md:flex-row h-screen">
        <!-- PDF Viewer Section -->
        <div class="w-full md:w-1/2">
            <div class="flex-1 overflow-auto">
                <div class="h-full">
                    <div id="learnlens-pdf-chat">
                        PDF Viewer Area
                    </div>
                </div>
            </div>
        </div>
    
        <!-- Chat Panel Section -->
        <div class="relative w-full md:w-1/2 h-full flex flex-col justify-end">
            <!-- Chat Panel -->
<div class="relative w-full h-full flex flex-col justify-end">
  <header class="sticky top-0 inset-x-0 z-10 p-2 sm:px-4 flex justify-end items-center gap-x-2 bg-white border-b border-gray-200 dark:bg-neutral-800 dark:border-neutral-700">
    <div class="w-32 sm:w-auto flex justify-end items-center gap-x-0.5">
      <div class="hs-tooltip [--placement:bottom] hidden sm:inline-block">
        <button type="button" class="hs-tooltip-toggle flex justify-center items-center gap-x-3 size-8 text-sm text-gray-600 hover:bg-gray-100 rounded-full dark:text-neutral-400 dark:hover:bg-neutral-700">
          <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z" />
          </svg>
        </button>
      </div>
    </div>
  </header>
  <!-- Chat Messages Section -->
  <div class="h-full p-2 pb-8 sm:p-4 overflow-y-auto overflow-x-hidden flex-1">
    <div class="space-y-2">
      
      <!-- User Message -->
      <div class="text-start rounded-xl pt-2 pb-1.5 px-2.5 w-fit bg-emerald-100 dark:bg-emerald-500/20 ml-auto">
        <div class="text-sm text-gray-800 dark:text-neutral-200">
          what is genus?
        </div>       
      </div>

      <!-- AI Response -->
      <div class="text-start rounded-xl pt-2 pb-1.5 px-2.5 w-fit">
        <div class="text-sm text-gray-800 dark:text-neutral-200">
          Genus is a grouping of closely related species that share more similarities with each other than with species from other genera
          <!-- Citation Icons -->
          <span class="inline-flex gap-1 ml-1 align-middle">
            
            <svg
              class="shrink-0 size-3 inline-block ml-0.5 cursor-pointer text-emerald-600 dark:text-emerald-500"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
            >
              <title>1.3.2 Genus - Page 11</title>
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757
                   m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"
              />
            </svg>
            
            <svg
              class="shrink-0 size-3 inline-block ml-0.5 cursor-pointer text-emerald-600 dark:text-emerald-500"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
            >
              <title>1.3.2 Genus - Page 11</title>
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757
                   m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"
              />
            </svg>
            
          </span>
        </div>       
      </div>

      <!-- Copy Icon -->
      <div class="mt-1 flex items-center gap-x-1">
        <div class="group relative inline-block">
          <button type="button" class="flex justify-center items-center gap-x-3 size-7 text-sm text-gray-600 hover:bg-gray-200 rounded-md dark:text-neutral-400 dark:hover:bg-neutral-700 dark:focus:bg-neutral-700">
            <svg class="shrink-0 size-3.5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <rect width="14" height="14" x="8" y="8" rx="2" ry="2"/>
              <path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>
            </svg>
            <span class="sr-only">Copy text</span>
          </button>
        </div>
      </div>
      
      <!-- User Message -->
      <div class="text-start rounded-xl pt-2 pb-1.5 px-2.5 w-fit bg-emerald-100 dark:bg-emerald-500/20 ml-auto">
        <div class="text-sm text-gray-800 dark:text-neutral-200">
          what is species?
        </div>       
      </div>

      <!-- AI Response -->
      <div class="text-start rounded-xl pt-2 pb-1.5 px-2.5 w-fit">
        <div class="text-sm text-gray-800 dark:text-neutral-200">
          Species is a taxonomic category used to group individual organisms with fundamental similarities
          <!-- Citation Icons -->
          <span class="inline-flex gap-1 ml-1 align-middle">
            
            <svg
              class="shrink-0 size-3 inline-block ml-0.5 cursor-pointer text-emerald-600 dark:text-emerald-500"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
            >
              <title>1.3.1 Species - Page 11</title>
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757
                   m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"
              />
            </svg>
            
            <svg
              class="shrink-0 size-3 inline-block ml-0.5 cursor-pointer text-emerald-600 dark:text-emerald-500"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
            >
              <title>1.3.1 Species - Page 11</title>
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757
                   m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"
              />
            </svg>
            
          </span>
        </div>       
      </div>

      <!-- Copy Icon -->
      <div class="mt-1 flex items-center gap-x-1">
        <div class="group relative inline-block">
          <button type="button" class="flex justify-center items-center gap-x-3 size-7 text-sm text-gray-600 hover:bg-gray-200 rounded-md dark:text-neutral-400 dark:hover:bg-neutral-700 dark:focus:bg-neutral-700">
            <svg class="shrink-0 size-3.5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <rect width="14" height="14" x="8" y="8" rx="2" ry="2"/>
              <path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>
            </svg>
            <span class="sr-only">Copy text</span>
          </button>
        </div>
      </div>
      
    </div>
  </div>

  <!-- Chat Input -->
  <div class="bottom-0 max-w-4xl mx-auto p-3 sm:py-6 w-full z-10">
    <div class="relative border-gray-200 dark:border-neutral-700 border rounded-lg">
      <textarea 
        class="bg-white border-0 rounded-t-lg block dark:bg-neutral-800 dark:focus:ring-neutral-600 dark:placeholder-neutral-500 dark:text-neutral-400 leading-4 resize-none focus:outline-hidden focus:border-transparent focus:ring-0 p-3 pb-12 sm:p-4 sm:pb-12 sm:text-sm w-full" 
        placeholder="Ask me anything..."
      ></textarea>
      <div class="bg-white dark:bg-neutral-800 p-2 rounded-b-lg">
        <div class="flex flex-wrap justify-between items-center gap-2">
          <div class="flex items-center">
            <button type="button" class="inline-flex shrink-0 justify-center items-center size-8 rounded-lg text-gray-500 hover:bg-white dark:text-neutral-500 dark:hover:bg-neutral-700">
              <!-- Link Icon -->
              <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48"/>
              </svg>
            </button>
          </div>
          <div class="flex items-center gap-x-1">
            <button type="button" class="inline-flex shrink-0 justify-center items-center size-8 rounded-lg text-gray-500 hover:bg-white dark:text-neutral-500 dark:hover:bg-neutral-700">
              <!-- Mic Icon -->
              <svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"/>
                <path d="M19 10v2a7 7 0 0 1-14 0v-2"/>
                <line x1="12" x2="12" y1="19" y2="22"/>
              </svg>
            </button>
            <button type="button" class="inline-flex shrink-0 justify-center items-center size-8 rounded-lg text-white bg-emerald-600 hover:bg-emerald-500">
              <!-- Send Icon -->
              <svg class="shrink-0 size-3.5" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16">
                <path d="M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855l-.452.18a.5.5 0 0 0-.082.887l.41.26 4.995 3.178 3.178 4.995.26.41a.5.5 0 0 0 .886-.083l6-15Zm-1.833 1.89L6.637 10.07l-.215-.338a.5.5 0 0 0-.154-.154l-.338-.215 7.494-7.494 1.178-.471-.47 1.178Z"/>
              </svg>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>

        </div>
    </div>
</div>
    <script type="module">
        import "/js/pdfchat/index.es.js";
    
        document.addEventListener('DOMContentLoaded', function () {
            window.LearnLens.mountPdfViewer("learnlens-pdf-chat");
            // Initialize Preline after DOM is loaded
            if (typeof HSStaticMethods !== 'undefined') {
                HSStaticMethods.autoInit();
            }
        });
    </script>
</body>
</html>